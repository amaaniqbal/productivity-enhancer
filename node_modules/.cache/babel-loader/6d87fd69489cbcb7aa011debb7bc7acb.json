{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/layout.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _utils = require(\"./utils\");\n\nvar _min = Math.min;\nvar _max = Math.max;\nvar _round = Math.round;\nvar ALIGN_START = 0;\nvar ALIGN_MIDDLE = 1;\nvar ALIGN_END = 2;\nvar horizontalAlignmentMap = {\n  left: ALIGN_START,\n  center: ALIGN_MIDDLE,\n  right: ALIGN_END\n};\nvar verticalAlignmentMap = {\n  top: ALIGN_START,\n  center: ALIGN_MIDDLE,\n  bottom: ALIGN_END\n};\nvar sideMap = {\n  horizontal: 0,\n  vertical: 1\n};\nvar slicersMap = {};\nvar BBOX_CEIL_CORRECTION = 2;\n\nslicersMap[ALIGN_START] = function (a, b, size) {\n  return [a, _min(b, a + size)];\n};\n\nslicersMap[ALIGN_MIDDLE] = function (a, b, size) {\n  return [_max(a, (a + b - size) / 2), _min(b, (a + b + size) / 2)];\n};\n\nslicersMap[ALIGN_END] = function (a, b, size) {\n  return [_max(a, b - size), b];\n};\n\nfunction pickValue(value, map, defaultValue) {\n  var val = (0, _utils.normalizeEnum)(value);\n  return val in map ? map[val] : defaultValue;\n}\n\nfunction normalizeLayoutOptions(options) {\n  var side = pickValue(options.side, sideMap, 1);\n  var alignment = [pickValue(options.horizontalAlignment, horizontalAlignmentMap, ALIGN_MIDDLE), pickValue(options.verticalAlignment, verticalAlignmentMap, ALIGN_START)];\n  return {\n    side: side,\n    primary: bringToEdge(alignment[side]),\n    secondary: alignment[1 - side],\n    weak: options.weak,\n    priority: options.priority || 0,\n    header: options.header,\n    position: options.position\n  };\n}\n\nfunction bringToEdge(primary) {\n  return primary < 2 ? 0 : 2;\n}\n\nfunction getConjugateSide(side) {\n  return 1 - side;\n}\n\nfunction getSlice(alignment, a, b, size) {\n  return slicersMap[alignment](a, b, size);\n}\n\nfunction getShrink(alignment, size) {\n  return (alignment > 0 ? -1 : 1) * size;\n}\n\nfunction processForward(item, rect, minSize) {\n  var side = item.side;\n  var size = item.element.measure([rect[2] - rect[0], rect[3] - rect[1]]);\n  var minSide = \"indside\" === item.position ? 0 : minSize[side];\n  var isValid = size[side] < rect[2 + side] - rect[side] - minSide;\n\n  if (isValid) {\n    if (\"inside\" !== item.position) {\n      rect[item.primary + side] += getShrink(item.primary, size[side]);\n    }\n\n    item.size = size;\n  }\n\n  return isValid;\n}\n\nfunction processRectBackward(item, rect, alignmentRect) {\n  var primarySide = item.side;\n  var secondarySide = getConjugateSide(primarySide);\n  var itemRect = [];\n  var secondary = getSlice(item.secondary, alignmentRect[secondarySide], alignmentRect[2 + secondarySide], item.size[secondarySide]);\n  itemRect[primarySide] = _round(itemRect[2 + primarySide] = rect[item.primary + primarySide] + (\"inside\" === item.position ? getShrink(item.primary, item.size[primarySide]) : 0));\n  itemRect[item.primary + primarySide] = _round(rect[item.primary + primarySide] - getShrink(item.primary, item.size[primarySide]));\n\n  if (\"inside\" !== item.position) {\n    rect[item.primary + primarySide] = itemRect[item.primary + primarySide];\n  }\n\n  itemRect[secondarySide] = _round(secondary[0]);\n  itemRect[2 + secondarySide] = _round(secondary[1]);\n  return itemRect;\n}\n\nfunction processBackward(item, rect, alignmentRect, fitRect, size, targetRect) {\n  var itemRect = processRectBackward(item, rect, alignmentRect);\n  var itemFitRect = processRectBackward(item, fitRect, fitRect);\n\n  if (size[item.side] > 0) {\n    size[item.side] -= item.size[item.side];\n    targetRect[item.primary + item.side] = itemRect[item.primary + item.side];\n    item.element.freeSpace();\n  } else {\n    item.element.move(itemRect, itemFitRect);\n  }\n}\n\nfunction Layout() {\n  this._targets = [];\n}\n\nLayout.prototype = {\n  constructor: Layout,\n  dispose: function () {\n    this._targets = null;\n  },\n  add: function (target) {\n    this._targets.push(target);\n  },\n  forward: function (targetRect, minSize) {\n    var rect = targetRect.slice();\n    var targets = createTargets(this._targets);\n    var i;\n    var ii = targets.length;\n    var cache = [];\n\n    for (i = 0; i < ii; ++i) {\n      if (processForward(targets[i], rect, minSize)) {\n        cache.push(targets[i]);\n      } else {\n        targets[i].element.freeSpace();\n      }\n    }\n\n    this._cache = cache.reverse();\n    return rect;\n  },\n  backward: function (targetRect, alignmentRect) {\n    var size = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [0, 0];\n    var backwardRect = targetRect.slice();\n    var fitRect = targetRect.slice();\n    var targets = this._cache;\n    var targetSide = 0;\n    var target;\n    var i;\n    var ii = targets.length;\n\n    for (i = 0; i < ii; ++i) {\n      target = targets[i];\n\n      if (target.side !== targetSide) {\n        backwardRect = targetRect.slice();\n      }\n\n      processBackward(target, backwardRect, alignmentRect, fitRect, size, targetRect);\n      targetSide = target.side;\n    }\n\n    return size;\n  }\n};\n\nfunction createTargets(targets) {\n  var i;\n  var ii = targets.length;\n  var collection = [];\n  var layout;\n\n  for (i = 0; i < ii; ++i) {\n    layout = targets[i].layoutOptions();\n\n    if (layout) {\n      layout = normalizeLayoutOptions(layout);\n      layout.element = targets[i];\n      collection.push(layout);\n    }\n  }\n\n  collection.sort(function (a, b) {\n    return b.side - a.side || a.priority - b.priority;\n  });\n  collection = processWeakItems(collection);\n  return collection;\n}\n\nfunction processWeakItems(collection) {\n  var weakItem = collection.filter(function (item) {\n    return true === item.weak;\n  })[0];\n  var headerItem;\n\n  if (weakItem) {\n    headerItem = collection.filter(function (item) {\n      return weakItem.primary === item.primary && item.side === weakItem.side && item !== weakItem;\n    })[0];\n  }\n\n  if (weakItem && headerItem) {\n    return [makeHeader(headerItem, weakItem)].concat(collection.filter(function (item) {\n      return !(item === headerItem || item === weakItem);\n    }));\n  }\n\n  return collection;\n}\n\nfunction processBackwardHeaderRect(element, rect) {\n  var rectCopy = rect.slice();\n  var itemRect = processRectBackward(element, rectCopy, rectCopy);\n  itemRect[element.side] = rect[element.side];\n  itemRect[2 + element.side] = rect[2 + element.side];\n  return itemRect;\n}\n\nfunction makeHeader(header, weakElement) {\n  var side = header.side;\n  var primary = header.primary;\n  var secondary = header.secondary;\n  return {\n    side: side,\n    primary: primary,\n    secondary: secondary,\n    priority: 0,\n    element: {\n      measure: function (targetSize) {\n        var result = targetSize.slice();\n        var weakSize = weakElement.element.measure(targetSize.slice());\n        targetSize[primary] -= weakSize[primary];\n        var headerSize = header.element.measure(targetSize.slice());\n        result[side] = weakSize[side] = headerSize[side] = Math.max(headerSize[side], weakSize[side]);\n        weakElement.size = weakSize;\n        header.size = headerSize;\n        return result;\n      },\n      move: function (rect, fitRect) {\n        if (fitRect[2] - fitRect[0] < header.size[0] + weakElement.size[0] - BBOX_CEIL_CORRECTION) {\n          this.freeSpace();\n          return;\n        }\n\n        var weakRect = processBackwardHeaderRect(weakElement, fitRect, fitRect);\n        fitRect[2 + weakElement.primary] = weakRect[weakElement.primary];\n        var headerFitReact = processBackwardHeaderRect(header, fitRect, fitRect);\n\n        if (fitRect[2 + weakElement.primary] < rect[2 + weakElement.primary] && header.size[header.primary] > rect[2 + header.primary] - rect[header.primary]) {\n          rect[2 + weakElement.primary] = fitRect[2 + weakElement.primary];\n        }\n\n        var headerRect = processBackwardHeaderRect(header, rect, rect);\n\n        if (headerRect[2 + weakElement.primary] > fitRect[2 + weakElement.primary]) {\n          rect[2 + weakElement.primary] = fitRect[2 + weakElement.primary];\n          headerRect = processBackwardHeaderRect(header, rect, rect);\n        }\n\n        weakElement.element.move(weakRect);\n        header.element.move(headerRect, headerFitReact);\n      },\n      freeSpace: function () {\n        header.element.freeSpace();\n        weakElement.element.freeSpace();\n      }\n    }\n  };\n}\n\nvar _default = Layout;\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/Monday.com/quickstart-react/node_modules/devextreme/viz/core/layout.js"],"names":["exports","default","_utils","require","_min","Math","min","_max","max","_round","round","ALIGN_START","ALIGN_MIDDLE","ALIGN_END","horizontalAlignmentMap","left","center","right","verticalAlignmentMap","top","bottom","sideMap","horizontal","vertical","slicersMap","BBOX_CEIL_CORRECTION","a","b","size","pickValue","value","map","defaultValue","val","normalizeEnum","normalizeLayoutOptions","options","side","alignment","horizontalAlignment","verticalAlignment","primary","bringToEdge","secondary","weak","priority","header","position","getConjugateSide","getSlice","getShrink","processForward","item","rect","minSize","element","measure","minSide","isValid","processRectBackward","alignmentRect","primarySide","secondarySide","itemRect","processBackward","fitRect","targetRect","itemFitRect","freeSpace","move","Layout","_targets","prototype","constructor","dispose","add","target","push","forward","slice","targets","createTargets","i","ii","length","cache","_cache","reverse","backward","arguments","backwardRect","targetSide","collection","layout","layoutOptions","sort","processWeakItems","weakItem","filter","headerItem","makeHeader","concat","processBackwardHeaderRect","rectCopy","weakElement","targetSize","result","weakSize","headerSize","weakRect","headerFitReact","headerRect","_default","module"],"mappings":"AAAA;;;;;;;;AAQA;;AACAA,OAAO,CAACC,OAAR,GAAkB,KAAK,CAAvB;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAAC,SAAD,CAApB;;AACA,IAAIC,IAAI,GAAGC,IAAI,CAACC,GAAhB;AACA,IAAIC,IAAI,GAAGF,IAAI,CAACG,GAAhB;AACA,IAAIC,MAAM,GAAGJ,IAAI,CAACK,KAAlB;AACA,IAAIC,WAAW,GAAG,CAAlB;AACA,IAAIC,YAAY,GAAG,CAAnB;AACA,IAAIC,SAAS,GAAG,CAAhB;AACA,IAAIC,sBAAsB,GAAG;AACzBC,EAAAA,IAAI,EAAEJ,WADmB;AAEzBK,EAAAA,MAAM,EAAEJ,YAFiB;AAGzBK,EAAAA,KAAK,EAAEJ;AAHkB,CAA7B;AAKA,IAAIK,oBAAoB,GAAG;AACvBC,EAAAA,GAAG,EAAER,WADkB;AAEvBK,EAAAA,MAAM,EAAEJ,YAFe;AAGvBQ,EAAAA,MAAM,EAAEP;AAHe,CAA3B;AAKA,IAAIQ,OAAO,GAAG;AACVC,EAAAA,UAAU,EAAE,CADF;AAEVC,EAAAA,QAAQ,EAAE;AAFA,CAAd;AAIA,IAAIC,UAAU,GAAG,EAAjB;AACA,IAAIC,oBAAoB,GAAG,CAA3B;;AACAD,UAAU,CAACb,WAAD,CAAV,GAA0B,UAASe,CAAT,EAAYC,CAAZ,EAAeC,IAAf,EAAqB;AAC3C,SAAO,CAACF,CAAD,EAAItB,IAAI,CAACuB,CAAD,EAAID,CAAC,GAAGE,IAAR,CAAR,CAAP;AACH,CAFD;;AAGAJ,UAAU,CAACZ,YAAD,CAAV,GAA2B,UAASc,CAAT,EAAYC,CAAZ,EAAeC,IAAf,EAAqB;AAC5C,SAAO,CAACrB,IAAI,CAACmB,CAAD,EAAI,CAACA,CAAC,GAAGC,CAAJ,GAAQC,IAAT,IAAiB,CAArB,CAAL,EAA8BxB,IAAI,CAACuB,CAAD,EAAI,CAACD,CAAC,GAAGC,CAAJ,GAAQC,IAAT,IAAiB,CAArB,CAAlC,CAAP;AACH,CAFD;;AAGAJ,UAAU,CAACX,SAAD,CAAV,GAAwB,UAASa,CAAT,EAAYC,CAAZ,EAAeC,IAAf,EAAqB;AACzC,SAAO,CAACrB,IAAI,CAACmB,CAAD,EAAIC,CAAC,GAAGC,IAAR,CAAL,EAAoBD,CAApB,CAAP;AACH,CAFD;;AAIA,SAASE,SAAT,CAAmBC,KAAnB,EAA0BC,GAA1B,EAA+BC,YAA/B,EAA6C;AACzC,MAAIC,GAAG,GAAG,CAAC,GAAG/B,MAAM,CAACgC,aAAX,EAA0BJ,KAA1B,CAAV;AACA,SAAOG,GAAG,IAAIF,GAAP,GAAaA,GAAG,CAACE,GAAD,CAAhB,GAAwBD,YAA/B;AACH;;AAED,SAASG,sBAAT,CAAgCC,OAAhC,EAAyC;AACrC,MAAIC,IAAI,GAAGR,SAAS,CAACO,OAAO,CAACC,IAAT,EAAehB,OAAf,EAAwB,CAAxB,CAApB;AACA,MAAIiB,SAAS,GAAG,CAACT,SAAS,CAACO,OAAO,CAACG,mBAAT,EAA8BzB,sBAA9B,EAAsDF,YAAtD,CAAV,EAA+EiB,SAAS,CAACO,OAAO,CAACI,iBAAT,EAA4BtB,oBAA5B,EAAkDP,WAAlD,CAAxF,CAAhB;AACA,SAAO;AACH0B,IAAAA,IAAI,EAAEA,IADH;AAEHI,IAAAA,OAAO,EAAEC,WAAW,CAACJ,SAAS,CAACD,IAAD,CAAV,CAFjB;AAGHM,IAAAA,SAAS,EAAEL,SAAS,CAAC,IAAID,IAAL,CAHjB;AAIHO,IAAAA,IAAI,EAAER,OAAO,CAACQ,IAJX;AAKHC,IAAAA,QAAQ,EAAET,OAAO,CAACS,QAAR,IAAoB,CAL3B;AAMHC,IAAAA,MAAM,EAAEV,OAAO,CAACU,MANb;AAOHC,IAAAA,QAAQ,EAAEX,OAAO,CAACW;AAPf,GAAP;AASH;;AAED,SAASL,WAAT,CAAqBD,OAArB,EAA8B;AAC1B,SAAOA,OAAO,GAAG,CAAV,GAAc,CAAd,GAAkB,CAAzB;AACH;;AAED,SAASO,gBAAT,CAA0BX,IAA1B,EAAgC;AAC5B,SAAO,IAAIA,IAAX;AACH;;AAED,SAASY,QAAT,CAAkBX,SAAlB,EAA6BZ,CAA7B,EAAgCC,CAAhC,EAAmCC,IAAnC,EAAyC;AACrC,SAAOJ,UAAU,CAACc,SAAD,CAAV,CAAsBZ,CAAtB,EAAyBC,CAAzB,EAA4BC,IAA5B,CAAP;AACH;;AAED,SAASsB,SAAT,CAAmBZ,SAAnB,EAA8BV,IAA9B,EAAoC;AAChC,SAAO,CAACU,SAAS,GAAG,CAAZ,GAAgB,CAAC,CAAjB,GAAqB,CAAtB,IAA2BV,IAAlC;AACH;;AAED,SAASuB,cAAT,CAAwBC,IAAxB,EAA8BC,IAA9B,EAAoCC,OAApC,EAA6C;AACzC,MAAIjB,IAAI,GAAGe,IAAI,CAACf,IAAhB;AACA,MAAIT,IAAI,GAAGwB,IAAI,CAACG,OAAL,CAAaC,OAAb,CAAqB,CAACH,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAf,EAAoBA,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAlC,CAArB,CAAX;AACA,MAAII,OAAO,GAAG,cAAcL,IAAI,CAACL,QAAnB,GAA8B,CAA9B,GAAkCO,OAAO,CAACjB,IAAD,CAAvD;AACA,MAAIqB,OAAO,GAAG9B,IAAI,CAACS,IAAD,CAAJ,GAAagB,IAAI,CAAC,IAAIhB,IAAL,CAAJ,GAAiBgB,IAAI,CAAChB,IAAD,CAArB,GAA8BoB,OAAzD;;AACA,MAAIC,OAAJ,EAAa;AACT,QAAI,aAAaN,IAAI,CAACL,QAAtB,EAAgC;AAC5BM,MAAAA,IAAI,CAACD,IAAI,CAACX,OAAL,GAAeJ,IAAhB,CAAJ,IAA6Ba,SAAS,CAACE,IAAI,CAACX,OAAN,EAAeb,IAAI,CAACS,IAAD,CAAnB,CAAtC;AACH;;AACDe,IAAAA,IAAI,CAACxB,IAAL,GAAYA,IAAZ;AACH;;AACD,SAAO8B,OAAP;AACH;;AAED,SAASC,mBAAT,CAA6BP,IAA7B,EAAmCC,IAAnC,EAAyCO,aAAzC,EAAwD;AACpD,MAAIC,WAAW,GAAGT,IAAI,CAACf,IAAvB;AACA,MAAIyB,aAAa,GAAGd,gBAAgB,CAACa,WAAD,CAApC;AACA,MAAIE,QAAQ,GAAG,EAAf;AACA,MAAIpB,SAAS,GAAGM,QAAQ,CAACG,IAAI,CAACT,SAAN,EAAiBiB,aAAa,CAACE,aAAD,CAA9B,EAA+CF,aAAa,CAAC,IAAIE,aAAL,CAA5D,EAAiFV,IAAI,CAACxB,IAAL,CAAUkC,aAAV,CAAjF,CAAxB;AACAC,EAAAA,QAAQ,CAACF,WAAD,CAAR,GAAwBpD,MAAM,CAACsD,QAAQ,CAAC,IAAIF,WAAL,CAAR,GAA4BR,IAAI,CAACD,IAAI,CAACX,OAAL,GAAeoB,WAAhB,CAAJ,IAAoC,aAAaT,IAAI,CAACL,QAAlB,GAA6BG,SAAS,CAACE,IAAI,CAACX,OAAN,EAAeW,IAAI,CAACxB,IAAL,CAAUiC,WAAV,CAAf,CAAtC,GAA+E,CAAnH,CAA7B,CAA9B;AACAE,EAAAA,QAAQ,CAACX,IAAI,CAACX,OAAL,GAAeoB,WAAhB,CAAR,GAAuCpD,MAAM,CAAC4C,IAAI,CAACD,IAAI,CAACX,OAAL,GAAeoB,WAAhB,CAAJ,GAAmCX,SAAS,CAACE,IAAI,CAACX,OAAN,EAAeW,IAAI,CAACxB,IAAL,CAAUiC,WAAV,CAAf,CAA7C,CAA7C;;AACA,MAAI,aAAaT,IAAI,CAACL,QAAtB,EAAgC;AAC5BM,IAAAA,IAAI,CAACD,IAAI,CAACX,OAAL,GAAeoB,WAAhB,CAAJ,GAAmCE,QAAQ,CAACX,IAAI,CAACX,OAAL,GAAeoB,WAAhB,CAA3C;AACH;;AACDE,EAAAA,QAAQ,CAACD,aAAD,CAAR,GAA0BrD,MAAM,CAACkC,SAAS,CAAC,CAAD,CAAV,CAAhC;AACAoB,EAAAA,QAAQ,CAAC,IAAID,aAAL,CAAR,GAA8BrD,MAAM,CAACkC,SAAS,CAAC,CAAD,CAAV,CAApC;AACA,SAAOoB,QAAP;AACH;;AAED,SAASC,eAAT,CAAyBZ,IAAzB,EAA+BC,IAA/B,EAAqCO,aAArC,EAAoDK,OAApD,EAA6DrC,IAA7D,EAAmEsC,UAAnE,EAA+E;AAC3E,MAAIH,QAAQ,GAAGJ,mBAAmB,CAACP,IAAD,EAAOC,IAAP,EAAaO,aAAb,CAAlC;AACA,MAAIO,WAAW,GAAGR,mBAAmB,CAACP,IAAD,EAAOa,OAAP,EAAgBA,OAAhB,CAArC;;AACA,MAAIrC,IAAI,CAACwB,IAAI,CAACf,IAAN,CAAJ,GAAkB,CAAtB,EAAyB;AACrBT,IAAAA,IAAI,CAACwB,IAAI,CAACf,IAAN,CAAJ,IAAmBe,IAAI,CAACxB,IAAL,CAAUwB,IAAI,CAACf,IAAf,CAAnB;AACA6B,IAAAA,UAAU,CAACd,IAAI,CAACX,OAAL,GAAeW,IAAI,CAACf,IAArB,CAAV,GAAuC0B,QAAQ,CAACX,IAAI,CAACX,OAAL,GAAeW,IAAI,CAACf,IAArB,CAA/C;AACAe,IAAAA,IAAI,CAACG,OAAL,CAAaa,SAAb;AACH,GAJD,MAIO;AACHhB,IAAAA,IAAI,CAACG,OAAL,CAAac,IAAb,CAAkBN,QAAlB,EAA4BI,WAA5B;AACH;AACJ;;AAED,SAASG,MAAT,GAAkB;AACd,OAAKC,QAAL,GAAgB,EAAhB;AACH;;AACDD,MAAM,CAACE,SAAP,GAAmB;AACfC,EAAAA,WAAW,EAAEH,MADE;AAEfI,EAAAA,OAAO,EAAE,YAAW;AAChB,SAAKH,QAAL,GAAgB,IAAhB;AACH,GAJc;AAKfI,EAAAA,GAAG,EAAE,UAASC,MAAT,EAAiB;AAClB,SAAKL,QAAL,CAAcM,IAAd,CAAmBD,MAAnB;AACH,GAPc;AAQfE,EAAAA,OAAO,EAAE,UAASZ,UAAT,EAAqBZ,OAArB,EAA8B;AACnC,QAAID,IAAI,GAAGa,UAAU,CAACa,KAAX,EAAX;AACA,QAAIC,OAAO,GAAGC,aAAa,CAAC,KAAKV,QAAN,CAA3B;AACA,QAAIW,CAAJ;AACA,QAAIC,EAAE,GAAGH,OAAO,CAACI,MAAjB;AACA,QAAIC,KAAK,GAAG,EAAZ;;AACA,SAAKH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGC,EAAhB,EAAoB,EAAED,CAAtB,EAAyB;AACrB,UAAI/B,cAAc,CAAC6B,OAAO,CAACE,CAAD,CAAR,EAAa7B,IAAb,EAAmBC,OAAnB,CAAlB,EAA+C;AAC3C+B,QAAAA,KAAK,CAACR,IAAN,CAAWG,OAAO,CAACE,CAAD,CAAlB;AACH,OAFD,MAEO;AACHF,QAAAA,OAAO,CAACE,CAAD,CAAP,CAAW3B,OAAX,CAAmBa,SAAnB;AACH;AACJ;;AACD,SAAKkB,MAAL,GAAcD,KAAK,CAACE,OAAN,EAAd;AACA,WAAOlC,IAAP;AACH,GAvBc;AAwBfmC,EAAAA,QAAQ,EAAE,UAAStB,UAAT,EAAqBN,aAArB,EAAoC;AAC1C,QAAIhC,IAAI,GAAG6D,SAAS,CAACL,MAAV,GAAmB,CAAnB,IAAwB,KAAK,CAAL,KAAWK,SAAS,CAAC,CAAD,CAA5C,GAAkDA,SAAS,CAAC,CAAD,CAA3D,GAAiE,CAAC,CAAD,EAAI,CAAJ,CAA5E;AACA,QAAIC,YAAY,GAAGxB,UAAU,CAACa,KAAX,EAAnB;AACA,QAAId,OAAO,GAAGC,UAAU,CAACa,KAAX,EAAd;AACA,QAAIC,OAAO,GAAG,KAAKM,MAAnB;AACA,QAAIK,UAAU,GAAG,CAAjB;AACA,QAAIf,MAAJ;AACA,QAAIM,CAAJ;AACA,QAAIC,EAAE,GAAGH,OAAO,CAACI,MAAjB;;AACA,SAAKF,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGC,EAAhB,EAAoB,EAAED,CAAtB,EAAyB;AACrBN,MAAAA,MAAM,GAAGI,OAAO,CAACE,CAAD,CAAhB;;AACA,UAAIN,MAAM,CAACvC,IAAP,KAAgBsD,UAApB,EAAgC;AAC5BD,QAAAA,YAAY,GAAGxB,UAAU,CAACa,KAAX,EAAf;AACH;;AACDf,MAAAA,eAAe,CAACY,MAAD,EAASc,YAAT,EAAuB9B,aAAvB,EAAsCK,OAAtC,EAA+CrC,IAA/C,EAAqDsC,UAArD,CAAf;AACAyB,MAAAA,UAAU,GAAGf,MAAM,CAACvC,IAApB;AACH;;AACD,WAAOT,IAAP;AACH;AA1Cc,CAAnB;;AA6CA,SAASqD,aAAT,CAAuBD,OAAvB,EAAgC;AAC5B,MAAIE,CAAJ;AACA,MAAIC,EAAE,GAAGH,OAAO,CAACI,MAAjB;AACA,MAAIQ,UAAU,GAAG,EAAjB;AACA,MAAIC,MAAJ;;AACA,OAAKX,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGC,EAAhB,EAAoB,EAAED,CAAtB,EAAyB;AACrBW,IAAAA,MAAM,GAAGb,OAAO,CAACE,CAAD,CAAP,CAAWY,aAAX,EAAT;;AACA,QAAID,MAAJ,EAAY;AACRA,MAAAA,MAAM,GAAG1D,sBAAsB,CAAC0D,MAAD,CAA/B;AACAA,MAAAA,MAAM,CAACtC,OAAP,GAAiByB,OAAO,CAACE,CAAD,CAAxB;AACAU,MAAAA,UAAU,CAACf,IAAX,CAAgBgB,MAAhB;AACH;AACJ;;AACDD,EAAAA,UAAU,CAACG,IAAX,CAAgB,UAASrE,CAAT,EAAYC,CAAZ,EAAe;AAC3B,WAAOA,CAAC,CAACU,IAAF,GAASX,CAAC,CAACW,IAAX,IAAmBX,CAAC,CAACmB,QAAF,GAAalB,CAAC,CAACkB,QAAzC;AACH,GAFD;AAGA+C,EAAAA,UAAU,GAAGI,gBAAgB,CAACJ,UAAD,CAA7B;AACA,SAAOA,UAAP;AACH;;AAED,SAASI,gBAAT,CAA0BJ,UAA1B,EAAsC;AAClC,MAAIK,QAAQ,GAAGL,UAAU,CAACM,MAAX,CAAkB,UAAS9C,IAAT,EAAe;AAC5C,WAAO,SAASA,IAAI,CAACR,IAArB;AACH,GAFc,EAEZ,CAFY,CAAf;AAGA,MAAIuD,UAAJ;;AACA,MAAIF,QAAJ,EAAc;AACVE,IAAAA,UAAU,GAAGP,UAAU,CAACM,MAAX,CAAkB,UAAS9C,IAAT,EAAe;AAC1C,aAAO6C,QAAQ,CAACxD,OAAT,KAAqBW,IAAI,CAACX,OAA1B,IAAqCW,IAAI,CAACf,IAAL,KAAc4D,QAAQ,CAAC5D,IAA5D,IAAoEe,IAAI,KAAK6C,QAApF;AACH,KAFY,EAEV,CAFU,CAAb;AAGH;;AACD,MAAIA,QAAQ,IAAIE,UAAhB,EAA4B;AACxB,WAAO,CAACC,UAAU,CAACD,UAAD,EAAaF,QAAb,CAAX,EAAmCI,MAAnC,CAA0CT,UAAU,CAACM,MAAX,CAAkB,UAAS9C,IAAT,EAAe;AAC9E,aAAO,EAAEA,IAAI,KAAK+C,UAAT,IAAuB/C,IAAI,KAAK6C,QAAlC,CAAP;AACH,KAFgD,CAA1C,CAAP;AAGH;;AACD,SAAOL,UAAP;AACH;;AAED,SAASU,yBAAT,CAAmC/C,OAAnC,EAA4CF,IAA5C,EAAkD;AAC9C,MAAIkD,QAAQ,GAAGlD,IAAI,CAAC0B,KAAL,EAAf;AACA,MAAIhB,QAAQ,GAAGJ,mBAAmB,CAACJ,OAAD,EAAUgD,QAAV,EAAoBA,QAApB,CAAlC;AACAxC,EAAAA,QAAQ,CAACR,OAAO,CAAClB,IAAT,CAAR,GAAyBgB,IAAI,CAACE,OAAO,CAAClB,IAAT,CAA7B;AACA0B,EAAAA,QAAQ,CAAC,IAAIR,OAAO,CAAClB,IAAb,CAAR,GAA6BgB,IAAI,CAAC,IAAIE,OAAO,CAAClB,IAAb,CAAjC;AACA,SAAO0B,QAAP;AACH;;AAED,SAASqC,UAAT,CAAoBtD,MAApB,EAA4B0D,WAA5B,EAAyC;AACrC,MAAInE,IAAI,GAAGS,MAAM,CAACT,IAAlB;AACA,MAAII,OAAO,GAAGK,MAAM,CAACL,OAArB;AACA,MAAIE,SAAS,GAAGG,MAAM,CAACH,SAAvB;AACA,SAAO;AACHN,IAAAA,IAAI,EAAEA,IADH;AAEHI,IAAAA,OAAO,EAAEA,OAFN;AAGHE,IAAAA,SAAS,EAAEA,SAHR;AAIHE,IAAAA,QAAQ,EAAE,CAJP;AAKHU,IAAAA,OAAO,EAAE;AACLC,MAAAA,OAAO,EAAE,UAASiD,UAAT,EAAqB;AAC1B,YAAIC,MAAM,GAAGD,UAAU,CAAC1B,KAAX,EAAb;AACA,YAAI4B,QAAQ,GAAGH,WAAW,CAACjD,OAAZ,CAAoBC,OAApB,CAA4BiD,UAAU,CAAC1B,KAAX,EAA5B,CAAf;AACA0B,QAAAA,UAAU,CAAChE,OAAD,CAAV,IAAuBkE,QAAQ,CAAClE,OAAD,CAA/B;AACA,YAAImE,UAAU,GAAG9D,MAAM,CAACS,OAAP,CAAeC,OAAf,CAAuBiD,UAAU,CAAC1B,KAAX,EAAvB,CAAjB;AACA2B,QAAAA,MAAM,CAACrE,IAAD,CAAN,GAAesE,QAAQ,CAACtE,IAAD,CAAR,GAAiBuE,UAAU,CAACvE,IAAD,CAAV,GAAmBhC,IAAI,CAACG,GAAL,CAASoG,UAAU,CAACvE,IAAD,CAAnB,EAA2BsE,QAAQ,CAACtE,IAAD,CAAnC,CAAnD;AACAmE,QAAAA,WAAW,CAAC5E,IAAZ,GAAmB+E,QAAnB;AACA7D,QAAAA,MAAM,CAAClB,IAAP,GAAcgF,UAAd;AACA,eAAOF,MAAP;AACH,OAVI;AAWLrC,MAAAA,IAAI,EAAE,UAAShB,IAAT,EAAeY,OAAf,EAAwB;AAC1B,YAAIA,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAApB,GAA0BnB,MAAM,CAAClB,IAAP,CAAY,CAAZ,IAAiB4E,WAAW,CAAC5E,IAAZ,CAAiB,CAAjB,CAAjB,GAAuCH,oBAArE,EAA2F;AACvF,eAAK2C,SAAL;AACA;AACH;;AACD,YAAIyC,QAAQ,GAAGP,yBAAyB,CAACE,WAAD,EAAcvC,OAAd,EAAuBA,OAAvB,CAAxC;AACAA,QAAAA,OAAO,CAAC,IAAIuC,WAAW,CAAC/D,OAAjB,CAAP,GAAmCoE,QAAQ,CAACL,WAAW,CAAC/D,OAAb,CAA3C;AACA,YAAIqE,cAAc,GAAGR,yBAAyB,CAACxD,MAAD,EAASmB,OAAT,EAAkBA,OAAlB,CAA9C;;AACA,YAAIA,OAAO,CAAC,IAAIuC,WAAW,CAAC/D,OAAjB,CAAP,GAAmCY,IAAI,CAAC,IAAImD,WAAW,CAAC/D,OAAjB,CAAvC,IAAoEK,MAAM,CAAClB,IAAP,CAAYkB,MAAM,CAACL,OAAnB,IAA8BY,IAAI,CAAC,IAAIP,MAAM,CAACL,OAAZ,CAAJ,GAA2BY,IAAI,CAACP,MAAM,CAACL,OAAR,CAArI,EAAuJ;AACnJY,UAAAA,IAAI,CAAC,IAAImD,WAAW,CAAC/D,OAAjB,CAAJ,GAAgCwB,OAAO,CAAC,IAAIuC,WAAW,CAAC/D,OAAjB,CAAvC;AACH;;AACD,YAAIsE,UAAU,GAAGT,yBAAyB,CAACxD,MAAD,EAASO,IAAT,EAAeA,IAAf,CAA1C;;AACA,YAAI0D,UAAU,CAAC,IAAIP,WAAW,CAAC/D,OAAjB,CAAV,GAAsCwB,OAAO,CAAC,IAAIuC,WAAW,CAAC/D,OAAjB,CAAjD,EAA4E;AACxEY,UAAAA,IAAI,CAAC,IAAImD,WAAW,CAAC/D,OAAjB,CAAJ,GAAgCwB,OAAO,CAAC,IAAIuC,WAAW,CAAC/D,OAAjB,CAAvC;AACAsE,UAAAA,UAAU,GAAGT,yBAAyB,CAACxD,MAAD,EAASO,IAAT,EAAeA,IAAf,CAAtC;AACH;;AACDmD,QAAAA,WAAW,CAACjD,OAAZ,CAAoBc,IAApB,CAAyBwC,QAAzB;AACA/D,QAAAA,MAAM,CAACS,OAAP,CAAec,IAAf,CAAoB0C,UAApB,EAAgCD,cAAhC;AACH,OA7BI;AA8BL1C,MAAAA,SAAS,EAAE,YAAW;AAClBtB,QAAAA,MAAM,CAACS,OAAP,CAAea,SAAf;AACAoC,QAAAA,WAAW,CAACjD,OAAZ,CAAoBa,SAApB;AACH;AAjCI;AALN,GAAP;AAyCH;;AACD,IAAI4C,QAAQ,GAAG1C,MAAf;AACAtE,OAAO,CAACC,OAAR,GAAkB+G,QAAlB;AACAC,MAAM,CAACjH,OAAP,GAAiBA,OAAO,CAACC,OAAzB","sourcesContent":["/**\r\n * DevExtreme (viz/core/layout.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _utils = require(\"./utils\");\r\nvar _min = Math.min;\r\nvar _max = Math.max;\r\nvar _round = Math.round;\r\nvar ALIGN_START = 0;\r\nvar ALIGN_MIDDLE = 1;\r\nvar ALIGN_END = 2;\r\nvar horizontalAlignmentMap = {\r\n    left: ALIGN_START,\r\n    center: ALIGN_MIDDLE,\r\n    right: ALIGN_END\r\n};\r\nvar verticalAlignmentMap = {\r\n    top: ALIGN_START,\r\n    center: ALIGN_MIDDLE,\r\n    bottom: ALIGN_END\r\n};\r\nvar sideMap = {\r\n    horizontal: 0,\r\n    vertical: 1\r\n};\r\nvar slicersMap = {};\r\nvar BBOX_CEIL_CORRECTION = 2;\r\nslicersMap[ALIGN_START] = function(a, b, size) {\r\n    return [a, _min(b, a + size)]\r\n};\r\nslicersMap[ALIGN_MIDDLE] = function(a, b, size) {\r\n    return [_max(a, (a + b - size) / 2), _min(b, (a + b + size) / 2)]\r\n};\r\nslicersMap[ALIGN_END] = function(a, b, size) {\r\n    return [_max(a, b - size), b]\r\n};\r\n\r\nfunction pickValue(value, map, defaultValue) {\r\n    var val = (0, _utils.normalizeEnum)(value);\r\n    return val in map ? map[val] : defaultValue\r\n}\r\n\r\nfunction normalizeLayoutOptions(options) {\r\n    var side = pickValue(options.side, sideMap, 1);\r\n    var alignment = [pickValue(options.horizontalAlignment, horizontalAlignmentMap, ALIGN_MIDDLE), pickValue(options.verticalAlignment, verticalAlignmentMap, ALIGN_START)];\r\n    return {\r\n        side: side,\r\n        primary: bringToEdge(alignment[side]),\r\n        secondary: alignment[1 - side],\r\n        weak: options.weak,\r\n        priority: options.priority || 0,\r\n        header: options.header,\r\n        position: options.position\r\n    }\r\n}\r\n\r\nfunction bringToEdge(primary) {\r\n    return primary < 2 ? 0 : 2\r\n}\r\n\r\nfunction getConjugateSide(side) {\r\n    return 1 - side\r\n}\r\n\r\nfunction getSlice(alignment, a, b, size) {\r\n    return slicersMap[alignment](a, b, size)\r\n}\r\n\r\nfunction getShrink(alignment, size) {\r\n    return (alignment > 0 ? -1 : 1) * size\r\n}\r\n\r\nfunction processForward(item, rect, minSize) {\r\n    var side = item.side;\r\n    var size = item.element.measure([rect[2] - rect[0], rect[3] - rect[1]]);\r\n    var minSide = \"indside\" === item.position ? 0 : minSize[side];\r\n    var isValid = size[side] < rect[2 + side] - rect[side] - minSide;\r\n    if (isValid) {\r\n        if (\"inside\" !== item.position) {\r\n            rect[item.primary + side] += getShrink(item.primary, size[side])\r\n        }\r\n        item.size = size\r\n    }\r\n    return isValid\r\n}\r\n\r\nfunction processRectBackward(item, rect, alignmentRect) {\r\n    var primarySide = item.side;\r\n    var secondarySide = getConjugateSide(primarySide);\r\n    var itemRect = [];\r\n    var secondary = getSlice(item.secondary, alignmentRect[secondarySide], alignmentRect[2 + secondarySide], item.size[secondarySide]);\r\n    itemRect[primarySide] = _round(itemRect[2 + primarySide] = rect[item.primary + primarySide] + (\"inside\" === item.position ? getShrink(item.primary, item.size[primarySide]) : 0));\r\n    itemRect[item.primary + primarySide] = _round(rect[item.primary + primarySide] - getShrink(item.primary, item.size[primarySide]));\r\n    if (\"inside\" !== item.position) {\r\n        rect[item.primary + primarySide] = itemRect[item.primary + primarySide]\r\n    }\r\n    itemRect[secondarySide] = _round(secondary[0]);\r\n    itemRect[2 + secondarySide] = _round(secondary[1]);\r\n    return itemRect\r\n}\r\n\r\nfunction processBackward(item, rect, alignmentRect, fitRect, size, targetRect) {\r\n    var itemRect = processRectBackward(item, rect, alignmentRect);\r\n    var itemFitRect = processRectBackward(item, fitRect, fitRect);\r\n    if (size[item.side] > 0) {\r\n        size[item.side] -= item.size[item.side];\r\n        targetRect[item.primary + item.side] = itemRect[item.primary + item.side];\r\n        item.element.freeSpace()\r\n    } else {\r\n        item.element.move(itemRect, itemFitRect)\r\n    }\r\n}\r\n\r\nfunction Layout() {\r\n    this._targets = []\r\n}\r\nLayout.prototype = {\r\n    constructor: Layout,\r\n    dispose: function() {\r\n        this._targets = null\r\n    },\r\n    add: function(target) {\r\n        this._targets.push(target)\r\n    },\r\n    forward: function(targetRect, minSize) {\r\n        var rect = targetRect.slice();\r\n        var targets = createTargets(this._targets);\r\n        var i;\r\n        var ii = targets.length;\r\n        var cache = [];\r\n        for (i = 0; i < ii; ++i) {\r\n            if (processForward(targets[i], rect, minSize)) {\r\n                cache.push(targets[i])\r\n            } else {\r\n                targets[i].element.freeSpace()\r\n            }\r\n        }\r\n        this._cache = cache.reverse();\r\n        return rect\r\n    },\r\n    backward: function(targetRect, alignmentRect) {\r\n        var size = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [0, 0];\r\n        var backwardRect = targetRect.slice();\r\n        var fitRect = targetRect.slice();\r\n        var targets = this._cache;\r\n        var targetSide = 0;\r\n        var target;\r\n        var i;\r\n        var ii = targets.length;\r\n        for (i = 0; i < ii; ++i) {\r\n            target = targets[i];\r\n            if (target.side !== targetSide) {\r\n                backwardRect = targetRect.slice()\r\n            }\r\n            processBackward(target, backwardRect, alignmentRect, fitRect, size, targetRect);\r\n            targetSide = target.side\r\n        }\r\n        return size\r\n    }\r\n};\r\n\r\nfunction createTargets(targets) {\r\n    var i;\r\n    var ii = targets.length;\r\n    var collection = [];\r\n    var layout;\r\n    for (i = 0; i < ii; ++i) {\r\n        layout = targets[i].layoutOptions();\r\n        if (layout) {\r\n            layout = normalizeLayoutOptions(layout);\r\n            layout.element = targets[i];\r\n            collection.push(layout)\r\n        }\r\n    }\r\n    collection.sort(function(a, b) {\r\n        return b.side - a.side || a.priority - b.priority\r\n    });\r\n    collection = processWeakItems(collection);\r\n    return collection\r\n}\r\n\r\nfunction processWeakItems(collection) {\r\n    var weakItem = collection.filter(function(item) {\r\n        return true === item.weak\r\n    })[0];\r\n    var headerItem;\r\n    if (weakItem) {\r\n        headerItem = collection.filter(function(item) {\r\n            return weakItem.primary === item.primary && item.side === weakItem.side && item !== weakItem\r\n        })[0]\r\n    }\r\n    if (weakItem && headerItem) {\r\n        return [makeHeader(headerItem, weakItem)].concat(collection.filter(function(item) {\r\n            return !(item === headerItem || item === weakItem)\r\n        }))\r\n    }\r\n    return collection\r\n}\r\n\r\nfunction processBackwardHeaderRect(element, rect) {\r\n    var rectCopy = rect.slice();\r\n    var itemRect = processRectBackward(element, rectCopy, rectCopy);\r\n    itemRect[element.side] = rect[element.side];\r\n    itemRect[2 + element.side] = rect[2 + element.side];\r\n    return itemRect\r\n}\r\n\r\nfunction makeHeader(header, weakElement) {\r\n    var side = header.side;\r\n    var primary = header.primary;\r\n    var secondary = header.secondary;\r\n    return {\r\n        side: side,\r\n        primary: primary,\r\n        secondary: secondary,\r\n        priority: 0,\r\n        element: {\r\n            measure: function(targetSize) {\r\n                var result = targetSize.slice();\r\n                var weakSize = weakElement.element.measure(targetSize.slice());\r\n                targetSize[primary] -= weakSize[primary];\r\n                var headerSize = header.element.measure(targetSize.slice());\r\n                result[side] = weakSize[side] = headerSize[side] = Math.max(headerSize[side], weakSize[side]);\r\n                weakElement.size = weakSize;\r\n                header.size = headerSize;\r\n                return result\r\n            },\r\n            move: function(rect, fitRect) {\r\n                if (fitRect[2] - fitRect[0] < header.size[0] + weakElement.size[0] - BBOX_CEIL_CORRECTION) {\r\n                    this.freeSpace();\r\n                    return\r\n                }\r\n                var weakRect = processBackwardHeaderRect(weakElement, fitRect, fitRect);\r\n                fitRect[2 + weakElement.primary] = weakRect[weakElement.primary];\r\n                var headerFitReact = processBackwardHeaderRect(header, fitRect, fitRect);\r\n                if (fitRect[2 + weakElement.primary] < rect[2 + weakElement.primary] && header.size[header.primary] > rect[2 + header.primary] - rect[header.primary]) {\r\n                    rect[2 + weakElement.primary] = fitRect[2 + weakElement.primary]\r\n                }\r\n                var headerRect = processBackwardHeaderRect(header, rect, rect);\r\n                if (headerRect[2 + weakElement.primary] > fitRect[2 + weakElement.primary]) {\r\n                    rect[2 + weakElement.primary] = fitRect[2 + weakElement.primary];\r\n                    headerRect = processBackwardHeaderRect(header, rect, rect)\r\n                }\r\n                weakElement.element.move(weakRect);\r\n                header.element.move(headerRect, headerFitReact)\r\n            },\r\n            freeSpace: function() {\r\n                header.element.freeSpace();\r\n                weakElement.element.freeSpace()\r\n            }\r\n        }\r\n    }\r\n}\r\nvar _default = Layout;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}