{"ast":null,"code":"/*!\n * devextreme-react\n * Version: 20.2.3\n * Build date: Tue Oct 20 2020\n *\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDxTemplate = void 0;\n\nvar React = require(\"react\");\n\nvar helpers_1 = require(\"./helpers\");\n\nvar template_wrapper_1 = require(\"./template-wrapper\");\n\nfunction createDxTemplate(createContentProvider, templatesStore, keyFn) {\n  var renderedTemplates = new helpers_1.DoubleKeyMap();\n  return {\n    render: function (data) {\n      var container = unwrapElement(data.container);\n      var key = {\n        key1: data.model,\n        key2: container\n      };\n      var prevTemplateId = renderedTemplates.get(key);\n      var templateId;\n\n      if (prevTemplateId) {\n        templateId = prevTemplateId;\n      } else {\n        templateId = keyFn ? keyFn(data.model) : '__template_' + helpers_1.generateID();\n\n        if (data.model !== undefined) {\n          renderedTemplates.set(key, templateId);\n        }\n      }\n\n      templatesStore.add(templateId, function () {\n        var props = {\n          data: data.model,\n          index: data.index\n        };\n        var contentProvider = createContentProvider();\n        return React.createElement(template_wrapper_1.TemplateWrapper, {\n          content: contentProvider(props),\n          container: container,\n          onRemoved: function () {\n            templatesStore.remove(templateId);\n            renderedTemplates.delete({\n              key1: data.model,\n              key2: container\n            });\n          },\n          onRendered: data.onRendered,\n          key: templateId\n        });\n      });\n      return container;\n    }\n  };\n}\n\nexports.createDxTemplate = createDxTemplate;\n\nfunction unwrapElement(element) {\n  return element.get ? element.get(0) : element;\n}","map":{"version":3,"sources":["E:/Monday.com/quickstart-react/node_modules/devextreme-react/core/dx-template.js"],"names":["Object","defineProperty","exports","value","createDxTemplate","React","require","helpers_1","template_wrapper_1","createContentProvider","templatesStore","keyFn","renderedTemplates","DoubleKeyMap","render","data","container","unwrapElement","key","key1","model","key2","prevTemplateId","get","templateId","generateID","undefined","set","add","props","index","contentProvider","createElement","TemplateWrapper","content","onRemoved","remove","delete","onRendered","element"],"mappings":"AAAA;;;;;;;;;;;;AAaA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,gBAAR,GAA2B,KAAK,CAAhC;;AACA,IAAIC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,SAAS,GAAGD,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAIE,kBAAkB,GAAGF,OAAO,CAAC,oBAAD,CAAhC;;AACA,SAASF,gBAAT,CAA0BK,qBAA1B,EAAiDC,cAAjD,EAAiEC,KAAjE,EAAwE;AACpE,MAAIC,iBAAiB,GAAG,IAAIL,SAAS,CAACM,YAAd,EAAxB;AACA,SAAO;AACHC,IAAAA,MAAM,EAAE,UAAUC,IAAV,EAAgB;AACpB,UAAIC,SAAS,GAAGC,aAAa,CAACF,IAAI,CAACC,SAAN,CAA7B;AACA,UAAIE,GAAG,GAAG;AAAEC,QAAAA,IAAI,EAAEJ,IAAI,CAACK,KAAb;AAAoBC,QAAAA,IAAI,EAAEL;AAA1B,OAAV;AACA,UAAIM,cAAc,GAAGV,iBAAiB,CAACW,GAAlB,CAAsBL,GAAtB,CAArB;AACA,UAAIM,UAAJ;;AACA,UAAIF,cAAJ,EAAoB;AAChBE,QAAAA,UAAU,GAAGF,cAAb;AACH,OAFD,MAGK;AACDE,QAAAA,UAAU,GAAGb,KAAK,GAAGA,KAAK,CAACI,IAAI,CAACK,KAAN,CAAR,GAAuB,gBAAgBb,SAAS,CAACkB,UAAV,EAAzD;;AACA,YAAIV,IAAI,CAACK,KAAL,KAAeM,SAAnB,EAA8B;AAC1Bd,UAAAA,iBAAiB,CAACe,GAAlB,CAAsBT,GAAtB,EAA2BM,UAA3B;AACH;AACJ;;AACDd,MAAAA,cAAc,CAACkB,GAAf,CAAmBJ,UAAnB,EAA+B,YAAY;AACvC,YAAIK,KAAK,GAAG;AACRd,UAAAA,IAAI,EAAEA,IAAI,CAACK,KADH;AAERU,UAAAA,KAAK,EAAEf,IAAI,CAACe;AAFJ,SAAZ;AAIA,YAAIC,eAAe,GAAGtB,qBAAqB,EAA3C;AACA,eAAOJ,KAAK,CAAC2B,aAAN,CAAoBxB,kBAAkB,CAACyB,eAAvC,EAAwD;AAC3DC,UAAAA,OAAO,EAAEH,eAAe,CAACF,KAAD,CADmC;AAE3Db,UAAAA,SAAS,EAAEA,SAFgD;AAG3DmB,UAAAA,SAAS,EAAE,YAAY;AACnBzB,YAAAA,cAAc,CAAC0B,MAAf,CAAsBZ,UAAtB;AACAZ,YAAAA,iBAAiB,CAACyB,MAAlB,CAAyB;AAAElB,cAAAA,IAAI,EAAEJ,IAAI,CAACK,KAAb;AAAoBC,cAAAA,IAAI,EAAEL;AAA1B,aAAzB;AACH,WAN0D;AAO3DsB,UAAAA,UAAU,EAAEvB,IAAI,CAACuB,UAP0C;AAQ3DpB,UAAAA,GAAG,EAAEM;AARsD,SAAxD,CAAP;AAUH,OAhBD;AAiBA,aAAOR,SAAP;AACH;AAjCE,GAAP;AAmCH;;AACDd,OAAO,CAACE,gBAAR,GAA2BA,gBAA3B;;AACA,SAASa,aAAT,CAAuBsB,OAAvB,EAAgC;AAC5B,SAAOA,OAAO,CAAChB,GAAR,GAAcgB,OAAO,CAAChB,GAAR,CAAY,CAAZ,CAAd,GAA+BgB,OAAtC;AACH","sourcesContent":["/*!\n * devextreme-react\n * Version: 20.2.3\n * Build date: Tue Oct 20 2020\n *\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDxTemplate = void 0;\nvar React = require(\"react\");\nvar helpers_1 = require(\"./helpers\");\nvar template_wrapper_1 = require(\"./template-wrapper\");\nfunction createDxTemplate(createContentProvider, templatesStore, keyFn) {\n    var renderedTemplates = new helpers_1.DoubleKeyMap();\n    return {\n        render: function (data) {\n            var container = unwrapElement(data.container);\n            var key = { key1: data.model, key2: container };\n            var prevTemplateId = renderedTemplates.get(key);\n            var templateId;\n            if (prevTemplateId) {\n                templateId = prevTemplateId;\n            }\n            else {\n                templateId = keyFn ? keyFn(data.model) : '__template_' + helpers_1.generateID();\n                if (data.model !== undefined) {\n                    renderedTemplates.set(key, templateId);\n                }\n            }\n            templatesStore.add(templateId, function () {\n                var props = {\n                    data: data.model,\n                    index: data.index,\n                };\n                var contentProvider = createContentProvider();\n                return React.createElement(template_wrapper_1.TemplateWrapper, {\n                    content: contentProvider(props),\n                    container: container,\n                    onRemoved: function () {\n                        templatesStore.remove(templateId);\n                        renderedTemplates.delete({ key1: data.model, key2: container });\n                    },\n                    onRendered: data.onRendered,\n                    key: templateId,\n                });\n            });\n            return container;\n        },\n    };\n}\nexports.createDxTemplate = createDxTemplate;\nfunction unwrapElement(element) {\n    return element.get ? element.get(0) : element;\n}\n"]},"metadata":{},"sourceType":"script"}