{"ast":null,"code":"/**\r\n * DevExtreme (viz/series/points/candlestick_point.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _extend2 = require(\"../../../core/utils/extend\");\n\nvar _symbol_point = _interopRequireDefault(require(\"./symbol_point\"));\n\nvar _bar_point = _interopRequireDefault(require(\"./bar_point\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar _math = Math;\nvar _abs = _math.abs;\nvar _min = _math.min;\nvar _max = _math.max;\nvar _round = _math.round;\nvar DEFAULT_FINANCIAL_TRACKER_MARGIN = 2;\n\nvar _default = (0, _extend2.extend)({}, _bar_point.default, {\n  _getContinuousPoints: function (openCoord, closeCoord) {\n    var that = this;\n    var x = that.x;\n    var createPoint = that._options.rotated ? function (x, y) {\n      return [y, x];\n    } : function (x, y) {\n      return [x, y];\n    };\n    var width = that.width;\n    var highCoord = that.highY;\n    var max = _abs(highCoord - openCoord) < _abs(highCoord - closeCoord) ? openCoord : closeCoord;\n    var min = max === closeCoord ? openCoord : closeCoord;\n    var points;\n\n    if (min === max) {\n      points = [].concat(createPoint(x, that.highY)).concat(createPoint(x, that.lowY)).concat(createPoint(x, that.closeY)).concat(createPoint(x - width / 2, that.closeY)).concat(createPoint(x + width / 2, that.closeY)).concat(createPoint(x, that.closeY));\n    } else {\n      points = [].concat(createPoint(x, that.highY)).concat(createPoint(x, max)).concat(createPoint(x + width / 2, max)).concat(createPoint(x + width / 2, min)).concat(createPoint(x, min)).concat(createPoint(x, that.lowY)).concat(createPoint(x, min)).concat(createPoint(x - width / 2, min)).concat(createPoint(x - width / 2, max)).concat(createPoint(x, max));\n    }\n\n    return points;\n  },\n  _getCrockPoints: function (y) {\n    var that = this;\n    var x = that.x;\n    var createPoint = that._options.rotated ? function (x, y) {\n      return [y, x];\n    } : function (x, y) {\n      return [x, y];\n    };\n    return [].concat(createPoint(x, that.highY)).concat(createPoint(x, that.lowY)).concat(createPoint(x, y)).concat(createPoint(x - that.width / 2, y)).concat(createPoint(x + that.width / 2, y)).concat(createPoint(x, y));\n  },\n  _getPoints: function () {\n    var that = this;\n    var points;\n    var closeCoord = that.closeY;\n    var openCoord = that.openY;\n\n    if (null !== closeCoord && null !== openCoord) {\n      points = that._getContinuousPoints(openCoord, closeCoord);\n    } else {\n      if (openCoord === closeCoord) {\n        points = [that.x, that.highY, that.x, that.lowY];\n      } else {\n        points = that._getCrockPoints(null !== openCoord ? openCoord : closeCoord);\n      }\n    }\n\n    return points;\n  },\n  getColor: function () {\n    var that = this;\n    return that._isReduction ? that._options.reduction.color : that._styles.normal.stroke || that.series.getColor();\n  },\n  _drawMarkerInGroup: function (group, attributes, renderer) {\n    var that = this;\n    that.graphic = renderer.path(that._getPoints(), \"area\").attr({\n      \"stroke-linecap\": \"square\"\n    }).attr(attributes).data({\n      \"chart-data-point\": that\n    }).sharp().append(group);\n  },\n  _fillStyle: function () {\n    var that = this;\n    var styles = that._options.styles;\n\n    if (that._isReduction && that._isPositive) {\n      that._styles = styles.reductionPositive;\n    } else {\n      if (that._isReduction) {\n        that._styles = styles.reduction;\n      } else {\n        if (that._isPositive) {\n          that._styles = styles.positive;\n        } else {\n          that._styles = styles;\n        }\n      }\n    }\n  },\n  _getMinTrackerWidth: function () {\n    return 2 + 2 * this._styles.normal[\"stroke-width\"];\n  },\n  correctCoordinates: function (correctOptions) {\n    var minWidth = this._getMinTrackerWidth();\n\n    var maxWidth = 10;\n    var width = correctOptions.width;\n    width = width < minWidth ? minWidth : width > maxWidth ? maxWidth : width;\n    this.width = width + width % 2;\n    this.xCorrection = correctOptions.offset;\n  },\n  _getMarkerGroup: function (group) {\n    var that = this;\n    var markerGroup;\n\n    if (that._isReduction && that._isPositive) {\n      markerGroup = group.reductionPositiveMarkersGroup;\n    } else {\n      if (that._isReduction) {\n        markerGroup = group.reductionMarkersGroup;\n      } else {\n        if (that._isPositive) {\n          markerGroup = group.defaultPositiveMarkersGroup;\n        } else {\n          markerGroup = group.defaultMarkersGroup;\n        }\n      }\n    }\n\n    return markerGroup;\n  },\n  _drawMarker: function (renderer, group) {\n    this._drawMarkerInGroup(this._getMarkerGroup(group), this._getStyle(), renderer);\n  },\n  _getSettingsForTracker: function () {\n    var that = this;\n    var highY = that.highY;\n    var lowY = that.lowY;\n    var rotated = that._options.rotated;\n    var x;\n    var y;\n    var width;\n    var height;\n\n    if (highY === lowY) {\n      highY = rotated ? highY + DEFAULT_FINANCIAL_TRACKER_MARGIN : highY - DEFAULT_FINANCIAL_TRACKER_MARGIN;\n      lowY = rotated ? lowY - DEFAULT_FINANCIAL_TRACKER_MARGIN : lowY + DEFAULT_FINANCIAL_TRACKER_MARGIN;\n    }\n\n    if (rotated) {\n      x = _min(lowY, highY);\n      y = that.x - that.width / 2;\n      width = _abs(lowY - highY);\n      height = that.width;\n    } else {\n      x = that.x - that.width / 2;\n      y = _min(lowY, highY);\n      width = that.width;\n      height = _abs(lowY - highY);\n    }\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  },\n  _getGraphicBBox: function (location) {\n    var that = this;\n    var rotated = that._options.rotated;\n    var x = that.x;\n    var width = that.width;\n    var lowY = that.lowY;\n    var highY = that.highY;\n\n    if (location) {\n      var valVisibleArea = that.series.getValueAxis().getVisibleArea();\n      highY = that._truncateCoord(highY, valVisibleArea);\n      lowY = that._truncateCoord(lowY, valVisibleArea);\n    }\n\n    var bBox = {\n      x: !rotated ? x - _round(width / 2) : lowY,\n      y: !rotated ? highY : x - _round(width / 2),\n      width: !rotated ? width : highY - lowY,\n      height: !rotated ? lowY - highY : width\n    };\n\n    if (location) {\n      var isTop = \"top\" === location;\n\n      if (!this._options.rotated) {\n        bBox.y = isTop ? bBox.y : bBox.y + bBox.height;\n        bBox.height = 0;\n      } else {\n        bBox.x = isTop ? bBox.x + bBox.width : bBox.x;\n        bBox.width = 0;\n      }\n    }\n\n    return bBox;\n  },\n  getTooltipParams: function (location) {\n    var that = this;\n\n    if (that.graphic) {\n      var minValue = _min(that.lowY, that.highY);\n\n      var maxValue = _max(that.lowY, that.highY);\n\n      var visibleArea = that._getVisibleArea();\n\n      var rotated = that._options.rotated;\n      var minVisible = rotated ? visibleArea.minX : visibleArea.minY;\n      var maxVisible = rotated ? visibleArea.maxX : visibleArea.maxY;\n\n      var min = _max(minVisible, minValue);\n\n      var max = _min(maxVisible, maxValue);\n\n      var centerCoord = that.getCenterCoord();\n\n      if (\"edge\" === location) {\n        centerCoord[rotated ? \"x\" : \"y\"] = rotated ? max : min;\n      }\n\n      centerCoord.offset = 0;\n      return centerCoord;\n    }\n  },\n  getCenterCoord: function () {\n    if (this.graphic) {\n      var that = this;\n      var x;\n      var y;\n\n      var minValue = _min(that.lowY, that.highY);\n\n      var maxValue = _max(that.lowY, that.highY);\n\n      var visibleArea = that._getVisibleArea();\n\n      var rotated = that._options.rotated;\n      var minVisible = rotated ? visibleArea.minX : visibleArea.minY;\n      var maxVisible = rotated ? visibleArea.maxX : visibleArea.maxY;\n\n      var min = _max(minVisible, minValue);\n\n      var max = _min(maxVisible, maxValue);\n\n      var center = min + (max - min) / 2;\n\n      if (rotated) {\n        y = that.x;\n        x = center;\n      } else {\n        x = that.x;\n        y = center;\n      }\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  },\n  hasValue: function () {\n    return null !== this.highValue && null !== this.lowValue;\n  },\n  hasCoords: function () {\n    return null !== this.x && null !== this.lowY && null !== this.highY;\n  },\n  _translate: function () {\n    var that = this;\n    var rotated = that._options.rotated;\n\n    var valTranslator = that._getValTranslator();\n\n    var x = that._getArgTranslator().translate(that.argument);\n\n    that.vx = that.vy = that.x = null === x ? x : x + (that.xCorrection || 0);\n    that.openY = null !== that.openValue ? valTranslator.translate(that.openValue) : null;\n    that.highY = valTranslator.translate(that.highValue);\n    that.lowY = valTranslator.translate(that.lowValue);\n    that.closeY = null !== that.closeValue ? valTranslator.translate(that.closeValue) : null;\n    var centerValue = _min(that.lowY, that.highY) + _abs(that.lowY - that.highY) / 2;\n\n    that._calculateVisibility(!rotated ? that.x : centerValue, !rotated ? centerValue : that.x);\n  },\n  getCrosshairData: function (x, y) {\n    var that = this;\n    var rotated = that._options.rotated;\n    var origY = rotated ? x : y;\n    var yValue;\n    var argument = that.argument;\n    var coords;\n    var coord = \"low\";\n\n    if (_abs(that.lowY - origY) < _abs(that.closeY - origY)) {\n      yValue = that.lowY;\n    } else {\n      yValue = that.closeY;\n      coord = \"close\";\n    }\n\n    if (_abs(yValue - origY) >= _abs(that.openY - origY)) {\n      yValue = that.openY;\n      coord = \"open\";\n    }\n\n    if (_abs(yValue - origY) >= _abs(that.highY - origY)) {\n      yValue = that.highY;\n      coord = \"high\";\n    }\n\n    if (rotated) {\n      coords = {\n        y: that.vy,\n        x: yValue,\n        xValue: that[coord + \"Value\"],\n        yValue: argument\n      };\n    } else {\n      coords = {\n        x: that.vx,\n        y: yValue,\n        xValue: argument,\n        yValue: that[coord + \"Value\"]\n      };\n    }\n\n    coords.axis = that.series.axis;\n    return coords;\n  },\n  _updateData: function (data) {\n    var that = this;\n    var label = that._label;\n    var reductionColor = this._options.reduction.color;\n    that.value = that.initialValue = data.reductionValue;\n    that.originalValue = data.value;\n    that.lowValue = that.originalLowValue = data.lowValue;\n    that.highValue = that.originalHighValue = data.highValue;\n    that.openValue = that.originalOpenValue = data.openValue;\n    that.closeValue = that.originalCloseValue = data.closeValue;\n    that._isPositive = data.openValue < data.closeValue;\n    that._isReduction = data.isReduction;\n\n    if (that._isReduction) {\n      label.setColor(reductionColor);\n    }\n  },\n  _updateMarker: function (animationEnabled, style, group) {\n    var that = this;\n    var graphic = that.graphic;\n    graphic.attr({\n      points: that._getPoints()\n    }).smartAttr(style).sharp();\n    group && graphic.append(that._getMarkerGroup(group));\n  },\n  _getLabelFormatObject: function () {\n    var that = this;\n    return {\n      openValue: that.openValue,\n      highValue: that.highValue,\n      lowValue: that.lowValue,\n      closeValue: that.closeValue,\n      reductionValue: that.initialValue,\n      argument: that.initialArgument,\n      value: that.initialValue,\n      seriesName: that.series.name,\n      originalOpenValue: that.originalOpenValue,\n      originalCloseValue: that.originalCloseValue,\n      originalLowValue: that.originalLowValue,\n      originalHighValue: that.originalHighValue,\n      originalArgument: that.originalArgument,\n      point: that\n    };\n  },\n  _getFormatObject: function (tooltip) {\n    var that = this;\n    var highValue = tooltip.formatValue(that.highValue);\n    var openValue = tooltip.formatValue(that.openValue);\n    var closeValue = tooltip.formatValue(that.closeValue);\n    var lowValue = tooltip.formatValue(that.lowValue);\n    var symbolMethods = _symbol_point.default;\n\n    var formatObject = symbolMethods._getFormatObject.call(that, tooltip);\n\n    return (0, _extend2.extend)({}, formatObject, {\n      valueText: \"h: \" + highValue + (\"\" !== openValue ? \" o: \" + openValue : \"\") + (\"\" !== closeValue ? \" c: \" + closeValue : \"\") + \" l: \" + lowValue,\n      highValueText: highValue,\n      openValueText: openValue,\n      closeValueText: closeValue,\n      lowValueText: lowValue\n    });\n  },\n  getMaxValue: function () {\n    return this.highValue;\n  },\n  getMinValue: function () {\n    return this.lowValue;\n  }\n});\n\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/Monday.com/quickstart-react/node_modules/devextreme/viz/series/points/candlestick_point.js"],"names":["exports","default","_extend2","require","_symbol_point","_interopRequireDefault","_bar_point","obj","__esModule","_math","Math","_abs","abs","_min","min","_max","max","_round","round","DEFAULT_FINANCIAL_TRACKER_MARGIN","_default","extend","_getContinuousPoints","openCoord","closeCoord","that","x","createPoint","_options","rotated","y","width","highCoord","highY","points","concat","lowY","closeY","_getCrockPoints","_getPoints","openY","getColor","_isReduction","reduction","color","_styles","normal","stroke","series","_drawMarkerInGroup","group","attributes","renderer","graphic","path","attr","data","sharp","append","_fillStyle","styles","_isPositive","reductionPositive","positive","_getMinTrackerWidth","correctCoordinates","correctOptions","minWidth","maxWidth","xCorrection","offset","_getMarkerGroup","markerGroup","reductionPositiveMarkersGroup","reductionMarkersGroup","defaultPositiveMarkersGroup","defaultMarkersGroup","_drawMarker","_getStyle","_getSettingsForTracker","height","_getGraphicBBox","location","valVisibleArea","getValueAxis","getVisibleArea","_truncateCoord","bBox","isTop","getTooltipParams","minValue","maxValue","visibleArea","_getVisibleArea","minVisible","minX","minY","maxVisible","maxX","maxY","centerCoord","getCenterCoord","center","hasValue","highValue","lowValue","hasCoords","_translate","valTranslator","_getValTranslator","_getArgTranslator","translate","argument","vx","vy","openValue","closeValue","centerValue","_calculateVisibility","getCrosshairData","origY","yValue","coords","coord","xValue","axis","_updateData","label","_label","reductionColor","value","initialValue","reductionValue","originalValue","originalLowValue","originalHighValue","originalOpenValue","originalCloseValue","isReduction","setColor","_updateMarker","animationEnabled","style","smartAttr","_getLabelFormatObject","initialArgument","seriesName","name","originalArgument","point","_getFormatObject","tooltip","formatValue","symbolMethods","formatObject","call","valueText","highValueText","openValueText","closeValueText","lowValueText","getMaxValue","getMinValue","module"],"mappings":"AAAA;;;;;;;;AAQA;;AACAA,OAAO,CAACC,OAAR,GAAkB,KAAK,CAAvB;;AACA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,4BAAD,CAAtB;;AACA,IAAIC,aAAa,GAAGC,sBAAsB,CAACF,OAAO,CAAC,gBAAD,CAAR,CAA1C;;AACA,IAAIG,UAAU,GAAGD,sBAAsB,CAACF,OAAO,CAAC,aAAD,CAAR,CAAvC;;AAEA,SAASE,sBAAT,CAAgCE,GAAhC,EAAqC;AACjC,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AACD,IAAIE,KAAK,GAAGC,IAAZ;AACA,IAAIC,IAAI,GAAGF,KAAK,CAACG,GAAjB;AACA,IAAIC,IAAI,GAAGJ,KAAK,CAACK,GAAjB;AACA,IAAIC,IAAI,GAAGN,KAAK,CAACO,GAAjB;AACA,IAAIC,MAAM,GAAGR,KAAK,CAACS,KAAnB;AACA,IAAIC,gCAAgC,GAAG,CAAvC;;AACA,IAAIC,QAAQ,GAAG,CAAC,GAAGlB,QAAQ,CAACmB,MAAb,EAAqB,EAArB,EAAyBf,UAAU,CAACL,OAApC,EAA6C;AACxDqB,EAAAA,oBAAoB,EAAE,UAASC,SAAT,EAAoBC,UAApB,EAAgC;AAClD,QAAIC,IAAI,GAAG,IAAX;AACA,QAAIC,CAAC,GAAGD,IAAI,CAACC,CAAb;AACA,QAAIC,WAAW,GAAGF,IAAI,CAACG,QAAL,CAAcC,OAAd,GAAwB,UAASH,CAAT,EAAYI,CAAZ,EAAe;AACrD,aAAO,CAACA,CAAD,EAAIJ,CAAJ,CAAP;AACH,KAFiB,GAEd,UAASA,CAAT,EAAYI,CAAZ,EAAe;AACf,aAAO,CAACJ,CAAD,EAAII,CAAJ,CAAP;AACH,KAJD;AAKA,QAAIC,KAAK,GAAGN,IAAI,CAACM,KAAjB;AACA,QAAIC,SAAS,GAAGP,IAAI,CAACQ,KAArB;AACA,QAAIjB,GAAG,GAAGL,IAAI,CAACqB,SAAS,GAAGT,SAAb,CAAJ,GAA8BZ,IAAI,CAACqB,SAAS,GAAGR,UAAb,CAAlC,GAA6DD,SAA7D,GAAyEC,UAAnF;AACA,QAAIV,GAAG,GAAGE,GAAG,KAAKQ,UAAR,GAAqBD,SAArB,GAAiCC,UAA3C;AACA,QAAIU,MAAJ;;AACA,QAAIpB,GAAG,KAAKE,GAAZ,EAAiB;AACbkB,MAAAA,MAAM,GAAG,GAAGC,MAAH,CAAUR,WAAW,CAACD,CAAD,EAAID,IAAI,CAACQ,KAAT,CAArB,EAAsCE,MAAtC,CAA6CR,WAAW,CAACD,CAAD,EAAID,IAAI,CAACW,IAAT,CAAxD,EAAwED,MAAxE,CAA+ER,WAAW,CAACD,CAAD,EAAID,IAAI,CAACY,MAAT,CAA1F,EAA4GF,MAA5G,CAAmHR,WAAW,CAACD,CAAC,GAAGK,KAAK,GAAG,CAAb,EAAgBN,IAAI,CAACY,MAArB,CAA9H,EAA4JF,MAA5J,CAAmKR,WAAW,CAACD,CAAC,GAAGK,KAAK,GAAG,CAAb,EAAgBN,IAAI,CAACY,MAArB,CAA9K,EAA4MF,MAA5M,CAAmNR,WAAW,CAACD,CAAD,EAAID,IAAI,CAACY,MAAT,CAA9N,CAAT;AACH,KAFD,MAEO;AACHH,MAAAA,MAAM,GAAG,GAAGC,MAAH,CAAUR,WAAW,CAACD,CAAD,EAAID,IAAI,CAACQ,KAAT,CAArB,EAAsCE,MAAtC,CAA6CR,WAAW,CAACD,CAAD,EAAIV,GAAJ,CAAxD,EAAkEmB,MAAlE,CAAyER,WAAW,CAACD,CAAC,GAAGK,KAAK,GAAG,CAAb,EAAgBf,GAAhB,CAApF,EAA0GmB,MAA1G,CAAiHR,WAAW,CAACD,CAAC,GAAGK,KAAK,GAAG,CAAb,EAAgBjB,GAAhB,CAA5H,EAAkJqB,MAAlJ,CAAyJR,WAAW,CAACD,CAAD,EAAIZ,GAAJ,CAApK,EAA8KqB,MAA9K,CAAqLR,WAAW,CAACD,CAAD,EAAID,IAAI,CAACW,IAAT,CAAhM,EAAgND,MAAhN,CAAuNR,WAAW,CAACD,CAAD,EAAIZ,GAAJ,CAAlO,EAA4OqB,MAA5O,CAAmPR,WAAW,CAACD,CAAC,GAAGK,KAAK,GAAG,CAAb,EAAgBjB,GAAhB,CAA9P,EAAoRqB,MAApR,CAA2RR,WAAW,CAACD,CAAC,GAAGK,KAAK,GAAG,CAAb,EAAgBf,GAAhB,CAAtS,EAA4TmB,MAA5T,CAAmUR,WAAW,CAACD,CAAD,EAAIV,GAAJ,CAA9U,CAAT;AACH;;AACD,WAAOkB,MAAP;AACH,GApBuD;AAqBxDI,EAAAA,eAAe,EAAE,UAASR,CAAT,EAAY;AACzB,QAAIL,IAAI,GAAG,IAAX;AACA,QAAIC,CAAC,GAAGD,IAAI,CAACC,CAAb;AACA,QAAIC,WAAW,GAAGF,IAAI,CAACG,QAAL,CAAcC,OAAd,GAAwB,UAASH,CAAT,EAAYI,CAAZ,EAAe;AACrD,aAAO,CAACA,CAAD,EAAIJ,CAAJ,CAAP;AACH,KAFiB,GAEd,UAASA,CAAT,EAAYI,CAAZ,EAAe;AACf,aAAO,CAACJ,CAAD,EAAII,CAAJ,CAAP;AACH,KAJD;AAKA,WAAO,GAAGK,MAAH,CAAUR,WAAW,CAACD,CAAD,EAAID,IAAI,CAACQ,KAAT,CAArB,EAAsCE,MAAtC,CAA6CR,WAAW,CAACD,CAAD,EAAID,IAAI,CAACW,IAAT,CAAxD,EAAwED,MAAxE,CAA+ER,WAAW,CAACD,CAAD,EAAII,CAAJ,CAA1F,EAAkGK,MAAlG,CAAyGR,WAAW,CAACD,CAAC,GAAGD,IAAI,CAACM,KAAL,GAAa,CAAlB,EAAqBD,CAArB,CAApH,EAA6IK,MAA7I,CAAoJR,WAAW,CAACD,CAAC,GAAGD,IAAI,CAACM,KAAL,GAAa,CAAlB,EAAqBD,CAArB,CAA/J,EAAwLK,MAAxL,CAA+LR,WAAW,CAACD,CAAD,EAAII,CAAJ,CAA1M,CAAP;AACH,GA9BuD;AA+BxDS,EAAAA,UAAU,EAAE,YAAW;AACnB,QAAId,IAAI,GAAG,IAAX;AACA,QAAIS,MAAJ;AACA,QAAIV,UAAU,GAAGC,IAAI,CAACY,MAAtB;AACA,QAAId,SAAS,GAAGE,IAAI,CAACe,KAArB;;AACA,QAAI,SAAShB,UAAT,IAAuB,SAASD,SAApC,EAA+C;AAC3CW,MAAAA,MAAM,GAAGT,IAAI,CAACH,oBAAL,CAA0BC,SAA1B,EAAqCC,UAArC,CAAT;AACH,KAFD,MAEO;AACH,UAAID,SAAS,KAAKC,UAAlB,EAA8B;AAC1BU,QAAAA,MAAM,GAAG,CAACT,IAAI,CAACC,CAAN,EAASD,IAAI,CAACQ,KAAd,EAAqBR,IAAI,CAACC,CAA1B,EAA6BD,IAAI,CAACW,IAAlC,CAAT;AACH,OAFD,MAEO;AACHF,QAAAA,MAAM,GAAGT,IAAI,CAACa,eAAL,CAAqB,SAASf,SAAT,GAAqBA,SAArB,GAAiCC,UAAtD,CAAT;AACH;AACJ;;AACD,WAAOU,MAAP;AACH,GA9CuD;AA+CxDO,EAAAA,QAAQ,EAAE,YAAW;AACjB,QAAIhB,IAAI,GAAG,IAAX;AACA,WAAOA,IAAI,CAACiB,YAAL,GAAoBjB,IAAI,CAACG,QAAL,CAAce,SAAd,CAAwBC,KAA5C,GAAoDnB,IAAI,CAACoB,OAAL,CAAaC,MAAb,CAAoBC,MAApB,IAA8BtB,IAAI,CAACuB,MAAL,CAAYP,QAAZ,EAAzF;AACH,GAlDuD;AAmDxDQ,EAAAA,kBAAkB,EAAE,UAASC,KAAT,EAAgBC,UAAhB,EAA4BC,QAA5B,EAAsC;AACtD,QAAI3B,IAAI,GAAG,IAAX;AACAA,IAAAA,IAAI,CAAC4B,OAAL,GAAeD,QAAQ,CAACE,IAAT,CAAc7B,IAAI,CAACc,UAAL,EAAd,EAAiC,MAAjC,EAAyCgB,IAAzC,CAA8C;AACzD,wBAAkB;AADuC,KAA9C,EAEZA,IAFY,CAEPJ,UAFO,EAEKK,IAFL,CAEU;AACrB,0BAAoB/B;AADC,KAFV,EAIZgC,KAJY,GAIJC,MAJI,CAIGR,KAJH,CAAf;AAKH,GA1DuD;AA2DxDS,EAAAA,UAAU,EAAE,YAAW;AACnB,QAAIlC,IAAI,GAAG,IAAX;AACA,QAAImC,MAAM,GAAGnC,IAAI,CAACG,QAAL,CAAcgC,MAA3B;;AACA,QAAInC,IAAI,CAACiB,YAAL,IAAqBjB,IAAI,CAACoC,WAA9B,EAA2C;AACvCpC,MAAAA,IAAI,CAACoB,OAAL,GAAee,MAAM,CAACE,iBAAtB;AACH,KAFD,MAEO;AACH,UAAIrC,IAAI,CAACiB,YAAT,EAAuB;AACnBjB,QAAAA,IAAI,CAACoB,OAAL,GAAee,MAAM,CAACjB,SAAtB;AACH,OAFD,MAEO;AACH,YAAIlB,IAAI,CAACoC,WAAT,EAAsB;AAClBpC,UAAAA,IAAI,CAACoB,OAAL,GAAee,MAAM,CAACG,QAAtB;AACH,SAFD,MAEO;AACHtC,UAAAA,IAAI,CAACoB,OAAL,GAAee,MAAf;AACH;AACJ;AACJ;AACJ,GA3EuD;AA4ExDI,EAAAA,mBAAmB,EAAE,YAAW;AAC5B,WAAO,IAAI,IAAI,KAAKnB,OAAL,CAAaC,MAAb,CAAoB,cAApB,CAAf;AACH,GA9EuD;AA+ExDmB,EAAAA,kBAAkB,EAAE,UAASC,cAAT,EAAyB;AACzC,QAAIC,QAAQ,GAAG,KAAKH,mBAAL,EAAf;;AACA,QAAII,QAAQ,GAAG,EAAf;AACA,QAAIrC,KAAK,GAAGmC,cAAc,CAACnC,KAA3B;AACAA,IAAAA,KAAK,GAAGA,KAAK,GAAGoC,QAAR,GAAmBA,QAAnB,GAA8BpC,KAAK,GAAGqC,QAAR,GAAmBA,QAAnB,GAA8BrC,KAApE;AACA,SAAKA,KAAL,GAAaA,KAAK,GAAGA,KAAK,GAAG,CAA7B;AACA,SAAKsC,WAAL,GAAmBH,cAAc,CAACI,MAAlC;AACH,GAtFuD;AAuFxDC,EAAAA,eAAe,EAAE,UAASrB,KAAT,EAAgB;AAC7B,QAAIzB,IAAI,GAAG,IAAX;AACA,QAAI+C,WAAJ;;AACA,QAAI/C,IAAI,CAACiB,YAAL,IAAqBjB,IAAI,CAACoC,WAA9B,EAA2C;AACvCW,MAAAA,WAAW,GAAGtB,KAAK,CAACuB,6BAApB;AACH,KAFD,MAEO;AACH,UAAIhD,IAAI,CAACiB,YAAT,EAAuB;AACnB8B,QAAAA,WAAW,GAAGtB,KAAK,CAACwB,qBAApB;AACH,OAFD,MAEO;AACH,YAAIjD,IAAI,CAACoC,WAAT,EAAsB;AAClBW,UAAAA,WAAW,GAAGtB,KAAK,CAACyB,2BAApB;AACH,SAFD,MAEO;AACHH,UAAAA,WAAW,GAAGtB,KAAK,CAAC0B,mBAApB;AACH;AACJ;AACJ;;AACD,WAAOJ,WAAP;AACH,GAxGuD;AAyGxDK,EAAAA,WAAW,EAAE,UAASzB,QAAT,EAAmBF,KAAnB,EAA0B;AACnC,SAAKD,kBAAL,CAAwB,KAAKsB,eAAL,CAAqBrB,KAArB,CAAxB,EAAqD,KAAK4B,SAAL,EAArD,EAAuE1B,QAAvE;AACH,GA3GuD;AA4GxD2B,EAAAA,sBAAsB,EAAE,YAAW;AAC/B,QAAItD,IAAI,GAAG,IAAX;AACA,QAAIQ,KAAK,GAAGR,IAAI,CAACQ,KAAjB;AACA,QAAIG,IAAI,GAAGX,IAAI,CAACW,IAAhB;AACA,QAAIP,OAAO,GAAGJ,IAAI,CAACG,QAAL,CAAcC,OAA5B;AACA,QAAIH,CAAJ;AACA,QAAII,CAAJ;AACA,QAAIC,KAAJ;AACA,QAAIiD,MAAJ;;AACA,QAAI/C,KAAK,KAAKG,IAAd,EAAoB;AAChBH,MAAAA,KAAK,GAAGJ,OAAO,GAAGI,KAAK,GAAGd,gCAAX,GAA8Cc,KAAK,GAAGd,gCAArE;AACAiB,MAAAA,IAAI,GAAGP,OAAO,GAAGO,IAAI,GAAGjB,gCAAV,GAA6CiB,IAAI,GAAGjB,gCAAlE;AACH;;AACD,QAAIU,OAAJ,EAAa;AACTH,MAAAA,CAAC,GAAGb,IAAI,CAACuB,IAAD,EAAOH,KAAP,CAAR;AACAH,MAAAA,CAAC,GAAGL,IAAI,CAACC,CAAL,GAASD,IAAI,CAACM,KAAL,GAAa,CAA1B;AACAA,MAAAA,KAAK,GAAGpB,IAAI,CAACyB,IAAI,GAAGH,KAAR,CAAZ;AACA+C,MAAAA,MAAM,GAAGvD,IAAI,CAACM,KAAd;AACH,KALD,MAKO;AACHL,MAAAA,CAAC,GAAGD,IAAI,CAACC,CAAL,GAASD,IAAI,CAACM,KAAL,GAAa,CAA1B;AACAD,MAAAA,CAAC,GAAGjB,IAAI,CAACuB,IAAD,EAAOH,KAAP,CAAR;AACAF,MAAAA,KAAK,GAAGN,IAAI,CAACM,KAAb;AACAiD,MAAAA,MAAM,GAAGrE,IAAI,CAACyB,IAAI,GAAGH,KAAR,CAAb;AACH;;AACD,WAAO;AACHP,MAAAA,CAAC,EAAEA,CADA;AAEHI,MAAAA,CAAC,EAAEA,CAFA;AAGHC,MAAAA,KAAK,EAAEA,KAHJ;AAIHiD,MAAAA,MAAM,EAAEA;AAJL,KAAP;AAMH,GA1IuD;AA2IxDC,EAAAA,eAAe,EAAE,UAASC,QAAT,EAAmB;AAChC,QAAIzD,IAAI,GAAG,IAAX;AACA,QAAII,OAAO,GAAGJ,IAAI,CAACG,QAAL,CAAcC,OAA5B;AACA,QAAIH,CAAC,GAAGD,IAAI,CAACC,CAAb;AACA,QAAIK,KAAK,GAAGN,IAAI,CAACM,KAAjB;AACA,QAAIK,IAAI,GAAGX,IAAI,CAACW,IAAhB;AACA,QAAIH,KAAK,GAAGR,IAAI,CAACQ,KAAjB;;AACA,QAAIiD,QAAJ,EAAc;AACV,UAAIC,cAAc,GAAG1D,IAAI,CAACuB,MAAL,CAAYoC,YAAZ,GAA2BC,cAA3B,EAArB;AACApD,MAAAA,KAAK,GAAGR,IAAI,CAAC6D,cAAL,CAAoBrD,KAApB,EAA2BkD,cAA3B,CAAR;AACA/C,MAAAA,IAAI,GAAGX,IAAI,CAAC6D,cAAL,CAAoBlD,IAApB,EAA0B+C,cAA1B,CAAP;AACH;;AACD,QAAII,IAAI,GAAG;AACP7D,MAAAA,CAAC,EAAE,CAACG,OAAD,GAAWH,CAAC,GAAGT,MAAM,CAACc,KAAK,GAAG,CAAT,CAArB,GAAmCK,IAD/B;AAEPN,MAAAA,CAAC,EAAE,CAACD,OAAD,GAAWI,KAAX,GAAmBP,CAAC,GAAGT,MAAM,CAACc,KAAK,GAAG,CAAT,CAFzB;AAGPA,MAAAA,KAAK,EAAE,CAACF,OAAD,GAAWE,KAAX,GAAmBE,KAAK,GAAGG,IAH3B;AAIP4C,MAAAA,MAAM,EAAE,CAACnD,OAAD,GAAWO,IAAI,GAAGH,KAAlB,GAA0BF;AAJ3B,KAAX;;AAMA,QAAImD,QAAJ,EAAc;AACV,UAAIM,KAAK,GAAG,UAAUN,QAAtB;;AACA,UAAI,CAAC,KAAKtD,QAAL,CAAcC,OAAnB,EAA4B;AACxB0D,QAAAA,IAAI,CAACzD,CAAL,GAAS0D,KAAK,GAAGD,IAAI,CAACzD,CAAR,GAAYyD,IAAI,CAACzD,CAAL,GAASyD,IAAI,CAACP,MAAxC;AACAO,QAAAA,IAAI,CAACP,MAAL,GAAc,CAAd;AACH,OAHD,MAGO;AACHO,QAAAA,IAAI,CAAC7D,CAAL,GAAS8D,KAAK,GAAGD,IAAI,CAAC7D,CAAL,GAAS6D,IAAI,CAACxD,KAAjB,GAAyBwD,IAAI,CAAC7D,CAA5C;AACA6D,QAAAA,IAAI,CAACxD,KAAL,GAAa,CAAb;AACH;AACJ;;AACD,WAAOwD,IAAP;AACH,GAxKuD;AAyKxDE,EAAAA,gBAAgB,EAAE,UAASP,QAAT,EAAmB;AACjC,QAAIzD,IAAI,GAAG,IAAX;;AACA,QAAIA,IAAI,CAAC4B,OAAT,EAAkB;AACd,UAAIqC,QAAQ,GAAG7E,IAAI,CAACY,IAAI,CAACW,IAAN,EAAYX,IAAI,CAACQ,KAAjB,CAAnB;;AACA,UAAI0D,QAAQ,GAAG5E,IAAI,CAACU,IAAI,CAACW,IAAN,EAAYX,IAAI,CAACQ,KAAjB,CAAnB;;AACA,UAAI2D,WAAW,GAAGnE,IAAI,CAACoE,eAAL,EAAlB;;AACA,UAAIhE,OAAO,GAAGJ,IAAI,CAACG,QAAL,CAAcC,OAA5B;AACA,UAAIiE,UAAU,GAAGjE,OAAO,GAAG+D,WAAW,CAACG,IAAf,GAAsBH,WAAW,CAACI,IAA1D;AACA,UAAIC,UAAU,GAAGpE,OAAO,GAAG+D,WAAW,CAACM,IAAf,GAAsBN,WAAW,CAACO,IAA1D;;AACA,UAAIrF,GAAG,GAAGC,IAAI,CAAC+E,UAAD,EAAaJ,QAAb,CAAd;;AACA,UAAI1E,GAAG,GAAGH,IAAI,CAACoF,UAAD,EAAaN,QAAb,CAAd;;AACA,UAAIS,WAAW,GAAG3E,IAAI,CAAC4E,cAAL,EAAlB;;AACA,UAAI,WAAWnB,QAAf,EAAyB;AACrBkB,QAAAA,WAAW,CAACvE,OAAO,GAAG,GAAH,GAAS,GAAjB,CAAX,GAAmCA,OAAO,GAAGb,GAAH,GAASF,GAAnD;AACH;;AACDsF,MAAAA,WAAW,CAAC9B,MAAZ,GAAqB,CAArB;AACA,aAAO8B,WAAP;AACH;AACJ,GA3LuD;AA4LxDC,EAAAA,cAAc,EAAE,YAAW;AACvB,QAAI,KAAKhD,OAAT,EAAkB;AACd,UAAI5B,IAAI,GAAG,IAAX;AACA,UAAIC,CAAJ;AACA,UAAII,CAAJ;;AACA,UAAI4D,QAAQ,GAAG7E,IAAI,CAACY,IAAI,CAACW,IAAN,EAAYX,IAAI,CAACQ,KAAjB,CAAnB;;AACA,UAAI0D,QAAQ,GAAG5E,IAAI,CAACU,IAAI,CAACW,IAAN,EAAYX,IAAI,CAACQ,KAAjB,CAAnB;;AACA,UAAI2D,WAAW,GAAGnE,IAAI,CAACoE,eAAL,EAAlB;;AACA,UAAIhE,OAAO,GAAGJ,IAAI,CAACG,QAAL,CAAcC,OAA5B;AACA,UAAIiE,UAAU,GAAGjE,OAAO,GAAG+D,WAAW,CAACG,IAAf,GAAsBH,WAAW,CAACI,IAA1D;AACA,UAAIC,UAAU,GAAGpE,OAAO,GAAG+D,WAAW,CAACM,IAAf,GAAsBN,WAAW,CAACO,IAA1D;;AACA,UAAIrF,GAAG,GAAGC,IAAI,CAAC+E,UAAD,EAAaJ,QAAb,CAAd;;AACA,UAAI1E,GAAG,GAAGH,IAAI,CAACoF,UAAD,EAAaN,QAAb,CAAd;;AACA,UAAIW,MAAM,GAAGxF,GAAG,GAAG,CAACE,GAAG,GAAGF,GAAP,IAAc,CAAjC;;AACA,UAAIe,OAAJ,EAAa;AACTC,QAAAA,CAAC,GAAGL,IAAI,CAACC,CAAT;AACAA,QAAAA,CAAC,GAAG4E,MAAJ;AACH,OAHD,MAGO;AACH5E,QAAAA,CAAC,GAAGD,IAAI,CAACC,CAAT;AACAI,QAAAA,CAAC,GAAGwE,MAAJ;AACH;;AACD,aAAO;AACH5E,QAAAA,CAAC,EAAEA,CADA;AAEHI,QAAAA,CAAC,EAAEA;AAFA,OAAP;AAIH;AACJ,GAtNuD;AAuNxDyE,EAAAA,QAAQ,EAAE,YAAW;AACjB,WAAO,SAAS,KAAKC,SAAd,IAA2B,SAAS,KAAKC,QAAhD;AACH,GAzNuD;AA0NxDC,EAAAA,SAAS,EAAE,YAAW;AAClB,WAAO,SAAS,KAAKhF,CAAd,IAAmB,SAAS,KAAKU,IAAjC,IAAyC,SAAS,KAAKH,KAA9D;AACH,GA5NuD;AA6NxD0E,EAAAA,UAAU,EAAE,YAAW;AACnB,QAAIlF,IAAI,GAAG,IAAX;AACA,QAAII,OAAO,GAAGJ,IAAI,CAACG,QAAL,CAAcC,OAA5B;;AACA,QAAI+E,aAAa,GAAGnF,IAAI,CAACoF,iBAAL,EAApB;;AACA,QAAInF,CAAC,GAAGD,IAAI,CAACqF,iBAAL,GAAyBC,SAAzB,CAAmCtF,IAAI,CAACuF,QAAxC,CAAR;;AACAvF,IAAAA,IAAI,CAACwF,EAAL,GAAUxF,IAAI,CAACyF,EAAL,GAAUzF,IAAI,CAACC,CAAL,GAAS,SAASA,CAAT,GAAaA,CAAb,GAAiBA,CAAC,IAAID,IAAI,CAAC4C,WAAL,IAAoB,CAAxB,CAA/C;AACA5C,IAAAA,IAAI,CAACe,KAAL,GAAa,SAASf,IAAI,CAAC0F,SAAd,GAA0BP,aAAa,CAACG,SAAd,CAAwBtF,IAAI,CAAC0F,SAA7B,CAA1B,GAAoE,IAAjF;AACA1F,IAAAA,IAAI,CAACQ,KAAL,GAAa2E,aAAa,CAACG,SAAd,CAAwBtF,IAAI,CAAC+E,SAA7B,CAAb;AACA/E,IAAAA,IAAI,CAACW,IAAL,GAAYwE,aAAa,CAACG,SAAd,CAAwBtF,IAAI,CAACgF,QAA7B,CAAZ;AACAhF,IAAAA,IAAI,CAACY,MAAL,GAAc,SAASZ,IAAI,CAAC2F,UAAd,GAA2BR,aAAa,CAACG,SAAd,CAAwBtF,IAAI,CAAC2F,UAA7B,CAA3B,GAAsE,IAApF;AACA,QAAIC,WAAW,GAAGxG,IAAI,CAACY,IAAI,CAACW,IAAN,EAAYX,IAAI,CAACQ,KAAjB,CAAJ,GAA8BtB,IAAI,CAACc,IAAI,CAACW,IAAL,GAAYX,IAAI,CAACQ,KAAlB,CAAJ,GAA+B,CAA/E;;AACAR,IAAAA,IAAI,CAAC6F,oBAAL,CAA0B,CAACzF,OAAD,GAAWJ,IAAI,CAACC,CAAhB,GAAoB2F,WAA9C,EAA2D,CAACxF,OAAD,GAAWwF,WAAX,GAAyB5F,IAAI,CAACC,CAAzF;AACH,GAzOuD;AA0OxD6F,EAAAA,gBAAgB,EAAE,UAAS7F,CAAT,EAAYI,CAAZ,EAAe;AAC7B,QAAIL,IAAI,GAAG,IAAX;AACA,QAAII,OAAO,GAAGJ,IAAI,CAACG,QAAL,CAAcC,OAA5B;AACA,QAAI2F,KAAK,GAAG3F,OAAO,GAAGH,CAAH,GAAOI,CAA1B;AACA,QAAI2F,MAAJ;AACA,QAAIT,QAAQ,GAAGvF,IAAI,CAACuF,QAApB;AACA,QAAIU,MAAJ;AACA,QAAIC,KAAK,GAAG,KAAZ;;AACA,QAAIhH,IAAI,CAACc,IAAI,CAACW,IAAL,GAAYoF,KAAb,CAAJ,GAA0B7G,IAAI,CAACc,IAAI,CAACY,MAAL,GAAcmF,KAAf,CAAlC,EAAyD;AACrDC,MAAAA,MAAM,GAAGhG,IAAI,CAACW,IAAd;AACH,KAFD,MAEO;AACHqF,MAAAA,MAAM,GAAGhG,IAAI,CAACY,MAAd;AACAsF,MAAAA,KAAK,GAAG,OAAR;AACH;;AACD,QAAIhH,IAAI,CAAC8G,MAAM,GAAGD,KAAV,CAAJ,IAAwB7G,IAAI,CAACc,IAAI,CAACe,KAAL,GAAagF,KAAd,CAAhC,EAAsD;AAClDC,MAAAA,MAAM,GAAGhG,IAAI,CAACe,KAAd;AACAmF,MAAAA,KAAK,GAAG,MAAR;AACH;;AACD,QAAIhH,IAAI,CAAC8G,MAAM,GAAGD,KAAV,CAAJ,IAAwB7G,IAAI,CAACc,IAAI,CAACQ,KAAL,GAAauF,KAAd,CAAhC,EAAsD;AAClDC,MAAAA,MAAM,GAAGhG,IAAI,CAACQ,KAAd;AACA0F,MAAAA,KAAK,GAAG,MAAR;AACH;;AACD,QAAI9F,OAAJ,EAAa;AACT6F,MAAAA,MAAM,GAAG;AACL5F,QAAAA,CAAC,EAAEL,IAAI,CAACyF,EADH;AAELxF,QAAAA,CAAC,EAAE+F,MAFE;AAGLG,QAAAA,MAAM,EAAEnG,IAAI,CAACkG,KAAK,GAAG,OAAT,CAHP;AAILF,QAAAA,MAAM,EAAET;AAJH,OAAT;AAMH,KAPD,MAOO;AACHU,MAAAA,MAAM,GAAG;AACLhG,QAAAA,CAAC,EAAED,IAAI,CAACwF,EADH;AAELnF,QAAAA,CAAC,EAAE2F,MAFE;AAGLG,QAAAA,MAAM,EAAEZ,QAHH;AAILS,QAAAA,MAAM,EAAEhG,IAAI,CAACkG,KAAK,GAAG,OAAT;AAJP,OAAT;AAMH;;AACDD,IAAAA,MAAM,CAACG,IAAP,GAAcpG,IAAI,CAACuB,MAAL,CAAY6E,IAA1B;AACA,WAAOH,MAAP;AACH,GAjRuD;AAkRxDI,EAAAA,WAAW,EAAE,UAAStE,IAAT,EAAe;AACxB,QAAI/B,IAAI,GAAG,IAAX;AACA,QAAIsG,KAAK,GAAGtG,IAAI,CAACuG,MAAjB;AACA,QAAIC,cAAc,GAAG,KAAKrG,QAAL,CAAce,SAAd,CAAwBC,KAA7C;AACAnB,IAAAA,IAAI,CAACyG,KAAL,GAAazG,IAAI,CAAC0G,YAAL,GAAoB3E,IAAI,CAAC4E,cAAtC;AACA3G,IAAAA,IAAI,CAAC4G,aAAL,GAAqB7E,IAAI,CAAC0E,KAA1B;AACAzG,IAAAA,IAAI,CAACgF,QAAL,GAAgBhF,IAAI,CAAC6G,gBAAL,GAAwB9E,IAAI,CAACiD,QAA7C;AACAhF,IAAAA,IAAI,CAAC+E,SAAL,GAAiB/E,IAAI,CAAC8G,iBAAL,GAAyB/E,IAAI,CAACgD,SAA/C;AACA/E,IAAAA,IAAI,CAAC0F,SAAL,GAAiB1F,IAAI,CAAC+G,iBAAL,GAAyBhF,IAAI,CAAC2D,SAA/C;AACA1F,IAAAA,IAAI,CAAC2F,UAAL,GAAkB3F,IAAI,CAACgH,kBAAL,GAA0BjF,IAAI,CAAC4D,UAAjD;AACA3F,IAAAA,IAAI,CAACoC,WAAL,GAAmBL,IAAI,CAAC2D,SAAL,GAAiB3D,IAAI,CAAC4D,UAAzC;AACA3F,IAAAA,IAAI,CAACiB,YAAL,GAAoBc,IAAI,CAACkF,WAAzB;;AACA,QAAIjH,IAAI,CAACiB,YAAT,EAAuB;AACnBqF,MAAAA,KAAK,CAACY,QAAN,CAAeV,cAAf;AACH;AACJ,GAjSuD;AAkSxDW,EAAAA,aAAa,EAAE,UAASC,gBAAT,EAA2BC,KAA3B,EAAkC5F,KAAlC,EAAyC;AACpD,QAAIzB,IAAI,GAAG,IAAX;AACA,QAAI4B,OAAO,GAAG5B,IAAI,CAAC4B,OAAnB;AACAA,IAAAA,OAAO,CAACE,IAAR,CAAa;AACTrB,MAAAA,MAAM,EAAET,IAAI,CAACc,UAAL;AADC,KAAb,EAEGwG,SAFH,CAEaD,KAFb,EAEoBrF,KAFpB;AAGAP,IAAAA,KAAK,IAAIG,OAAO,CAACK,MAAR,CAAejC,IAAI,CAAC8C,eAAL,CAAqBrB,KAArB,CAAf,CAAT;AACH,GAzSuD;AA0SxD8F,EAAAA,qBAAqB,EAAE,YAAW;AAC9B,QAAIvH,IAAI,GAAG,IAAX;AACA,WAAO;AACH0F,MAAAA,SAAS,EAAE1F,IAAI,CAAC0F,SADb;AAEHX,MAAAA,SAAS,EAAE/E,IAAI,CAAC+E,SAFb;AAGHC,MAAAA,QAAQ,EAAEhF,IAAI,CAACgF,QAHZ;AAIHW,MAAAA,UAAU,EAAE3F,IAAI,CAAC2F,UAJd;AAKHgB,MAAAA,cAAc,EAAE3G,IAAI,CAAC0G,YALlB;AAMHnB,MAAAA,QAAQ,EAAEvF,IAAI,CAACwH,eANZ;AAOHf,MAAAA,KAAK,EAAEzG,IAAI,CAAC0G,YAPT;AAQHe,MAAAA,UAAU,EAAEzH,IAAI,CAACuB,MAAL,CAAYmG,IARrB;AASHX,MAAAA,iBAAiB,EAAE/G,IAAI,CAAC+G,iBATrB;AAUHC,MAAAA,kBAAkB,EAAEhH,IAAI,CAACgH,kBAVtB;AAWHH,MAAAA,gBAAgB,EAAE7G,IAAI,CAAC6G,gBAXpB;AAYHC,MAAAA,iBAAiB,EAAE9G,IAAI,CAAC8G,iBAZrB;AAaHa,MAAAA,gBAAgB,EAAE3H,IAAI,CAAC2H,gBAbpB;AAcHC,MAAAA,KAAK,EAAE5H;AAdJ,KAAP;AAgBH,GA5TuD;AA6TxD6H,EAAAA,gBAAgB,EAAE,UAASC,OAAT,EAAkB;AAChC,QAAI9H,IAAI,GAAG,IAAX;AACA,QAAI+E,SAAS,GAAG+C,OAAO,CAACC,WAAR,CAAoB/H,IAAI,CAAC+E,SAAzB,CAAhB;AACA,QAAIW,SAAS,GAAGoC,OAAO,CAACC,WAAR,CAAoB/H,IAAI,CAAC0F,SAAzB,CAAhB;AACA,QAAIC,UAAU,GAAGmC,OAAO,CAACC,WAAR,CAAoB/H,IAAI,CAAC2F,UAAzB,CAAjB;AACA,QAAIX,QAAQ,GAAG8C,OAAO,CAACC,WAAR,CAAoB/H,IAAI,CAACgF,QAAzB,CAAf;AACA,QAAIgD,aAAa,GAAGrJ,aAAa,CAACH,OAAlC;;AACA,QAAIyJ,YAAY,GAAGD,aAAa,CAACH,gBAAd,CAA+BK,IAA/B,CAAoClI,IAApC,EAA0C8H,OAA1C,CAAnB;;AACA,WAAO,CAAC,GAAGrJ,QAAQ,CAACmB,MAAb,EAAqB,EAArB,EAAyBqI,YAAzB,EAAuC;AAC1CE,MAAAA,SAAS,EAAE,QAAQpD,SAAR,IAAqB,OAAOW,SAAP,GAAmB,SAASA,SAA5B,GAAwC,EAA7D,KAAoE,OAAOC,UAAP,GAAoB,SAASA,UAA7B,GAA0C,EAA9G,IAAoH,MAApH,GAA6HX,QAD9F;AAE1CoD,MAAAA,aAAa,EAAErD,SAF2B;AAG1CsD,MAAAA,aAAa,EAAE3C,SAH2B;AAI1C4C,MAAAA,cAAc,EAAE3C,UAJ0B;AAK1C4C,MAAAA,YAAY,EAAEvD;AAL4B,KAAvC,CAAP;AAOH,GA5UuD;AA6UxDwD,EAAAA,WAAW,EAAE,YAAW;AACpB,WAAO,KAAKzD,SAAZ;AACH,GA/UuD;AAgVxD0D,EAAAA,WAAW,EAAE,YAAW;AACpB,WAAO,KAAKzD,QAAZ;AACH;AAlVuD,CAA7C,CAAf;;AAoVAzG,OAAO,CAACC,OAAR,GAAkBmB,QAAlB;AACA+I,MAAM,CAACnK,OAAP,GAAiBA,OAAO,CAACC,OAAzB","sourcesContent":["/**\r\n * DevExtreme (viz/series/points/candlestick_point.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _extend2 = require(\"../../../core/utils/extend\");\r\nvar _symbol_point = _interopRequireDefault(require(\"./symbol_point\"));\r\nvar _bar_point = _interopRequireDefault(require(\"./bar_point\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _math = Math;\r\nvar _abs = _math.abs;\r\nvar _min = _math.min;\r\nvar _max = _math.max;\r\nvar _round = _math.round;\r\nvar DEFAULT_FINANCIAL_TRACKER_MARGIN = 2;\r\nvar _default = (0, _extend2.extend)({}, _bar_point.default, {\r\n    _getContinuousPoints: function(openCoord, closeCoord) {\r\n        var that = this;\r\n        var x = that.x;\r\n        var createPoint = that._options.rotated ? function(x, y) {\r\n            return [y, x]\r\n        } : function(x, y) {\r\n            return [x, y]\r\n        };\r\n        var width = that.width;\r\n        var highCoord = that.highY;\r\n        var max = _abs(highCoord - openCoord) < _abs(highCoord - closeCoord) ? openCoord : closeCoord;\r\n        var min = max === closeCoord ? openCoord : closeCoord;\r\n        var points;\r\n        if (min === max) {\r\n            points = [].concat(createPoint(x, that.highY)).concat(createPoint(x, that.lowY)).concat(createPoint(x, that.closeY)).concat(createPoint(x - width / 2, that.closeY)).concat(createPoint(x + width / 2, that.closeY)).concat(createPoint(x, that.closeY))\r\n        } else {\r\n            points = [].concat(createPoint(x, that.highY)).concat(createPoint(x, max)).concat(createPoint(x + width / 2, max)).concat(createPoint(x + width / 2, min)).concat(createPoint(x, min)).concat(createPoint(x, that.lowY)).concat(createPoint(x, min)).concat(createPoint(x - width / 2, min)).concat(createPoint(x - width / 2, max)).concat(createPoint(x, max))\r\n        }\r\n        return points\r\n    },\r\n    _getCrockPoints: function(y) {\r\n        var that = this;\r\n        var x = that.x;\r\n        var createPoint = that._options.rotated ? function(x, y) {\r\n            return [y, x]\r\n        } : function(x, y) {\r\n            return [x, y]\r\n        };\r\n        return [].concat(createPoint(x, that.highY)).concat(createPoint(x, that.lowY)).concat(createPoint(x, y)).concat(createPoint(x - that.width / 2, y)).concat(createPoint(x + that.width / 2, y)).concat(createPoint(x, y))\r\n    },\r\n    _getPoints: function() {\r\n        var that = this;\r\n        var points;\r\n        var closeCoord = that.closeY;\r\n        var openCoord = that.openY;\r\n        if (null !== closeCoord && null !== openCoord) {\r\n            points = that._getContinuousPoints(openCoord, closeCoord)\r\n        } else {\r\n            if (openCoord === closeCoord) {\r\n                points = [that.x, that.highY, that.x, that.lowY]\r\n            } else {\r\n                points = that._getCrockPoints(null !== openCoord ? openCoord : closeCoord)\r\n            }\r\n        }\r\n        return points\r\n    },\r\n    getColor: function() {\r\n        var that = this;\r\n        return that._isReduction ? that._options.reduction.color : that._styles.normal.stroke || that.series.getColor()\r\n    },\r\n    _drawMarkerInGroup: function(group, attributes, renderer) {\r\n        var that = this;\r\n        that.graphic = renderer.path(that._getPoints(), \"area\").attr({\r\n            \"stroke-linecap\": \"square\"\r\n        }).attr(attributes).data({\r\n            \"chart-data-point\": that\r\n        }).sharp().append(group)\r\n    },\r\n    _fillStyle: function() {\r\n        var that = this;\r\n        var styles = that._options.styles;\r\n        if (that._isReduction && that._isPositive) {\r\n            that._styles = styles.reductionPositive\r\n        } else {\r\n            if (that._isReduction) {\r\n                that._styles = styles.reduction\r\n            } else {\r\n                if (that._isPositive) {\r\n                    that._styles = styles.positive\r\n                } else {\r\n                    that._styles = styles\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _getMinTrackerWidth: function() {\r\n        return 2 + 2 * this._styles.normal[\"stroke-width\"]\r\n    },\r\n    correctCoordinates: function(correctOptions) {\r\n        var minWidth = this._getMinTrackerWidth();\r\n        var maxWidth = 10;\r\n        var width = correctOptions.width;\r\n        width = width < minWidth ? minWidth : width > maxWidth ? maxWidth : width;\r\n        this.width = width + width % 2;\r\n        this.xCorrection = correctOptions.offset\r\n    },\r\n    _getMarkerGroup: function(group) {\r\n        var that = this;\r\n        var markerGroup;\r\n        if (that._isReduction && that._isPositive) {\r\n            markerGroup = group.reductionPositiveMarkersGroup\r\n        } else {\r\n            if (that._isReduction) {\r\n                markerGroup = group.reductionMarkersGroup\r\n            } else {\r\n                if (that._isPositive) {\r\n                    markerGroup = group.defaultPositiveMarkersGroup\r\n                } else {\r\n                    markerGroup = group.defaultMarkersGroup\r\n                }\r\n            }\r\n        }\r\n        return markerGroup\r\n    },\r\n    _drawMarker: function(renderer, group) {\r\n        this._drawMarkerInGroup(this._getMarkerGroup(group), this._getStyle(), renderer)\r\n    },\r\n    _getSettingsForTracker: function() {\r\n        var that = this;\r\n        var highY = that.highY;\r\n        var lowY = that.lowY;\r\n        var rotated = that._options.rotated;\r\n        var x;\r\n        var y;\r\n        var width;\r\n        var height;\r\n        if (highY === lowY) {\r\n            highY = rotated ? highY + DEFAULT_FINANCIAL_TRACKER_MARGIN : highY - DEFAULT_FINANCIAL_TRACKER_MARGIN;\r\n            lowY = rotated ? lowY - DEFAULT_FINANCIAL_TRACKER_MARGIN : lowY + DEFAULT_FINANCIAL_TRACKER_MARGIN\r\n        }\r\n        if (rotated) {\r\n            x = _min(lowY, highY);\r\n            y = that.x - that.width / 2;\r\n            width = _abs(lowY - highY);\r\n            height = that.width\r\n        } else {\r\n            x = that.x - that.width / 2;\r\n            y = _min(lowY, highY);\r\n            width = that.width;\r\n            height = _abs(lowY - highY)\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height\r\n        }\r\n    },\r\n    _getGraphicBBox: function(location) {\r\n        var that = this;\r\n        var rotated = that._options.rotated;\r\n        var x = that.x;\r\n        var width = that.width;\r\n        var lowY = that.lowY;\r\n        var highY = that.highY;\r\n        if (location) {\r\n            var valVisibleArea = that.series.getValueAxis().getVisibleArea();\r\n            highY = that._truncateCoord(highY, valVisibleArea);\r\n            lowY = that._truncateCoord(lowY, valVisibleArea)\r\n        }\r\n        var bBox = {\r\n            x: !rotated ? x - _round(width / 2) : lowY,\r\n            y: !rotated ? highY : x - _round(width / 2),\r\n            width: !rotated ? width : highY - lowY,\r\n            height: !rotated ? lowY - highY : width\r\n        };\r\n        if (location) {\r\n            var isTop = \"top\" === location;\r\n            if (!this._options.rotated) {\r\n                bBox.y = isTop ? bBox.y : bBox.y + bBox.height;\r\n                bBox.height = 0\r\n            } else {\r\n                bBox.x = isTop ? bBox.x + bBox.width : bBox.x;\r\n                bBox.width = 0\r\n            }\r\n        }\r\n        return bBox\r\n    },\r\n    getTooltipParams: function(location) {\r\n        var that = this;\r\n        if (that.graphic) {\r\n            var minValue = _min(that.lowY, that.highY);\r\n            var maxValue = _max(that.lowY, that.highY);\r\n            var visibleArea = that._getVisibleArea();\r\n            var rotated = that._options.rotated;\r\n            var minVisible = rotated ? visibleArea.minX : visibleArea.minY;\r\n            var maxVisible = rotated ? visibleArea.maxX : visibleArea.maxY;\r\n            var min = _max(minVisible, minValue);\r\n            var max = _min(maxVisible, maxValue);\r\n            var centerCoord = that.getCenterCoord();\r\n            if (\"edge\" === location) {\r\n                centerCoord[rotated ? \"x\" : \"y\"] = rotated ? max : min\r\n            }\r\n            centerCoord.offset = 0;\r\n            return centerCoord\r\n        }\r\n    },\r\n    getCenterCoord: function() {\r\n        if (this.graphic) {\r\n            var that = this;\r\n            var x;\r\n            var y;\r\n            var minValue = _min(that.lowY, that.highY);\r\n            var maxValue = _max(that.lowY, that.highY);\r\n            var visibleArea = that._getVisibleArea();\r\n            var rotated = that._options.rotated;\r\n            var minVisible = rotated ? visibleArea.minX : visibleArea.minY;\r\n            var maxVisible = rotated ? visibleArea.maxX : visibleArea.maxY;\r\n            var min = _max(minVisible, minValue);\r\n            var max = _min(maxVisible, maxValue);\r\n            var center = min + (max - min) / 2;\r\n            if (rotated) {\r\n                y = that.x;\r\n                x = center\r\n            } else {\r\n                x = that.x;\r\n                y = center\r\n            }\r\n            return {\r\n                x: x,\r\n                y: y\r\n            }\r\n        }\r\n    },\r\n    hasValue: function() {\r\n        return null !== this.highValue && null !== this.lowValue\r\n    },\r\n    hasCoords: function() {\r\n        return null !== this.x && null !== this.lowY && null !== this.highY\r\n    },\r\n    _translate: function() {\r\n        var that = this;\r\n        var rotated = that._options.rotated;\r\n        var valTranslator = that._getValTranslator();\r\n        var x = that._getArgTranslator().translate(that.argument);\r\n        that.vx = that.vy = that.x = null === x ? x : x + (that.xCorrection || 0);\r\n        that.openY = null !== that.openValue ? valTranslator.translate(that.openValue) : null;\r\n        that.highY = valTranslator.translate(that.highValue);\r\n        that.lowY = valTranslator.translate(that.lowValue);\r\n        that.closeY = null !== that.closeValue ? valTranslator.translate(that.closeValue) : null;\r\n        var centerValue = _min(that.lowY, that.highY) + _abs(that.lowY - that.highY) / 2;\r\n        that._calculateVisibility(!rotated ? that.x : centerValue, !rotated ? centerValue : that.x)\r\n    },\r\n    getCrosshairData: function(x, y) {\r\n        var that = this;\r\n        var rotated = that._options.rotated;\r\n        var origY = rotated ? x : y;\r\n        var yValue;\r\n        var argument = that.argument;\r\n        var coords;\r\n        var coord = \"low\";\r\n        if (_abs(that.lowY - origY) < _abs(that.closeY - origY)) {\r\n            yValue = that.lowY\r\n        } else {\r\n            yValue = that.closeY;\r\n            coord = \"close\"\r\n        }\r\n        if (_abs(yValue - origY) >= _abs(that.openY - origY)) {\r\n            yValue = that.openY;\r\n            coord = \"open\"\r\n        }\r\n        if (_abs(yValue - origY) >= _abs(that.highY - origY)) {\r\n            yValue = that.highY;\r\n            coord = \"high\"\r\n        }\r\n        if (rotated) {\r\n            coords = {\r\n                y: that.vy,\r\n                x: yValue,\r\n                xValue: that[coord + \"Value\"],\r\n                yValue: argument\r\n            }\r\n        } else {\r\n            coords = {\r\n                x: that.vx,\r\n                y: yValue,\r\n                xValue: argument,\r\n                yValue: that[coord + \"Value\"]\r\n            }\r\n        }\r\n        coords.axis = that.series.axis;\r\n        return coords\r\n    },\r\n    _updateData: function(data) {\r\n        var that = this;\r\n        var label = that._label;\r\n        var reductionColor = this._options.reduction.color;\r\n        that.value = that.initialValue = data.reductionValue;\r\n        that.originalValue = data.value;\r\n        that.lowValue = that.originalLowValue = data.lowValue;\r\n        that.highValue = that.originalHighValue = data.highValue;\r\n        that.openValue = that.originalOpenValue = data.openValue;\r\n        that.closeValue = that.originalCloseValue = data.closeValue;\r\n        that._isPositive = data.openValue < data.closeValue;\r\n        that._isReduction = data.isReduction;\r\n        if (that._isReduction) {\r\n            label.setColor(reductionColor)\r\n        }\r\n    },\r\n    _updateMarker: function(animationEnabled, style, group) {\r\n        var that = this;\r\n        var graphic = that.graphic;\r\n        graphic.attr({\r\n            points: that._getPoints()\r\n        }).smartAttr(style).sharp();\r\n        group && graphic.append(that._getMarkerGroup(group))\r\n    },\r\n    _getLabelFormatObject: function() {\r\n        var that = this;\r\n        return {\r\n            openValue: that.openValue,\r\n            highValue: that.highValue,\r\n            lowValue: that.lowValue,\r\n            closeValue: that.closeValue,\r\n            reductionValue: that.initialValue,\r\n            argument: that.initialArgument,\r\n            value: that.initialValue,\r\n            seriesName: that.series.name,\r\n            originalOpenValue: that.originalOpenValue,\r\n            originalCloseValue: that.originalCloseValue,\r\n            originalLowValue: that.originalLowValue,\r\n            originalHighValue: that.originalHighValue,\r\n            originalArgument: that.originalArgument,\r\n            point: that\r\n        }\r\n    },\r\n    _getFormatObject: function(tooltip) {\r\n        var that = this;\r\n        var highValue = tooltip.formatValue(that.highValue);\r\n        var openValue = tooltip.formatValue(that.openValue);\r\n        var closeValue = tooltip.formatValue(that.closeValue);\r\n        var lowValue = tooltip.formatValue(that.lowValue);\r\n        var symbolMethods = _symbol_point.default;\r\n        var formatObject = symbolMethods._getFormatObject.call(that, tooltip);\r\n        return (0, _extend2.extend)({}, formatObject, {\r\n            valueText: \"h: \" + highValue + (\"\" !== openValue ? \" o: \" + openValue : \"\") + (\"\" !== closeValue ? \" c: \" + closeValue : \"\") + \" l: \" + lowValue,\r\n            highValueText: highValue,\r\n            openValueText: openValue,\r\n            closeValueText: closeValue,\r\n            lowValueText: lowValue\r\n        })\r\n    },\r\n    getMaxValue: function() {\r\n        return this.highValue\r\n    },\r\n    getMinValue: function() {\r\n        return this.lowValue\r\n    }\r\n});\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}