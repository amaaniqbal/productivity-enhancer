{"ast":null,"code":"/**\r\n * DevExtreme (viz/series/points/symbol_point.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _extend2 = require(\"../../../core/utils/extend\");\n\nvar _iterator = require(\"../../../core/utils/iterator\");\n\nvar _common = require(\"../../../core/utils/common\");\n\nvar _window = require(\"../../../core/utils/window\");\n\nvar _label = require(\"./label\");\n\nvar _type = require(\"../../../core/utils/type\");\n\nvar _utils = require(\"../../core/utils\");\n\nvar window = (0, _window.getWindow)();\nvar _extend = _extend2.extend;\nvar _math = Math;\nvar _round = _math.round;\nvar _floor = _math.floor;\nvar _ceil = _math.ceil;\nvar DEFAULT_IMAGE_WIDTH = 20;\nvar DEFAULT_IMAGE_HEIGHT = 20;\nvar LABEL_OFFSET = 10;\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\n\nfunction getSquareMarkerCoords(radius) {\n  return [-radius, -radius, radius, -radius, radius, radius, -radius, radius, -radius, -radius];\n}\n\nfunction getPolygonMarkerCoords(radius) {\n  var r = _ceil(radius);\n\n  return [-r, 0, 0, -r, r, 0, 0, r, -r, 0];\n}\n\nfunction getCrossMarkerCoords(radius) {\n  var r = _ceil(radius);\n\n  var floorHalfRadius = _floor(r / 2);\n\n  var ceilHalfRadius = _ceil(r / 2);\n\n  return [-r, -floorHalfRadius, -floorHalfRadius, -r, 0, -ceilHalfRadius, floorHalfRadius, -r, r, -floorHalfRadius, ceilHalfRadius, 0, r, floorHalfRadius, floorHalfRadius, r, 0, ceilHalfRadius, -floorHalfRadius, r, -r, floorHalfRadius, -ceilHalfRadius, 0];\n}\n\nfunction getTriangleDownMarkerCoords(radius) {\n  return [-radius, -radius, radius, -radius, 0, radius, -radius, -radius];\n}\n\nfunction getTriangleUpMarkerCoords(radius) {\n  return [-radius, radius, radius, radius, 0, -radius, -radius, radius];\n}\n\nvar _default = {\n  deleteLabel: function () {\n    this._label.dispose();\n\n    this._label = null;\n  },\n  _hasGraphic: function () {\n    return this.graphic;\n  },\n  clearVisibility: function () {\n    var that = this;\n    var graphic = that.graphic;\n\n    if (graphic && graphic.attr(\"visibility\")) {\n      graphic.attr({\n        visibility: null\n      });\n    }\n  },\n  isVisible: function () {\n    return this.inVisibleArea && this.series.isVisible();\n  },\n  setInvisibility: function () {\n    var that = this;\n    var graphic = that.graphic;\n\n    if (graphic && \"hidden\" !== graphic.attr(\"visibility\")) {\n      graphic.attr({\n        visibility: \"hidden\"\n      });\n    }\n\n    that._errorBar && that._errorBar.attr({\n      visibility: \"hidden\"\n    });\n\n    that._label.draw(false);\n  },\n  clearMarker: function () {\n    var graphic = this.graphic;\n    graphic && graphic.attr(this._emptySettings);\n  },\n  _createLabel: function () {\n    this._label = new _label.Label({\n      renderer: this.series._renderer,\n      labelsGroup: this.series._labelsGroup,\n      point: this\n    });\n  },\n  _updateLabelData: function () {\n    this._label.setData(this._getLabelFormatObject());\n  },\n  _updateLabelOptions: function () {\n    !this._label && this._createLabel();\n\n    this._label.setOptions(this._options.label);\n  },\n  _checkImage: function (image) {\n    return (0, _type.isDefined)(image) && (\"string\" === typeof image || (0, _type.isDefined)(image.url));\n  },\n  _fillStyle: function () {\n    this._styles = this._options.styles;\n  },\n  _checkSymbol: function (oldOptions, newOptions) {\n    var oldSymbol = oldOptions.symbol;\n    var newSymbol = newOptions.symbol;\n    var symbolChanged = \"circle\" === oldSymbol && \"circle\" !== newSymbol || \"circle\" !== oldSymbol && \"circle\" === newSymbol;\n\n    var imageChanged = this._checkImage(oldOptions.image) !== this._checkImage(newOptions.image);\n\n    return !!(symbolChanged || imageChanged);\n  },\n  _populatePointShape: function (symbol, radius) {\n    switch (symbol) {\n      case \"square\":\n        return getSquareMarkerCoords(radius);\n\n      case \"polygon\":\n        return getPolygonMarkerCoords(radius);\n\n      case \"triangle\":\n      case \"triangleDown\":\n        return getTriangleDownMarkerCoords(radius);\n\n      case \"triangleUp\":\n        return getTriangleUpMarkerCoords(radius);\n\n      case \"cross\":\n        return getCrossMarkerCoords(radius);\n    }\n  },\n  hasCoords: function () {\n    return null !== this.x && null !== this.y;\n  },\n  correctValue: function (correction) {\n    var that = this;\n    var axis = that.series.getValueAxis();\n\n    if (that.hasValue()) {\n      that.value = that.properValue = axis.validateUnit(that.initialValue.valueOf() + correction.valueOf());\n      that.minValue = axis.validateUnit(correction);\n    }\n  },\n  resetCorrection: function () {\n    this.value = this.properValue = this.initialValue;\n    this.minValue = CANVAS_POSITION_DEFAULT;\n  },\n  resetValue: function () {\n    var that = this;\n\n    if (that.hasValue()) {\n      that.value = that.properValue = that.initialValue = 0;\n      that.minValue = 0;\n\n      that._label.setDataField(\"value\", that.value);\n    }\n  },\n  _getTranslates: function (animationEnabled) {\n    var translateX = this.x;\n    var translateY = this.y;\n\n    if (animationEnabled) {\n      if (this._options.rotated) {\n        translateX = this.defaultX;\n      } else {\n        translateY = this.defaultY;\n      }\n    }\n\n    return {\n      x: translateX,\n      y: translateY\n    };\n  },\n  _createImageMarker: function (renderer, settings, options) {\n    var width = options.width || DEFAULT_IMAGE_WIDTH;\n    var height = options.height || DEFAULT_IMAGE_HEIGHT;\n    return renderer.image(-_round(.5 * width), -_round(.5 * height), width, height, options.url ? options.url.toString() : options.toString(), \"center\").attr({\n      translateX: settings.translateX,\n      translateY: settings.translateY,\n      visibility: settings.visibility\n    });\n  },\n  _createSymbolMarker: function (renderer, pointSettings) {\n    var marker;\n    var symbol = this._options.symbol;\n\n    if (\"circle\" === symbol) {\n      delete pointSettings.points;\n      marker = renderer.circle().attr(pointSettings);\n    } else {\n      if (\"square\" === symbol || \"polygon\" === symbol || \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol || \"cross\" === symbol) {\n        marker = renderer.path([], \"area\").attr(pointSettings).sharp();\n      }\n    }\n\n    return marker;\n  },\n  _createMarker: function (renderer, group, image, settings) {\n    var that = this;\n    var marker = that._checkImage(image) ? that._createImageMarker(renderer, settings, image) : that._createSymbolMarker(renderer, settings);\n\n    if (marker) {\n      marker.data({\n        \"chart-data-point\": that\n      }).append(group);\n    }\n\n    return marker;\n  },\n  _getSymbolBBox: function (x, y, r) {\n    return {\n      x: x - r,\n      y: y - r,\n      width: 2 * r,\n      height: 2 * r\n    };\n  },\n  _getImageBBox: function (x, y) {\n    var image = this._options.image;\n    var width = image.width || DEFAULT_IMAGE_WIDTH;\n    var height = image.height || DEFAULT_IMAGE_HEIGHT;\n    return {\n      x: x - _round(width / 2),\n      y: y - _round(height / 2),\n      width: width,\n      height: height\n    };\n  },\n  _getGraphicBBox: function () {\n    var that = this;\n    var options = that._options;\n    var x = that.x;\n    var y = that.y;\n    var bBox;\n\n    if (options.visible) {\n      bBox = that._checkImage(options.image) ? that._getImageBBox(x, y) : that._getSymbolBBox(x, y, options.styles.normal.r);\n    } else {\n      bBox = {\n        x: x,\n        y: y,\n        width: 0,\n        height: 0\n      };\n    }\n\n    return bBox;\n  },\n  hideInsideLabel: _common.noop,\n  _getShiftLabelCoords: function (label) {\n    var coord = this._addLabelAlignmentAndOffset(label, this._getLabelCoords(label));\n\n    return this._checkLabelPosition(label, coord);\n  },\n  _drawLabel: function () {\n    var that = this;\n\n    var customVisibility = that._getCustomLabelVisibility();\n\n    var label = that._label;\n    var isVisible = that._showForZeroValues() && that.hasValue() && false !== customVisibility && (that.series.getLabelVisibility() || customVisibility);\n    label.draw(!!isVisible);\n  },\n  correctLabelPosition: function (label) {\n    var that = this;\n\n    var coord = that._getShiftLabelCoords(label);\n\n    if (!that.hideInsideLabel(label, coord)) {\n      label.setFigureToDrawConnector(that._getLabelConnector(label.pointPosition));\n      label.shift(_round(coord.x), _round(coord.y));\n    }\n  },\n  _showForZeroValues: function () {\n    return true;\n  },\n  _getLabelConnector: function (pointPosition) {\n    var bBox = this._getGraphicBBox(pointPosition);\n\n    var w2 = bBox.width / 2;\n    var h2 = bBox.height / 2;\n    return {\n      x: bBox.x + w2,\n      y: bBox.y + h2,\n      r: this._options.visible ? Math.max(w2, h2) : 0\n    };\n  },\n  _getPositionFromLocation: function () {\n    return {\n      x: this.x,\n      y: this.y\n    };\n  },\n  _isPointInVisibleArea: function (visibleArea, graphicBBox) {\n    return visibleArea.minX <= graphicBBox.x + graphicBBox.width && visibleArea.maxX >= graphicBBox.x && visibleArea.minY <= graphicBBox.y + graphicBBox.height && visibleArea.maxY >= graphicBBox.y;\n  },\n  _checkLabelPosition: function (label, coord) {\n    var that = this;\n\n    var visibleArea = that._getVisibleArea();\n\n    var labelBBox = label.getBoundingRect();\n\n    var graphicBBox = that._getGraphicBBox(label.pointPosition);\n\n    var fullGraphicBBox = that._getGraphicBBox();\n\n    var isInside = \"inside\" === label.getLayoutOptions().position;\n    var offset = LABEL_OFFSET;\n\n    if (that._isPointInVisibleArea(visibleArea, fullGraphicBBox)) {\n      if (!that._options.rotated) {\n        if (visibleArea.minX > coord.x) {\n          coord.x = visibleArea.minX;\n        }\n\n        if (visibleArea.maxX < coord.x + labelBBox.width) {\n          coord.x = visibleArea.maxX - labelBBox.width;\n        }\n\n        if (visibleArea.minY > coord.y) {\n          coord.y = isInside ? visibleArea.minY : graphicBBox.y + graphicBBox.height + offset;\n        }\n\n        if (visibleArea.maxY < coord.y + labelBBox.height) {\n          coord.y = isInside ? visibleArea.maxY - labelBBox.height : graphicBBox.y - labelBBox.height - offset;\n        }\n      } else {\n        if (visibleArea.minX > coord.x) {\n          coord.x = isInside ? visibleArea.minX : graphicBBox.x + graphicBBox.width + offset;\n        }\n\n        if (visibleArea.maxX < coord.x + labelBBox.width) {\n          coord.x = isInside ? visibleArea.maxX - labelBBox.width : graphicBBox.x - offset - labelBBox.width;\n        }\n\n        if (visibleArea.minY > coord.y) {\n          coord.y = visibleArea.minY;\n        }\n\n        if (visibleArea.maxY < coord.y + labelBBox.height) {\n          coord.y = visibleArea.maxY - labelBBox.height;\n        }\n      }\n    }\n\n    return coord;\n  },\n  _addLabelAlignmentAndOffset: function (label, coord) {\n    var labelBBox = label.getBoundingRect();\n    var labelOptions = label.getLayoutOptions();\n\n    if (!this._options.rotated) {\n      if (\"left\" === labelOptions.alignment) {\n        coord.x += labelBBox.width / 2;\n      } else {\n        if (\"right\" === labelOptions.alignment) {\n          coord.x -= labelBBox.width / 2;\n        }\n      }\n    }\n\n    coord.x += labelOptions.horizontalOffset;\n    coord.y += labelOptions.verticalOffset;\n    return coord;\n  },\n  _getLabelCoords: function (label) {\n    return this._getLabelCoordOfPosition(label, this._getLabelPosition(label.pointPosition));\n  },\n  _getLabelCoordOfPosition: function (label, position) {\n    var that = this;\n    var labelBBox = label.getBoundingRect();\n\n    var graphicBBox = that._getGraphicBBox(label.pointPosition);\n\n    var offset = LABEL_OFFSET;\n    var centerY = graphicBBox.height / 2 - labelBBox.height / 2;\n    var centerX = graphicBBox.width / 2 - labelBBox.width / 2;\n    var x = graphicBBox.x;\n    var y = graphicBBox.y;\n\n    switch (position) {\n      case \"left\":\n        x -= labelBBox.width + offset;\n        y += centerY;\n        break;\n\n      case \"right\":\n        x += graphicBBox.width + offset;\n        y += centerY;\n        break;\n\n      case \"top\":\n        x += centerX;\n        y -= labelBBox.height + offset;\n        break;\n\n      case \"bottom\":\n        x += centerX;\n        y += graphicBBox.height + offset;\n        break;\n\n      case \"inside\":\n        x += centerX;\n        y += centerY;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  },\n  _drawMarker: function (renderer, group, animationEnabled) {\n    var that = this;\n    var options = that._options;\n\n    var translates = that._getTranslates(animationEnabled);\n\n    var style = that._getStyle();\n\n    that.graphic = that._createMarker(renderer, group, options.image, _extend({\n      translateX: translates.x,\n      translateY: translates.y,\n      points: that._populatePointShape(options.symbol, style.r)\n    }, style));\n  },\n  _getErrorBarSettings: function () {\n    return {\n      visibility: \"visible\"\n    };\n  },\n  _getErrorBarBaseEdgeLength: function () {\n    return 2 * this.getPointRadius();\n  },\n  _drawErrorBar: function (renderer, group) {\n    if (!this._options.errorBars) {\n      return;\n    }\n\n    var that = this;\n    var options = that._options;\n    var errorBarOptions = options.errorBars;\n    var points = [];\n    var settings;\n    var pos = that._errorBarPos;\n    var high = that._highErrorCoord;\n    var low = that._lowErrorCoord;\n    var displayMode = (0, _utils.normalizeEnum)(errorBarOptions.displayMode);\n    var isHighDisplayMode = \"high\" === displayMode;\n    var isLowDisplayMode = \"low\" === displayMode;\n    var highErrorOnly = (isHighDisplayMode || !(0, _type.isDefined)(low)) && (0, _type.isDefined)(high) && !isLowDisplayMode;\n    var lowErrorOnly = (isLowDisplayMode || !(0, _type.isDefined)(high)) && (0, _type.isDefined)(low) && !isHighDisplayMode;\n    var edgeLength = errorBarOptions.edgeLength;\n\n    if (edgeLength <= 1 && edgeLength > 0) {\n      edgeLength = this._getErrorBarBaseEdgeLength() * errorBarOptions.edgeLength;\n    }\n\n    edgeLength = _floor(parseInt(edgeLength) / 2);\n    highErrorOnly && (low = that._baseErrorBarPos);\n    lowErrorOnly && (high = that._baseErrorBarPos);\n\n    if (\"none\" !== displayMode && (0, _type.isDefined)(high) && (0, _type.isDefined)(low) && (0, _type.isDefined)(pos)) {\n      !lowErrorOnly && points.push([pos - edgeLength, high, pos + edgeLength, high]);\n      points.push([pos, high, pos, low]);\n      !highErrorOnly && points.push([pos + edgeLength, low, pos - edgeLength, low]);\n      options.rotated && (0, _iterator.each)(points, function (_, p) {\n        p.reverse();\n      });\n      settings = that._getErrorBarSettings(errorBarOptions);\n\n      if (!that._errorBar) {\n        that._errorBar = renderer.path(points, \"line\").attr(settings).append(group);\n      } else {\n        settings.points = points;\n\n        that._errorBar.attr(settings);\n      }\n    } else {\n      that._errorBar && that._errorBar.attr({\n        visibility: \"hidden\"\n      });\n    }\n  },\n  getTooltipParams: function () {\n    var that = this;\n    var graphic = that.graphic;\n    return {\n      x: that.x,\n      y: that.y,\n      offset: graphic ? graphic.getBBox().height / 2 : 0\n    };\n  },\n  setPercentValue: function (absTotal, total, leftHoleTotal, rightHoleTotal) {\n    var that = this;\n    var valuePercent = that.value / absTotal || 0;\n    var minValuePercent = that.minValue / absTotal || 0;\n    var percent = valuePercent - minValuePercent;\n\n    that._label.setDataField(\"percent\", percent);\n\n    that._label.setDataField(\"total\", total);\n\n    if (that.series.isFullStackedSeries() && that.hasValue()) {\n      if (that.leftHole) {\n        that.leftHole /= absTotal - leftHoleTotal;\n        that.minLeftHole /= absTotal - leftHoleTotal;\n      }\n\n      if (that.rightHole) {\n        that.rightHole /= absTotal - rightHoleTotal;\n        that.minRightHole /= absTotal - rightHoleTotal;\n      }\n\n      that.value = that.properValue = valuePercent;\n      that.minValue = !minValuePercent ? that.minValue : minValuePercent;\n    }\n  },\n  _storeTrackerR: function () {\n    var that = this;\n    var navigator = window.navigator;\n    var r = that._options.styles.normal.r;\n    var minTrackerSize = (0, _window.hasProperty)(\"ontouchstart\") || navigator.msPointerEnabled && navigator.msMaxTouchPoints || navigator.pointerEnabled && navigator.maxTouchPoints ? 20 : 6;\n    that._options.trackerR = r < minTrackerSize ? minTrackerSize : r;\n    return that._options.trackerR;\n  },\n  _translateErrorBars: function () {\n    var that = this;\n    var options = that._options;\n    var rotated = options.rotated;\n    var errorBars = options.errorBars;\n\n    var translator = that._getValTranslator();\n\n    if (!errorBars) {\n      return;\n    }\n\n    (0, _type.isDefined)(that.lowError) && (that._lowErrorCoord = translator.translate(that.lowError));\n    (0, _type.isDefined)(that.highError) && (that._highErrorCoord = translator.translate(that.highError));\n    that._errorBarPos = _floor(rotated ? that.vy : that.vx);\n    that._baseErrorBarPos = \"stdDeviation\" === errorBars.type ? that._lowErrorCoord + (that._highErrorCoord - that._lowErrorCoord) / 2 : rotated ? that.vx : that.vy;\n  },\n  _translate: function () {\n    var that = this;\n\n    var valTranslator = that._getValTranslator();\n\n    var argTranslator = that._getArgTranslator();\n\n    if (that._options.rotated) {\n      that.vx = that.x = valTranslator.translate(that.value);\n      that.vy = that.y = argTranslator.translate(that.argument);\n      that.minX = valTranslator.translate(that.minValue);\n      that.defaultX = valTranslator.translate(CANVAS_POSITION_DEFAULT);\n    } else {\n      that.vy = that.y = valTranslator.translate(that.value);\n      that.vx = that.x = argTranslator.translate(that.argument);\n      that.minY = valTranslator.translate(that.minValue);\n      that.defaultY = valTranslator.translate(CANVAS_POSITION_DEFAULT);\n    }\n\n    that._translateErrorBars();\n\n    that._calculateVisibility(that.x, that.y);\n  },\n  _updateData: function (data) {\n    var that = this;\n    that.value = that.properValue = that.initialValue = that.originalValue = data.value;\n    that.minValue = that.initialMinValue = that.originalMinValue = (0, _type.isDefined)(data.minValue) ? data.minValue : CANVAS_POSITION_DEFAULT;\n  },\n  _getImageSettings: function (image) {\n    return {\n      href: image.url || image.toString(),\n      width: image.width || DEFAULT_IMAGE_WIDTH,\n      height: image.height || DEFAULT_IMAGE_HEIGHT\n    };\n  },\n  getCrosshairData: function () {\n    var that = this;\n    var r = that._options.rotated;\n    var value = that.properValue;\n    var argument = that.argument;\n    return {\n      x: that.vx,\n      y: that.vy,\n      xValue: r ? value : argument,\n      yValue: r ? argument : value,\n      axis: that.series.axis\n    };\n  },\n  getPointRadius: function () {\n    var style = this._getStyle();\n\n    var options = this._options;\n    var r = style.r;\n    var extraSpace;\n    var symbol = options.symbol;\n    var isSquare = \"square\" === symbol;\n    var isTriangle = \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol;\n\n    if (options.visible && !options.image && r) {\n      extraSpace = style[\"stroke-width\"] / 2;\n      return (isSquare || isTriangle ? 1.4 * r : r) + extraSpace;\n    }\n\n    return 0;\n  },\n  _updateMarker: function (animationEnabled, style) {\n    var that = this;\n    var options = that._options;\n    var settings;\n    var image = options.image;\n    var visibility = !that.isVisible() ? {\n      visibility: \"hidden\"\n    } : {};\n\n    if (that._checkImage(image)) {\n      settings = _extend({}, {\n        visibility: style.visibility\n      }, visibility, that._getImageSettings(image));\n    } else {\n      settings = _extend({}, style, visibility, {\n        points: that._populatePointShape(options.symbol, style.r)\n      });\n    }\n\n    if (!animationEnabled) {\n      settings.translateX = that.x;\n      settings.translateY = that.y;\n    }\n\n    that.graphic.attr(settings).sharp();\n  },\n  _getLabelFormatObject: function () {\n    var that = this;\n    return {\n      argument: that.initialArgument,\n      value: that.initialValue,\n      originalArgument: that.originalArgument,\n      originalValue: that.originalValue,\n      seriesName: that.series.name,\n      lowErrorValue: that.lowError,\n      highErrorValue: that.highError,\n      point: that\n    };\n  },\n  _getLabelPosition: function () {\n    var rotated = this._options.rotated;\n\n    if (this.initialValue > 0) {\n      return rotated ? \"right\" : \"top\";\n    } else {\n      return rotated ? \"left\" : \"bottom\";\n    }\n  },\n  _getFormatObject: function (tooltip) {\n    var that = this;\n\n    var labelFormatObject = that._label.getData();\n\n    return _extend({}, labelFormatObject, {\n      argumentText: tooltip.formatValue(that.initialArgument, \"argument\"),\n      valueText: tooltip.formatValue(that.initialValue)\n    }, (0, _type.isDefined)(labelFormatObject.percent) ? {\n      percentText: tooltip.formatValue(labelFormatObject.percent, \"percent\")\n    } : {}, (0, _type.isDefined)(labelFormatObject.total) ? {\n      totalText: tooltip.formatValue(labelFormatObject.total)\n    } : {});\n  },\n  getMarkerVisibility: function () {\n    return this._options.visible;\n  },\n  coordsIn: function (x, y) {\n    var trackerRadius = this._storeTrackerR();\n\n    return x >= this.x - trackerRadius && x <= this.x + trackerRadius && y >= this.y - trackerRadius && y <= this.y + trackerRadius;\n  },\n  getMinValue: function (noErrorBar) {\n    var errorBarOptions = this._options.errorBars;\n\n    if (errorBarOptions && !noErrorBar) {\n      var displayMode = errorBarOptions.displayMode;\n      var lowValue = \"high\" !== displayMode && (0, _type.isDefined)(this.lowError) ? this.lowError : this.value;\n      var highValue = \"low\" !== displayMode && (0, _type.isDefined)(this.highError) ? this.highError : this.value;\n      return lowValue < highValue ? lowValue : highValue;\n    } else {\n      return this.value;\n    }\n  },\n  getMaxValue: function (noErrorBar) {\n    var errorBarOptions = this._options.errorBars;\n\n    if (errorBarOptions && !noErrorBar) {\n      var displayMode = errorBarOptions.displayMode;\n      var lowValue = \"high\" !== displayMode && (0, _type.isDefined)(this.lowError) ? this.lowError : this.value;\n      var highValue = \"low\" !== displayMode && (0, _type.isDefined)(this.highError) ? this.highError : this.value;\n      return lowValue > highValue ? lowValue : highValue;\n    } else {\n      return this.value;\n    }\n  }\n};\nexports.default = _default;\nmodule.exports = exports.default;","map":{"version":3,"sources":["E:/Monday.com/quickstart-react/node_modules/devextreme/viz/series/points/symbol_point.js"],"names":["exports","default","_extend2","require","_iterator","_common","_window","_label","_type","_utils","window","getWindow","_extend","extend","_math","Math","_round","round","_floor","floor","_ceil","ceil","DEFAULT_IMAGE_WIDTH","DEFAULT_IMAGE_HEIGHT","LABEL_OFFSET","CANVAS_POSITION_DEFAULT","getSquareMarkerCoords","radius","getPolygonMarkerCoords","r","getCrossMarkerCoords","floorHalfRadius","ceilHalfRadius","getTriangleDownMarkerCoords","getTriangleUpMarkerCoords","_default","deleteLabel","dispose","_hasGraphic","graphic","clearVisibility","that","attr","visibility","isVisible","inVisibleArea","series","setInvisibility","_errorBar","draw","clearMarker","_emptySettings","_createLabel","Label","renderer","_renderer","labelsGroup","_labelsGroup","point","_updateLabelData","setData","_getLabelFormatObject","_updateLabelOptions","setOptions","_options","label","_checkImage","image","isDefined","url","_fillStyle","_styles","styles","_checkSymbol","oldOptions","newOptions","oldSymbol","symbol","newSymbol","symbolChanged","imageChanged","_populatePointShape","hasCoords","x","y","correctValue","correction","axis","getValueAxis","hasValue","value","properValue","validateUnit","initialValue","valueOf","minValue","resetCorrection","resetValue","setDataField","_getTranslates","animationEnabled","translateX","translateY","rotated","defaultX","defaultY","_createImageMarker","settings","options","width","height","toString","_createSymbolMarker","pointSettings","marker","points","circle","path","sharp","_createMarker","group","data","append","_getSymbolBBox","_getImageBBox","_getGraphicBBox","bBox","visible","normal","hideInsideLabel","noop","_getShiftLabelCoords","coord","_addLabelAlignmentAndOffset","_getLabelCoords","_checkLabelPosition","_drawLabel","customVisibility","_getCustomLabelVisibility","_showForZeroValues","getLabelVisibility","correctLabelPosition","setFigureToDrawConnector","_getLabelConnector","pointPosition","shift","w2","h2","max","_getPositionFromLocation","_isPointInVisibleArea","visibleArea","graphicBBox","minX","maxX","minY","maxY","_getVisibleArea","labelBBox","getBoundingRect","fullGraphicBBox","isInside","getLayoutOptions","position","offset","labelOptions","alignment","horizontalOffset","verticalOffset","_getLabelCoordOfPosition","_getLabelPosition","centerY","centerX","_drawMarker","translates","style","_getStyle","_getErrorBarSettings","_getErrorBarBaseEdgeLength","getPointRadius","_drawErrorBar","errorBars","errorBarOptions","pos","_errorBarPos","high","_highErrorCoord","low","_lowErrorCoord","displayMode","normalizeEnum","isHighDisplayMode","isLowDisplayMode","highErrorOnly","lowErrorOnly","edgeLength","parseInt","_baseErrorBarPos","push","each","_","p","reverse","getTooltipParams","getBBox","setPercentValue","absTotal","total","leftHoleTotal","rightHoleTotal","valuePercent","minValuePercent","percent","isFullStackedSeries","leftHole","minLeftHole","rightHole","minRightHole","_storeTrackerR","navigator","minTrackerSize","hasProperty","msPointerEnabled","msMaxTouchPoints","pointerEnabled","maxTouchPoints","trackerR","_translateErrorBars","translator","_getValTranslator","lowError","translate","highError","vy","vx","type","_translate","valTranslator","argTranslator","_getArgTranslator","argument","_calculateVisibility","_updateData","originalValue","initialMinValue","originalMinValue","_getImageSettings","href","getCrosshairData","xValue","yValue","extraSpace","isSquare","isTriangle","_updateMarker","initialArgument","originalArgument","seriesName","name","lowErrorValue","highErrorValue","_getFormatObject","tooltip","labelFormatObject","getData","argumentText","formatValue","valueText","percentText","totalText","getMarkerVisibility","coordsIn","trackerRadius","getMinValue","noErrorBar","lowValue","highValue","getMaxValue","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/series/points/symbol_point.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _extend2 = require(\"../../../core/utils/extend\");\r\nvar _iterator = require(\"../../../core/utils/iterator\");\r\nvar _common = require(\"../../../core/utils/common\");\r\nvar _window = require(\"../../../core/utils/window\");\r\nvar _label = require(\"./label\");\r\nvar _type = require(\"../../../core/utils/type\");\r\nvar _utils = require(\"../../core/utils\");\r\nvar window = (0, _window.getWindow)();\r\nvar _extend = _extend2.extend;\r\nvar _math = Math;\r\nvar _round = _math.round;\r\nvar _floor = _math.floor;\r\nvar _ceil = _math.ceil;\r\nvar DEFAULT_IMAGE_WIDTH = 20;\r\nvar DEFAULT_IMAGE_HEIGHT = 20;\r\nvar LABEL_OFFSET = 10;\r\nvar CANVAS_POSITION_DEFAULT = \"canvas_position_default\";\r\n\r\nfunction getSquareMarkerCoords(radius) {\r\n    return [-radius, -radius, radius, -radius, radius, radius, -radius, radius, -radius, -radius]\r\n}\r\n\r\nfunction getPolygonMarkerCoords(radius) {\r\n    var r = _ceil(radius);\r\n    return [-r, 0, 0, -r, r, 0, 0, r, -r, 0]\r\n}\r\n\r\nfunction getCrossMarkerCoords(radius) {\r\n    var r = _ceil(radius);\r\n    var floorHalfRadius = _floor(r / 2);\r\n    var ceilHalfRadius = _ceil(r / 2);\r\n    return [-r, -floorHalfRadius, -floorHalfRadius, -r, 0, -ceilHalfRadius, floorHalfRadius, -r, r, -floorHalfRadius, ceilHalfRadius, 0, r, floorHalfRadius, floorHalfRadius, r, 0, ceilHalfRadius, -floorHalfRadius, r, -r, floorHalfRadius, -ceilHalfRadius, 0]\r\n}\r\n\r\nfunction getTriangleDownMarkerCoords(radius) {\r\n    return [-radius, -radius, radius, -radius, 0, radius, -radius, -radius]\r\n}\r\n\r\nfunction getTriangleUpMarkerCoords(radius) {\r\n    return [-radius, radius, radius, radius, 0, -radius, -radius, radius]\r\n}\r\nvar _default = {\r\n    deleteLabel: function() {\r\n        this._label.dispose();\r\n        this._label = null\r\n    },\r\n    _hasGraphic: function() {\r\n        return this.graphic\r\n    },\r\n    clearVisibility: function() {\r\n        var that = this;\r\n        var graphic = that.graphic;\r\n        if (graphic && graphic.attr(\"visibility\")) {\r\n            graphic.attr({\r\n                visibility: null\r\n            })\r\n        }\r\n    },\r\n    isVisible: function() {\r\n        return this.inVisibleArea && this.series.isVisible()\r\n    },\r\n    setInvisibility: function() {\r\n        var that = this;\r\n        var graphic = that.graphic;\r\n        if (graphic && \"hidden\" !== graphic.attr(\"visibility\")) {\r\n            graphic.attr({\r\n                visibility: \"hidden\"\r\n            })\r\n        }\r\n        that._errorBar && that._errorBar.attr({\r\n            visibility: \"hidden\"\r\n        });\r\n        that._label.draw(false)\r\n    },\r\n    clearMarker: function() {\r\n        var graphic = this.graphic;\r\n        graphic && graphic.attr(this._emptySettings)\r\n    },\r\n    _createLabel: function() {\r\n        this._label = new _label.Label({\r\n            renderer: this.series._renderer,\r\n            labelsGroup: this.series._labelsGroup,\r\n            point: this\r\n        })\r\n    },\r\n    _updateLabelData: function() {\r\n        this._label.setData(this._getLabelFormatObject())\r\n    },\r\n    _updateLabelOptions: function() {\r\n        !this._label && this._createLabel();\r\n        this._label.setOptions(this._options.label)\r\n    },\r\n    _checkImage: function(image) {\r\n        return (0, _type.isDefined)(image) && (\"string\" === typeof image || (0, _type.isDefined)(image.url))\r\n    },\r\n    _fillStyle: function() {\r\n        this._styles = this._options.styles\r\n    },\r\n    _checkSymbol: function(oldOptions, newOptions) {\r\n        var oldSymbol = oldOptions.symbol;\r\n        var newSymbol = newOptions.symbol;\r\n        var symbolChanged = \"circle\" === oldSymbol && \"circle\" !== newSymbol || \"circle\" !== oldSymbol && \"circle\" === newSymbol;\r\n        var imageChanged = this._checkImage(oldOptions.image) !== this._checkImage(newOptions.image);\r\n        return !!(symbolChanged || imageChanged)\r\n    },\r\n    _populatePointShape: function(symbol, radius) {\r\n        switch (symbol) {\r\n            case \"square\":\r\n                return getSquareMarkerCoords(radius);\r\n            case \"polygon\":\r\n                return getPolygonMarkerCoords(radius);\r\n            case \"triangle\":\r\n            case \"triangleDown\":\r\n                return getTriangleDownMarkerCoords(radius);\r\n            case \"triangleUp\":\r\n                return getTriangleUpMarkerCoords(radius);\r\n            case \"cross\":\r\n                return getCrossMarkerCoords(radius)\r\n        }\r\n    },\r\n    hasCoords: function() {\r\n        return null !== this.x && null !== this.y\r\n    },\r\n    correctValue: function(correction) {\r\n        var that = this;\r\n        var axis = that.series.getValueAxis();\r\n        if (that.hasValue()) {\r\n            that.value = that.properValue = axis.validateUnit(that.initialValue.valueOf() + correction.valueOf());\r\n            that.minValue = axis.validateUnit(correction)\r\n        }\r\n    },\r\n    resetCorrection: function() {\r\n        this.value = this.properValue = this.initialValue;\r\n        this.minValue = CANVAS_POSITION_DEFAULT\r\n    },\r\n    resetValue: function() {\r\n        var that = this;\r\n        if (that.hasValue()) {\r\n            that.value = that.properValue = that.initialValue = 0;\r\n            that.minValue = 0;\r\n            that._label.setDataField(\"value\", that.value)\r\n        }\r\n    },\r\n    _getTranslates: function(animationEnabled) {\r\n        var translateX = this.x;\r\n        var translateY = this.y;\r\n        if (animationEnabled) {\r\n            if (this._options.rotated) {\r\n                translateX = this.defaultX\r\n            } else {\r\n                translateY = this.defaultY\r\n            }\r\n        }\r\n        return {\r\n            x: translateX,\r\n            y: translateY\r\n        }\r\n    },\r\n    _createImageMarker: function(renderer, settings, options) {\r\n        var width = options.width || DEFAULT_IMAGE_WIDTH;\r\n        var height = options.height || DEFAULT_IMAGE_HEIGHT;\r\n        return renderer.image(-_round(.5 * width), -_round(.5 * height), width, height, options.url ? options.url.toString() : options.toString(), \"center\").attr({\r\n            translateX: settings.translateX,\r\n            translateY: settings.translateY,\r\n            visibility: settings.visibility\r\n        })\r\n    },\r\n    _createSymbolMarker: function(renderer, pointSettings) {\r\n        var marker;\r\n        var symbol = this._options.symbol;\r\n        if (\"circle\" === symbol) {\r\n            delete pointSettings.points;\r\n            marker = renderer.circle().attr(pointSettings)\r\n        } else {\r\n            if (\"square\" === symbol || \"polygon\" === symbol || \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol || \"cross\" === symbol) {\r\n                marker = renderer.path([], \"area\").attr(pointSettings).sharp()\r\n            }\r\n        }\r\n        return marker\r\n    },\r\n    _createMarker: function(renderer, group, image, settings) {\r\n        var that = this;\r\n        var marker = that._checkImage(image) ? that._createImageMarker(renderer, settings, image) : that._createSymbolMarker(renderer, settings);\r\n        if (marker) {\r\n            marker.data({\r\n                \"chart-data-point\": that\r\n            }).append(group)\r\n        }\r\n        return marker\r\n    },\r\n    _getSymbolBBox: function(x, y, r) {\r\n        return {\r\n            x: x - r,\r\n            y: y - r,\r\n            width: 2 * r,\r\n            height: 2 * r\r\n        }\r\n    },\r\n    _getImageBBox: function(x, y) {\r\n        var image = this._options.image;\r\n        var width = image.width || DEFAULT_IMAGE_WIDTH;\r\n        var height = image.height || DEFAULT_IMAGE_HEIGHT;\r\n        return {\r\n            x: x - _round(width / 2),\r\n            y: y - _round(height / 2),\r\n            width: width,\r\n            height: height\r\n        }\r\n    },\r\n    _getGraphicBBox: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var x = that.x;\r\n        var y = that.y;\r\n        var bBox;\r\n        if (options.visible) {\r\n            bBox = that._checkImage(options.image) ? that._getImageBBox(x, y) : that._getSymbolBBox(x, y, options.styles.normal.r)\r\n        } else {\r\n            bBox = {\r\n                x: x,\r\n                y: y,\r\n                width: 0,\r\n                height: 0\r\n            }\r\n        }\r\n        return bBox\r\n    },\r\n    hideInsideLabel: _common.noop,\r\n    _getShiftLabelCoords: function(label) {\r\n        var coord = this._addLabelAlignmentAndOffset(label, this._getLabelCoords(label));\r\n        return this._checkLabelPosition(label, coord)\r\n    },\r\n    _drawLabel: function() {\r\n        var that = this;\r\n        var customVisibility = that._getCustomLabelVisibility();\r\n        var label = that._label;\r\n        var isVisible = that._showForZeroValues() && that.hasValue() && false !== customVisibility && (that.series.getLabelVisibility() || customVisibility);\r\n        label.draw(!!isVisible)\r\n    },\r\n    correctLabelPosition: function(label) {\r\n        var that = this;\r\n        var coord = that._getShiftLabelCoords(label);\r\n        if (!that.hideInsideLabel(label, coord)) {\r\n            label.setFigureToDrawConnector(that._getLabelConnector(label.pointPosition));\r\n            label.shift(_round(coord.x), _round(coord.y))\r\n        }\r\n    },\r\n    _showForZeroValues: function() {\r\n        return true\r\n    },\r\n    _getLabelConnector: function(pointPosition) {\r\n        var bBox = this._getGraphicBBox(pointPosition);\r\n        var w2 = bBox.width / 2;\r\n        var h2 = bBox.height / 2;\r\n        return {\r\n            x: bBox.x + w2,\r\n            y: bBox.y + h2,\r\n            r: this._options.visible ? Math.max(w2, h2) : 0\r\n        }\r\n    },\r\n    _getPositionFromLocation: function() {\r\n        return {\r\n            x: this.x,\r\n            y: this.y\r\n        }\r\n    },\r\n    _isPointInVisibleArea: function(visibleArea, graphicBBox) {\r\n        return visibleArea.minX <= graphicBBox.x + graphicBBox.width && visibleArea.maxX >= graphicBBox.x && visibleArea.minY <= graphicBBox.y + graphicBBox.height && visibleArea.maxY >= graphicBBox.y\r\n    },\r\n    _checkLabelPosition: function(label, coord) {\r\n        var that = this;\r\n        var visibleArea = that._getVisibleArea();\r\n        var labelBBox = label.getBoundingRect();\r\n        var graphicBBox = that._getGraphicBBox(label.pointPosition);\r\n        var fullGraphicBBox = that._getGraphicBBox();\r\n        var isInside = \"inside\" === label.getLayoutOptions().position;\r\n        var offset = LABEL_OFFSET;\r\n        if (that._isPointInVisibleArea(visibleArea, fullGraphicBBox)) {\r\n            if (!that._options.rotated) {\r\n                if (visibleArea.minX > coord.x) {\r\n                    coord.x = visibleArea.minX\r\n                }\r\n                if (visibleArea.maxX < coord.x + labelBBox.width) {\r\n                    coord.x = visibleArea.maxX - labelBBox.width\r\n                }\r\n                if (visibleArea.minY > coord.y) {\r\n                    coord.y = isInside ? visibleArea.minY : graphicBBox.y + graphicBBox.height + offset\r\n                }\r\n                if (visibleArea.maxY < coord.y + labelBBox.height) {\r\n                    coord.y = isInside ? visibleArea.maxY - labelBBox.height : graphicBBox.y - labelBBox.height - offset\r\n                }\r\n            } else {\r\n                if (visibleArea.minX > coord.x) {\r\n                    coord.x = isInside ? visibleArea.minX : graphicBBox.x + graphicBBox.width + offset\r\n                }\r\n                if (visibleArea.maxX < coord.x + labelBBox.width) {\r\n                    coord.x = isInside ? visibleArea.maxX - labelBBox.width : graphicBBox.x - offset - labelBBox.width\r\n                }\r\n                if (visibleArea.minY > coord.y) {\r\n                    coord.y = visibleArea.minY\r\n                }\r\n                if (visibleArea.maxY < coord.y + labelBBox.height) {\r\n                    coord.y = visibleArea.maxY - labelBBox.height\r\n                }\r\n            }\r\n        }\r\n        return coord\r\n    },\r\n    _addLabelAlignmentAndOffset: function(label, coord) {\r\n        var labelBBox = label.getBoundingRect();\r\n        var labelOptions = label.getLayoutOptions();\r\n        if (!this._options.rotated) {\r\n            if (\"left\" === labelOptions.alignment) {\r\n                coord.x += labelBBox.width / 2\r\n            } else {\r\n                if (\"right\" === labelOptions.alignment) {\r\n                    coord.x -= labelBBox.width / 2\r\n                }\r\n            }\r\n        }\r\n        coord.x += labelOptions.horizontalOffset;\r\n        coord.y += labelOptions.verticalOffset;\r\n        return coord\r\n    },\r\n    _getLabelCoords: function(label) {\r\n        return this._getLabelCoordOfPosition(label, this._getLabelPosition(label.pointPosition))\r\n    },\r\n    _getLabelCoordOfPosition: function(label, position) {\r\n        var that = this;\r\n        var labelBBox = label.getBoundingRect();\r\n        var graphicBBox = that._getGraphicBBox(label.pointPosition);\r\n        var offset = LABEL_OFFSET;\r\n        var centerY = graphicBBox.height / 2 - labelBBox.height / 2;\r\n        var centerX = graphicBBox.width / 2 - labelBBox.width / 2;\r\n        var x = graphicBBox.x;\r\n        var y = graphicBBox.y;\r\n        switch (position) {\r\n            case \"left\":\r\n                x -= labelBBox.width + offset;\r\n                y += centerY;\r\n                break;\r\n            case \"right\":\r\n                x += graphicBBox.width + offset;\r\n                y += centerY;\r\n                break;\r\n            case \"top\":\r\n                x += centerX;\r\n                y -= labelBBox.height + offset;\r\n                break;\r\n            case \"bottom\":\r\n                x += centerX;\r\n                y += graphicBBox.height + offset;\r\n                break;\r\n            case \"inside\":\r\n                x += centerX;\r\n                y += centerY\r\n        }\r\n        return {\r\n            x: x,\r\n            y: y\r\n        }\r\n    },\r\n    _drawMarker: function(renderer, group, animationEnabled) {\r\n        var that = this;\r\n        var options = that._options;\r\n        var translates = that._getTranslates(animationEnabled);\r\n        var style = that._getStyle();\r\n        that.graphic = that._createMarker(renderer, group, options.image, _extend({\r\n            translateX: translates.x,\r\n            translateY: translates.y,\r\n            points: that._populatePointShape(options.symbol, style.r)\r\n        }, style))\r\n    },\r\n    _getErrorBarSettings: function() {\r\n        return {\r\n            visibility: \"visible\"\r\n        }\r\n    },\r\n    _getErrorBarBaseEdgeLength: function() {\r\n        return 2 * this.getPointRadius()\r\n    },\r\n    _drawErrorBar: function(renderer, group) {\r\n        if (!this._options.errorBars) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var options = that._options;\r\n        var errorBarOptions = options.errorBars;\r\n        var points = [];\r\n        var settings;\r\n        var pos = that._errorBarPos;\r\n        var high = that._highErrorCoord;\r\n        var low = that._lowErrorCoord;\r\n        var displayMode = (0, _utils.normalizeEnum)(errorBarOptions.displayMode);\r\n        var isHighDisplayMode = \"high\" === displayMode;\r\n        var isLowDisplayMode = \"low\" === displayMode;\r\n        var highErrorOnly = (isHighDisplayMode || !(0, _type.isDefined)(low)) && (0, _type.isDefined)(high) && !isLowDisplayMode;\r\n        var lowErrorOnly = (isLowDisplayMode || !(0, _type.isDefined)(high)) && (0, _type.isDefined)(low) && !isHighDisplayMode;\r\n        var edgeLength = errorBarOptions.edgeLength;\r\n        if (edgeLength <= 1 && edgeLength > 0) {\r\n            edgeLength = this._getErrorBarBaseEdgeLength() * errorBarOptions.edgeLength\r\n        }\r\n        edgeLength = _floor(parseInt(edgeLength) / 2);\r\n        highErrorOnly && (low = that._baseErrorBarPos);\r\n        lowErrorOnly && (high = that._baseErrorBarPos);\r\n        if (\"none\" !== displayMode && (0, _type.isDefined)(high) && (0, _type.isDefined)(low) && (0, _type.isDefined)(pos)) {\r\n            !lowErrorOnly && points.push([pos - edgeLength, high, pos + edgeLength, high]);\r\n            points.push([pos, high, pos, low]);\r\n            !highErrorOnly && points.push([pos + edgeLength, low, pos - edgeLength, low]);\r\n            options.rotated && (0, _iterator.each)(points, function(_, p) {\r\n                p.reverse()\r\n            });\r\n            settings = that._getErrorBarSettings(errorBarOptions);\r\n            if (!that._errorBar) {\r\n                that._errorBar = renderer.path(points, \"line\").attr(settings).append(group)\r\n            } else {\r\n                settings.points = points;\r\n                that._errorBar.attr(settings)\r\n            }\r\n        } else {\r\n            that._errorBar && that._errorBar.attr({\r\n                visibility: \"hidden\"\r\n            })\r\n        }\r\n    },\r\n    getTooltipParams: function() {\r\n        var that = this;\r\n        var graphic = that.graphic;\r\n        return {\r\n            x: that.x,\r\n            y: that.y,\r\n            offset: graphic ? graphic.getBBox().height / 2 : 0\r\n        }\r\n    },\r\n    setPercentValue: function(absTotal, total, leftHoleTotal, rightHoleTotal) {\r\n        var that = this;\r\n        var valuePercent = that.value / absTotal || 0;\r\n        var minValuePercent = that.minValue / absTotal || 0;\r\n        var percent = valuePercent - minValuePercent;\r\n        that._label.setDataField(\"percent\", percent);\r\n        that._label.setDataField(\"total\", total);\r\n        if (that.series.isFullStackedSeries() && that.hasValue()) {\r\n            if (that.leftHole) {\r\n                that.leftHole /= absTotal - leftHoleTotal;\r\n                that.minLeftHole /= absTotal - leftHoleTotal\r\n            }\r\n            if (that.rightHole) {\r\n                that.rightHole /= absTotal - rightHoleTotal;\r\n                that.minRightHole /= absTotal - rightHoleTotal\r\n            }\r\n            that.value = that.properValue = valuePercent;\r\n            that.minValue = !minValuePercent ? that.minValue : minValuePercent\r\n        }\r\n    },\r\n    _storeTrackerR: function() {\r\n        var that = this;\r\n        var navigator = window.navigator;\r\n        var r = that._options.styles.normal.r;\r\n        var minTrackerSize = (0, _window.hasProperty)(\"ontouchstart\") || navigator.msPointerEnabled && navigator.msMaxTouchPoints || navigator.pointerEnabled && navigator.maxTouchPoints ? 20 : 6;\r\n        that._options.trackerR = r < minTrackerSize ? minTrackerSize : r;\r\n        return that._options.trackerR\r\n    },\r\n    _translateErrorBars: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var rotated = options.rotated;\r\n        var errorBars = options.errorBars;\r\n        var translator = that._getValTranslator();\r\n        if (!errorBars) {\r\n            return\r\n        }(0, _type.isDefined)(that.lowError) && (that._lowErrorCoord = translator.translate(that.lowError));\r\n        (0, _type.isDefined)(that.highError) && (that._highErrorCoord = translator.translate(that.highError));\r\n        that._errorBarPos = _floor(rotated ? that.vy : that.vx);\r\n        that._baseErrorBarPos = \"stdDeviation\" === errorBars.type ? that._lowErrorCoord + (that._highErrorCoord - that._lowErrorCoord) / 2 : rotated ? that.vx : that.vy\r\n    },\r\n    _translate: function() {\r\n        var that = this;\r\n        var valTranslator = that._getValTranslator();\r\n        var argTranslator = that._getArgTranslator();\r\n        if (that._options.rotated) {\r\n            that.vx = that.x = valTranslator.translate(that.value);\r\n            that.vy = that.y = argTranslator.translate(that.argument);\r\n            that.minX = valTranslator.translate(that.minValue);\r\n            that.defaultX = valTranslator.translate(CANVAS_POSITION_DEFAULT)\r\n        } else {\r\n            that.vy = that.y = valTranslator.translate(that.value);\r\n            that.vx = that.x = argTranslator.translate(that.argument);\r\n            that.minY = valTranslator.translate(that.minValue);\r\n            that.defaultY = valTranslator.translate(CANVAS_POSITION_DEFAULT)\r\n        }\r\n        that._translateErrorBars();\r\n        that._calculateVisibility(that.x, that.y)\r\n    },\r\n    _updateData: function(data) {\r\n        var that = this;\r\n        that.value = that.properValue = that.initialValue = that.originalValue = data.value;\r\n        that.minValue = that.initialMinValue = that.originalMinValue = (0, _type.isDefined)(data.minValue) ? data.minValue : CANVAS_POSITION_DEFAULT\r\n    },\r\n    _getImageSettings: function(image) {\r\n        return {\r\n            href: image.url || image.toString(),\r\n            width: image.width || DEFAULT_IMAGE_WIDTH,\r\n            height: image.height || DEFAULT_IMAGE_HEIGHT\r\n        }\r\n    },\r\n    getCrosshairData: function() {\r\n        var that = this;\r\n        var r = that._options.rotated;\r\n        var value = that.properValue;\r\n        var argument = that.argument;\r\n        return {\r\n            x: that.vx,\r\n            y: that.vy,\r\n            xValue: r ? value : argument,\r\n            yValue: r ? argument : value,\r\n            axis: that.series.axis\r\n        }\r\n    },\r\n    getPointRadius: function() {\r\n        var style = this._getStyle();\r\n        var options = this._options;\r\n        var r = style.r;\r\n        var extraSpace;\r\n        var symbol = options.symbol;\r\n        var isSquare = \"square\" === symbol;\r\n        var isTriangle = \"triangle\" === symbol || \"triangleDown\" === symbol || \"triangleUp\" === symbol;\r\n        if (options.visible && !options.image && r) {\r\n            extraSpace = style[\"stroke-width\"] / 2;\r\n            return (isSquare || isTriangle ? 1.4 * r : r) + extraSpace\r\n        }\r\n        return 0\r\n    },\r\n    _updateMarker: function(animationEnabled, style) {\r\n        var that = this;\r\n        var options = that._options;\r\n        var settings;\r\n        var image = options.image;\r\n        var visibility = !that.isVisible() ? {\r\n            visibility: \"hidden\"\r\n        } : {};\r\n        if (that._checkImage(image)) {\r\n            settings = _extend({}, {\r\n                visibility: style.visibility\r\n            }, visibility, that._getImageSettings(image))\r\n        } else {\r\n            settings = _extend({}, style, visibility, {\r\n                points: that._populatePointShape(options.symbol, style.r)\r\n            })\r\n        }\r\n        if (!animationEnabled) {\r\n            settings.translateX = that.x;\r\n            settings.translateY = that.y\r\n        }\r\n        that.graphic.attr(settings).sharp()\r\n    },\r\n    _getLabelFormatObject: function() {\r\n        var that = this;\r\n        return {\r\n            argument: that.initialArgument,\r\n            value: that.initialValue,\r\n            originalArgument: that.originalArgument,\r\n            originalValue: that.originalValue,\r\n            seriesName: that.series.name,\r\n            lowErrorValue: that.lowError,\r\n            highErrorValue: that.highError,\r\n            point: that\r\n        }\r\n    },\r\n    _getLabelPosition: function() {\r\n        var rotated = this._options.rotated;\r\n        if (this.initialValue > 0) {\r\n            return rotated ? \"right\" : \"top\"\r\n        } else {\r\n            return rotated ? \"left\" : \"bottom\"\r\n        }\r\n    },\r\n    _getFormatObject: function(tooltip) {\r\n        var that = this;\r\n        var labelFormatObject = that._label.getData();\r\n        return _extend({}, labelFormatObject, {\r\n            argumentText: tooltip.formatValue(that.initialArgument, \"argument\"),\r\n            valueText: tooltip.formatValue(that.initialValue)\r\n        }, (0, _type.isDefined)(labelFormatObject.percent) ? {\r\n            percentText: tooltip.formatValue(labelFormatObject.percent, \"percent\")\r\n        } : {}, (0, _type.isDefined)(labelFormatObject.total) ? {\r\n            totalText: tooltip.formatValue(labelFormatObject.total)\r\n        } : {})\r\n    },\r\n    getMarkerVisibility: function() {\r\n        return this._options.visible\r\n    },\r\n    coordsIn: function(x, y) {\r\n        var trackerRadius = this._storeTrackerR();\r\n        return x >= this.x - trackerRadius && x <= this.x + trackerRadius && y >= this.y - trackerRadius && y <= this.y + trackerRadius\r\n    },\r\n    getMinValue: function(noErrorBar) {\r\n        var errorBarOptions = this._options.errorBars;\r\n        if (errorBarOptions && !noErrorBar) {\r\n            var displayMode = errorBarOptions.displayMode;\r\n            var lowValue = \"high\" !== displayMode && (0, _type.isDefined)(this.lowError) ? this.lowError : this.value;\r\n            var highValue = \"low\" !== displayMode && (0, _type.isDefined)(this.highError) ? this.highError : this.value;\r\n            return lowValue < highValue ? lowValue : highValue\r\n        } else {\r\n            return this.value\r\n        }\r\n    },\r\n    getMaxValue: function(noErrorBar) {\r\n        var errorBarOptions = this._options.errorBars;\r\n        if (errorBarOptions && !noErrorBar) {\r\n            var displayMode = errorBarOptions.displayMode;\r\n            var lowValue = \"high\" !== displayMode && (0, _type.isDefined)(this.lowError) ? this.lowError : this.value;\r\n            var highValue = \"low\" !== displayMode && (0, _type.isDefined)(this.highError) ? this.highError : this.value;\r\n            return lowValue > highValue ? lowValue : highValue\r\n        } else {\r\n            return this.value\r\n        }\r\n    }\r\n};\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\n"]},"metadata":{},"sourceType":"script"}