{"ast":null,"code":"/**\r\n * DevExtreme (events/transform.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nexports.rotateend = exports.rotate = exports.rotatestart = exports.pinchend = exports.pinch = exports.pinchstart = exports.zoomend = exports.zoom = exports.zoomstart = exports.translateend = exports.translate = exports.translatestart = exports.transformend = exports.transform = exports.transformstart = void 0;\n\nvar _math = require(\"../core/utils/math\");\n\nvar iteratorUtils = _interopRequireWildcard(require(\"../core/utils/iterator\"));\n\nvar _index = require(\"./utils/index\");\n\nvar _emitter = _interopRequireDefault(require(\"./core/emitter\"));\n\nvar _emitter_registrator = _interopRequireDefault(require(\"./core/emitter_registrator\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (\"function\" !== typeof WeakMap) {\n    return null;\n  }\n\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (null === obj || \"object\" !== _typeof(obj) && \"function\" !== typeof obj) {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nvar DX_PREFIX = \"dx\";\nvar TRANSFORM = \"transform\";\nvar TRANSLATE = \"translate\";\nvar PINCH = \"pinch\";\nvar ROTATE = \"rotate\";\nvar START_POSTFIX = \"start\";\nvar UPDATE_POSTFIX = \"\";\nvar END_POSTFIX = \"end\";\nvar eventAliases = [];\n\nvar addAlias = function addAlias(eventName, eventArgs) {\n  eventAliases.push({\n    name: eventName,\n    args: eventArgs\n  });\n};\n\naddAlias(TRANSFORM, {\n  scale: true,\n  deltaScale: true,\n  rotation: true,\n  deltaRotation: true,\n  translation: true,\n  deltaTranslation: true\n});\naddAlias(TRANSLATE, {\n  translation: true,\n  deltaTranslation: true\n});\naddAlias(PINCH, {\n  scale: true,\n  deltaScale: true\n});\naddAlias(ROTATE, {\n  rotation: true,\n  deltaRotation: true\n});\n\nvar getVector = function getVector(first, second) {\n  return {\n    x: second.pageX - first.pageX,\n    y: -second.pageY + first.pageY,\n    centerX: .5 * (second.pageX + first.pageX),\n    centerY: .5 * (second.pageY + first.pageY)\n  };\n};\n\nvar getEventVector = function getEventVector(e) {\n  var pointers = e.pointers;\n  return getVector(pointers[0], pointers[1]);\n};\n\nvar getDistance = function getDistance(vector) {\n  return Math.sqrt(vector.x * vector.x + vector.y * vector.y);\n};\n\nvar getScale = function getScale(firstVector, secondVector) {\n  return getDistance(firstVector) / getDistance(secondVector);\n};\n\nvar getRotation = function getRotation(firstVector, secondVector) {\n  var scalarProduct = firstVector.x * secondVector.x + firstVector.y * secondVector.y;\n  var distanceProduct = getDistance(firstVector) * getDistance(secondVector);\n\n  if (0 === distanceProduct) {\n    return 0;\n  }\n\n  var sign = (0, _math.sign)(firstVector.x * secondVector.y - secondVector.x * firstVector.y);\n  var angle = Math.acos((0, _math.fitIntoRange)(scalarProduct / distanceProduct, -1, 1));\n  return sign * angle;\n};\n\nvar getTranslation = function getTranslation(firstVector, secondVector) {\n  return {\n    x: firstVector.centerX - secondVector.centerX,\n    y: firstVector.centerY - secondVector.centerY\n  };\n};\n\nvar TransformEmitter = _emitter.default.inherit({\n  validatePointers: function validatePointers(e) {\n    return (0, _index.hasTouches)(e) > 1;\n  },\n  start: function start(e) {\n    this._accept(e);\n\n    var startVector = getEventVector(e);\n    this._startVector = startVector;\n    this._prevVector = startVector;\n\n    this._fireEventAliases(START_POSTFIX, e);\n  },\n  move: function move(e) {\n    var currentVector = getEventVector(e);\n\n    var eventArgs = this._getEventArgs(currentVector);\n\n    this._fireEventAliases(UPDATE_POSTFIX, e, eventArgs);\n\n    this._prevVector = currentVector;\n  },\n  end: function end(e) {\n    var eventArgs = this._getEventArgs(this._prevVector);\n\n    this._fireEventAliases(END_POSTFIX, e, eventArgs);\n  },\n  _getEventArgs: function _getEventArgs(vector) {\n    return {\n      scale: getScale(vector, this._startVector),\n      deltaScale: getScale(vector, this._prevVector),\n      rotation: getRotation(vector, this._startVector),\n      deltaRotation: getRotation(vector, this._prevVector),\n      translation: getTranslation(vector, this._startVector),\n      deltaTranslation: getTranslation(vector, this._prevVector)\n    };\n  },\n  _fireEventAliases: function _fireEventAliases(eventPostfix, originalEvent, eventArgs) {\n    eventArgs = eventArgs || {};\n    iteratorUtils.each(eventAliases, function (_, eventAlias) {\n      var args = {};\n      iteratorUtils.each(eventAlias.args, function (name) {\n        if (name in eventArgs) {\n          args[name] = eventArgs[name];\n        }\n      });\n\n      this._fireEvent(DX_PREFIX + eventAlias.name + eventPostfix, originalEvent, args);\n    }.bind(this));\n  }\n});\n\nvar eventNames = eventAliases.reduce(function (result, eventAlias) {\n  [START_POSTFIX, UPDATE_POSTFIX, END_POSTFIX].forEach(function (eventPostfix) {\n    result.push(DX_PREFIX + eventAlias.name + eventPostfix);\n  });\n  return result;\n}, []);\n(0, _emitter_registrator.default)({\n  emitter: TransformEmitter,\n  events: eventNames\n});\nvar exportNames = {};\niteratorUtils.each(eventNames, function (_, eventName) {\n  exportNames[eventName.substring(DX_PREFIX.length)] = eventName;\n});\nvar transformstart = exportNames.transformstart,\n    transform = exportNames.transform,\n    transformend = exportNames.transformend,\n    translatestart = exportNames.translatestart,\n    translate = exportNames.translate,\n    translateend = exportNames.translateend,\n    zoomstart = exportNames.zoomstart,\n    zoom = exportNames.zoom,\n    zoomend = exportNames.zoomend,\n    pinchstart = exportNames.pinchstart,\n    pinch = exportNames.pinch,\n    pinchend = exportNames.pinchend,\n    rotatestart = exportNames.rotatestart,\n    rotate = exportNames.rotate,\n    rotateend = exportNames.rotateend;\nexports.rotateend = rotateend;\nexports.rotate = rotate;\nexports.rotatestart = rotatestart;\nexports.pinchend = pinchend;\nexports.pinch = pinch;\nexports.pinchstart = pinchstart;\nexports.zoomend = zoomend;\nexports.zoom = zoom;\nexports.zoomstart = zoomstart;\nexports.translateend = translateend;\nexports.translate = translate;\nexports.translatestart = translatestart;\nexports.transformend = transformend;\nexports.transform = transform;\nexports.transformstart = transformstart;","map":{"version":3,"sources":["E:/Monday.com/quickstart-react/node_modules/devextreme/events/transform.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","exports","rotateend","rotate","rotatestart","pinchend","pinch","pinchstart","zoomend","zoom","zoomstart","translateend","translate","translatestart","transformend","transform","transformstart","_math","require","iteratorUtils","_interopRequireWildcard","_index","_emitter","_interopRequireDefault","_emitter_registrator","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","default","DX_PREFIX","TRANSFORM","TRANSLATE","PINCH","ROTATE","START_POSTFIX","UPDATE_POSTFIX","END_POSTFIX","eventAliases","addAlias","eventName","eventArgs","push","name","args","scale","deltaScale","rotation","deltaRotation","translation","deltaTranslation","getVector","first","second","x","pageX","y","pageY","centerX","centerY","getEventVector","e","pointers","getDistance","vector","Math","sqrt","getScale","firstVector","secondVector","getRotation","scalarProduct","distanceProduct","sign","angle","acos","fitIntoRange","getTranslation","TransformEmitter","inherit","validatePointers","hasTouches","start","_accept","startVector","_startVector","_prevVector","_fireEventAliases","move","currentVector","_getEventArgs","end","eventPostfix","originalEvent","each","_","eventAlias","_fireEvent","bind","eventNames","reduce","result","forEach","emitter","events","exportNames","substring","length"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (events/transform.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nexports.rotateend = exports.rotate = exports.rotatestart = exports.pinchend = exports.pinch = exports.pinchstart = exports.zoomend = exports.zoom = exports.zoomstart = exports.translateend = exports.translate = exports.translatestart = exports.transformend = exports.transform = exports.transformstart = void 0;\r\nvar _math = require(\"../core/utils/math\");\r\nvar iteratorUtils = _interopRequireWildcard(require(\"../core/utils/iterator\"));\r\nvar _index = require(\"./utils/index\");\r\nvar _emitter = _interopRequireDefault(require(\"./core/emitter\"));\r\nvar _emitter_registrator = _interopRequireDefault(require(\"./core/emitter_registrator\"));\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _getRequireWildcardCache() {\r\n    if (\"function\" !== typeof WeakMap) {\r\n        return null\r\n    }\r\n    var cache = new WeakMap;\r\n    _getRequireWildcardCache = function() {\r\n        return cache\r\n    };\r\n    return cache\r\n}\r\n\r\nfunction _interopRequireWildcard(obj) {\r\n    if (obj && obj.__esModule) {\r\n        return obj\r\n    }\r\n    if (null === obj || \"object\" !== _typeof(obj) && \"function\" !== typeof obj) {\r\n        return {\r\n            \"default\": obj\r\n        }\r\n    }\r\n    var cache = _getRequireWildcardCache();\r\n    if (cache && cache.has(obj)) {\r\n        return cache.get(obj)\r\n    }\r\n    var newObj = {};\r\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\r\n    for (var key in obj) {\r\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\r\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\r\n            if (desc && (desc.get || desc.set)) {\r\n                Object.defineProperty(newObj, key, desc)\r\n            } else {\r\n                newObj[key] = obj[key]\r\n            }\r\n        }\r\n    }\r\n    newObj.default = obj;\r\n    if (cache) {\r\n        cache.set(obj, newObj)\r\n    }\r\n    return newObj\r\n}\r\nvar DX_PREFIX = \"dx\";\r\nvar TRANSFORM = \"transform\";\r\nvar TRANSLATE = \"translate\";\r\nvar PINCH = \"pinch\";\r\nvar ROTATE = \"rotate\";\r\nvar START_POSTFIX = \"start\";\r\nvar UPDATE_POSTFIX = \"\";\r\nvar END_POSTFIX = \"end\";\r\nvar eventAliases = [];\r\nvar addAlias = function(eventName, eventArgs) {\r\n    eventAliases.push({\r\n        name: eventName,\r\n        args: eventArgs\r\n    })\r\n};\r\naddAlias(TRANSFORM, {\r\n    scale: true,\r\n    deltaScale: true,\r\n    rotation: true,\r\n    deltaRotation: true,\r\n    translation: true,\r\n    deltaTranslation: true\r\n});\r\naddAlias(TRANSLATE, {\r\n    translation: true,\r\n    deltaTranslation: true\r\n});\r\naddAlias(PINCH, {\r\n    scale: true,\r\n    deltaScale: true\r\n});\r\naddAlias(ROTATE, {\r\n    rotation: true,\r\n    deltaRotation: true\r\n});\r\nvar getVector = function(first, second) {\r\n    return {\r\n        x: second.pageX - first.pageX,\r\n        y: -second.pageY + first.pageY,\r\n        centerX: .5 * (second.pageX + first.pageX),\r\n        centerY: .5 * (second.pageY + first.pageY)\r\n    }\r\n};\r\nvar getEventVector = function(e) {\r\n    var pointers = e.pointers;\r\n    return getVector(pointers[0], pointers[1])\r\n};\r\nvar getDistance = function(vector) {\r\n    return Math.sqrt(vector.x * vector.x + vector.y * vector.y)\r\n};\r\nvar getScale = function(firstVector, secondVector) {\r\n    return getDistance(firstVector) / getDistance(secondVector)\r\n};\r\nvar getRotation = function(firstVector, secondVector) {\r\n    var scalarProduct = firstVector.x * secondVector.x + firstVector.y * secondVector.y;\r\n    var distanceProduct = getDistance(firstVector) * getDistance(secondVector);\r\n    if (0 === distanceProduct) {\r\n        return 0\r\n    }\r\n    var sign = (0, _math.sign)(firstVector.x * secondVector.y - secondVector.x * firstVector.y);\r\n    var angle = Math.acos((0, _math.fitIntoRange)(scalarProduct / distanceProduct, -1, 1));\r\n    return sign * angle\r\n};\r\nvar getTranslation = function(firstVector, secondVector) {\r\n    return {\r\n        x: firstVector.centerX - secondVector.centerX,\r\n        y: firstVector.centerY - secondVector.centerY\r\n    }\r\n};\r\nvar TransformEmitter = _emitter.default.inherit({\r\n    validatePointers: function(e) {\r\n        return (0, _index.hasTouches)(e) > 1\r\n    },\r\n    start: function(e) {\r\n        this._accept(e);\r\n        var startVector = getEventVector(e);\r\n        this._startVector = startVector;\r\n        this._prevVector = startVector;\r\n        this._fireEventAliases(START_POSTFIX, e)\r\n    },\r\n    move: function(e) {\r\n        var currentVector = getEventVector(e);\r\n        var eventArgs = this._getEventArgs(currentVector);\r\n        this._fireEventAliases(UPDATE_POSTFIX, e, eventArgs);\r\n        this._prevVector = currentVector\r\n    },\r\n    end: function(e) {\r\n        var eventArgs = this._getEventArgs(this._prevVector);\r\n        this._fireEventAliases(END_POSTFIX, e, eventArgs)\r\n    },\r\n    _getEventArgs: function(vector) {\r\n        return {\r\n            scale: getScale(vector, this._startVector),\r\n            deltaScale: getScale(vector, this._prevVector),\r\n            rotation: getRotation(vector, this._startVector),\r\n            deltaRotation: getRotation(vector, this._prevVector),\r\n            translation: getTranslation(vector, this._startVector),\r\n            deltaTranslation: getTranslation(vector, this._prevVector)\r\n        }\r\n    },\r\n    _fireEventAliases: function(eventPostfix, originalEvent, eventArgs) {\r\n        eventArgs = eventArgs || {};\r\n        iteratorUtils.each(eventAliases, function(_, eventAlias) {\r\n            var args = {};\r\n            iteratorUtils.each(eventAlias.args, function(name) {\r\n                if (name in eventArgs) {\r\n                    args[name] = eventArgs[name]\r\n                }\r\n            });\r\n            this._fireEvent(DX_PREFIX + eventAlias.name + eventPostfix, originalEvent, args)\r\n        }.bind(this))\r\n    }\r\n});\r\nvar eventNames = eventAliases.reduce(function(result, eventAlias) {\r\n    [START_POSTFIX, UPDATE_POSTFIX, END_POSTFIX].forEach(function(eventPostfix) {\r\n        result.push(DX_PREFIX + eventAlias.name + eventPostfix)\r\n    });\r\n    return result\r\n}, []);\r\n(0, _emitter_registrator.default)({\r\n    emitter: TransformEmitter,\r\n    events: eventNames\r\n});\r\nvar exportNames = {};\r\niteratorUtils.each(eventNames, function(_, eventName) {\r\n    exportNames[eventName.substring(DX_PREFIX.length)] = eventName\r\n});\r\nvar transformstart = exportNames.transformstart,\r\n    transform = exportNames.transform,\r\n    transformend = exportNames.transformend,\r\n    translatestart = exportNames.translatestart,\r\n    translate = exportNames.translate,\r\n    translateend = exportNames.translateend,\r\n    zoomstart = exportNames.zoomstart,\r\n    zoom = exportNames.zoom,\r\n    zoomend = exportNames.zoomend,\r\n    pinchstart = exportNames.pinchstart,\r\n    pinch = exportNames.pinch,\r\n    pinchend = exportNames.pinchend,\r\n    rotatestart = exportNames.rotatestart,\r\n    rotate = exportNames.rotate,\r\n    rotateend = exportNames.rotateend;\r\nexports.rotateend = rotateend;\r\nexports.rotate = rotate;\r\nexports.rotatestart = rotatestart;\r\nexports.pinchend = pinchend;\r\nexports.pinch = pinch;\r\nexports.pinchstart = pinchstart;\r\nexports.zoomend = zoomend;\r\nexports.zoom = zoom;\r\nexports.zoomstart = zoomstart;\r\nexports.translateend = translateend;\r\nexports.translate = translate;\r\nexports.translatestart = translatestart;\r\nexports.transformend = transformend;\r\nexports.transform = transform;\r\nexports.transformstart = transformstart;\r\n"]},"metadata":{},"sourceType":"script"}