{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/title.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.plugin = exports.Title = void 0;\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _utils = require(\"./utils\");\n\nvar _layout_element = require(\"./layout_element\");\n\nvar _Number = Number;\nvar parseHorizontalAlignment = (0, _utils.enumParser)([\"left\", \"center\", \"right\"]);\nvar parseVerticalAlignment = (0, _utils.enumParser)([\"top\", \"bottom\"]);\nvar DEFAULT_MARGIN = 10;\n\nfunction hasText(text) {\n  return !!(text && String(text).length > 0);\n}\n\nfunction processTitleLength(elem, text, width, options, placeholderSize) {\n  if (elem.attr({\n    text: text\n  }).setMaxSize(width, placeholderSize, options).textChanged) {\n    elem.setTitle(text);\n  }\n}\n\nfunction pickMarginValue(value) {\n  return value >= 0 ? _Number(value) : DEFAULT_MARGIN;\n}\n\nfunction validateMargin(margin) {\n  var result;\n\n  if (margin >= 0) {\n    result = {\n      left: _Number(margin),\n      top: _Number(margin),\n      right: _Number(margin),\n      bottom: _Number(margin)\n    };\n  } else {\n    margin = margin || {};\n    result = {\n      left: pickMarginValue(margin.left),\n      top: pickMarginValue(margin.top),\n      right: pickMarginValue(margin.right),\n      bottom: pickMarginValue(margin.bottom)\n    };\n  }\n\n  return result;\n}\n\nfunction checkRect(rect, boundingRect) {\n  return rect[2] - rect[0] < boundingRect.width || rect[3] - rect[1] < boundingRect.height;\n}\n\nvar Title = function (params) {\n  this._params = params;\n  this._group = params.renderer.g().attr({\n    \"class\": params.cssClass\n  }).linkOn(params.root || params.renderer.root, \"title\");\n  this._hasText = false;\n};\n\nexports.Title = Title;\n(0, _extend.extend)(Title.prototype, _layout_element.LayoutElement.prototype, {\n  dispose: function () {\n    var that = this;\n\n    that._group.linkRemove();\n\n    that._group.linkOff();\n\n    if (that._titleElement) {\n      that._clipRect.dispose();\n\n      that._titleElement = that._subtitleElement = that._clipRect = null;\n    }\n\n    that._params = that._group = that._options = null;\n  },\n  _updateOptions: function (options) {\n    this._options = options;\n    this._options.horizontalAlignment = parseHorizontalAlignment(options.horizontalAlignment, \"center\");\n    this._options.verticalAlignment = parseVerticalAlignment(options.verticalAlignment, \"top\");\n    this._options.margin = validateMargin(options.margin);\n  },\n  _updateStructure: function () {\n    var that = this;\n    var renderer = that._params.renderer;\n    var group = that._group;\n    var options = that._options;\n    var align = options.horizontalAlignment;\n\n    if (!that._titleElement) {\n      that._titleElement = renderer.text().append(group);\n      that._subtitleElement = renderer.text();\n      that._clipRect = renderer.clipRect();\n      group.attr({\n        \"clip-path\": that._clipRect.id\n      });\n    }\n\n    that._titleElement.attr({\n      align: align,\n      \"class\": options.cssClass\n    });\n\n    that._subtitleElement.attr({\n      align: align,\n      \"class\": options.subtitle.cssClass\n    });\n\n    group.linkAppend();\n    hasText(options.subtitle.text) ? that._subtitleElement.append(group) : that._subtitleElement.remove();\n  },\n  _updateTexts: function () {\n    var that = this;\n    var options = that._options;\n    var subtitleOptions = options.subtitle;\n    var titleElement = that._titleElement;\n    var subtitleElement = that._subtitleElement;\n    var testText = \"A\";\n    var titleBox;\n    titleElement.attr({\n      text: testText,\n      y: 0\n    }).css((0, _utils.patchFontOptions)(options.font));\n    titleBox = titleElement.getBBox();\n    that._baseLineCorrection = titleBox.height + titleBox.y;\n    titleElement.attr({\n      text: options.text\n    });\n    titleBox = titleElement.getBBox();\n    var y = -titleBox.y;\n    titleElement.attr({\n      y: y\n    });\n\n    if (hasText(subtitleOptions.text)) {\n      subtitleElement.attr({\n        text: subtitleOptions.text,\n        y: 0\n      }).css((0, _utils.patchFontOptions)(subtitleOptions.font));\n    }\n  },\n  _shiftSubtitle: function () {\n    var that = this;\n\n    var titleBox = that._titleElement.getBBox();\n\n    var element = that._subtitleElement;\n    var offset = that._options.subtitle.offset;\n    element.move(0, titleBox.y + titleBox.height - element.getBBox().y - offset);\n  },\n  _updateBoundingRectAlignment: function () {\n    var boundingRect = this._boundingRect;\n    var options = this._options;\n    boundingRect.verticalAlignment = options.verticalAlignment;\n    boundingRect.horizontalAlignment = options.horizontalAlignment;\n    boundingRect.cutLayoutSide = options.verticalAlignment;\n    boundingRect.cutSide = \"vertical\";\n    boundingRect.position = {\n      horizontal: options.horizontalAlignment,\n      vertical: options.verticalAlignment\n    };\n  },\n  hasText: function () {\n    return this._hasText;\n  },\n  update: function (themeOptions, userOptions) {\n    var that = this;\n    var options = (0, _extend.extend)(true, {}, themeOptions, processTitleOptions(userOptions));\n\n    var _hasText = hasText(options.text);\n\n    var isLayoutChanged = _hasText || _hasText !== that._hasText;\n    that._baseLineCorrection = 0;\n\n    that._updateOptions(options);\n\n    that._boundingRect = {};\n\n    if (_hasText) {\n      that._updateStructure();\n\n      that._updateTexts();\n    } else {\n      that._group.linkRemove();\n    }\n\n    that._updateBoundingRect();\n\n    that._updateBoundingRectAlignment();\n\n    that._hasText = _hasText;\n    return isLayoutChanged;\n  },\n  draw: function (width, height) {\n    var that = this;\n\n    if (that._hasText) {\n      that._group.linkAppend();\n\n      that._correctTitleLength(width);\n\n      if (that._group.getBBox().height > height) {\n        this.freeSpace();\n      }\n    }\n\n    return that;\n  },\n  _correctTitleLength: function (width) {\n    var that = this;\n    var options = that._options;\n    var margin = options.margin;\n    var maxWidth = width - margin.left - margin.right;\n    var placeholderSize = options.placeholderSize;\n    processTitleLength(that._titleElement, options.text, maxWidth, options, placeholderSize);\n\n    if (that._subtitleElement) {\n      if (_Number(placeholderSize) > 0) {\n        placeholderSize -= that._titleElement.getBBox().height;\n      }\n\n      processTitleLength(that._subtitleElement, options.subtitle.text, maxWidth, options.subtitle, placeholderSize);\n\n      that._shiftSubtitle();\n    }\n\n    that._updateBoundingRect();\n\n    var _this$getCorrectedLay = this.getCorrectedLayoutOptions(),\n        x = _this$getCorrectedLay.x,\n        y = _this$getCorrectedLay.y,\n        height = _this$getCorrectedLay.height;\n\n    this._clipRect.attr({\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    });\n  },\n  getLayoutOptions: function () {\n    return this._boundingRect || null;\n  },\n  shift: function (x, y) {\n    var that = this;\n    var box = that.getLayoutOptions();\n\n    that._group.move(x - box.x, y - box.y);\n\n    return that;\n  },\n  _updateBoundingRect: function () {\n    var that = this;\n    var options = that._options;\n    var margin = options.margin;\n    var boundingRect = that._boundingRect;\n    var box = that._hasText ? that._group.getBBox() : {\n      width: 0,\n      height: 0,\n      x: 0,\n      y: 0,\n      isEmpty: true\n    };\n\n    if (!box.isEmpty) {\n      box.height += margin.top + margin.bottom - that._baseLineCorrection;\n      box.width += margin.left + margin.right;\n      box.x -= margin.left;\n      box.y += that._baseLineCorrection - margin.top;\n    }\n\n    if (options.placeholderSize > 0) {\n      box.height = options.placeholderSize;\n    }\n\n    boundingRect.height = box.height;\n    boundingRect.width = box.width;\n    boundingRect.x = box.x;\n    boundingRect.y = box.y;\n  },\n  getCorrectedLayoutOptions: function () {\n    var srcBox = this.getLayoutOptions();\n    var correction = this._baseLineCorrection;\n    return (0, _extend.extend)({}, srcBox, {\n      y: srcBox.y - correction,\n      height: srcBox.height + correction\n    });\n  },\n  layoutOptions: function () {\n    if (!this._hasText) {\n      return null;\n    }\n\n    return {\n      horizontalAlignment: this._boundingRect.horizontalAlignment,\n      verticalAlignment: this._boundingRect.verticalAlignment,\n      priority: 0\n    };\n  },\n  measure: function (size) {\n    this.draw(size[0], size[1]);\n    return [this._boundingRect.width, this._boundingRect.height];\n  },\n  move: function (rect, fitRect) {\n    var boundingRect = this._boundingRect;\n\n    if (checkRect(rect, boundingRect)) {\n      this.shift(fitRect[0], fitRect[1]);\n    } else {\n      this.shift(Math.round(rect[0]), Math.round(rect[1]));\n    }\n  },\n  freeSpace: function () {\n    var that = this;\n\n    that._params.incidentOccurred(\"W2103\");\n\n    that._group.linkRemove();\n\n    that._boundingRect.width = that._boundingRect.height = 0;\n  },\n  getOptions: function () {\n    return this._options;\n  },\n  changeLink: function (root) {\n    this._group.linkRemove();\n\n    this._group.linkOn(root, \"title\");\n  }\n});\n\nfunction processTitleOptions(options) {\n  var newOptions = (0, _type.isString)(options) ? {\n    text: options\n  } : options || {};\n  newOptions.subtitle = (0, _type.isString)(newOptions.subtitle) ? {\n    text: newOptions.subtitle\n  } : newOptions.subtitle || {};\n  return newOptions;\n}\n\nvar plugin = {\n  name: \"title\",\n  init: function () {\n    var that = this;\n    that._title = new Title({\n      renderer: that._renderer,\n      cssClass: that._rootClassPrefix + \"-title\",\n      incidentOccurred: that._incidentOccurred\n    });\n\n    that._layout.add(that._title);\n  },\n  dispose: function () {\n    this._title.dispose();\n\n    this._title = null;\n  },\n  customize: function (constructor) {\n    constructor.addChange({\n      code: \"TITLE\",\n      handler: function () {\n        if (this._title.update(this._themeManager.theme(\"title\"), this.option(\"title\"))) {\n          this._change([\"LAYOUT\"]);\n        }\n      },\n      isThemeDependent: true,\n      option: \"title\",\n      isOptionChange: true\n    });\n  },\n  fontFields: [\"title.font\", \"title.subtitle.font\"]\n};\nexports.plugin = plugin;","map":{"version":3,"sources":["E:/Monday.com/quickstart-react/node_modules/devextreme/viz/core/title.js"],"names":["exports","plugin","Title","_type","require","_extend","_utils","_layout_element","_Number","Number","parseHorizontalAlignment","enumParser","parseVerticalAlignment","DEFAULT_MARGIN","hasText","text","String","length","processTitleLength","elem","width","options","placeholderSize","attr","setMaxSize","textChanged","setTitle","pickMarginValue","value","validateMargin","margin","result","left","top","right","bottom","checkRect","rect","boundingRect","height","params","_params","_group","renderer","g","cssClass","linkOn","root","_hasText","extend","prototype","LayoutElement","dispose","that","linkRemove","linkOff","_titleElement","_clipRect","_subtitleElement","_options","_updateOptions","horizontalAlignment","verticalAlignment","_updateStructure","group","align","append","clipRect","id","subtitle","linkAppend","remove","_updateTexts","subtitleOptions","titleElement","subtitleElement","testText","titleBox","y","css","patchFontOptions","font","getBBox","_baseLineCorrection","_shiftSubtitle","element","offset","move","_updateBoundingRectAlignment","_boundingRect","cutLayoutSide","cutSide","position","horizontal","vertical","update","themeOptions","userOptions","processTitleOptions","isLayoutChanged","_updateBoundingRect","draw","_correctTitleLength","freeSpace","maxWidth","_this$getCorrectedLay","getCorrectedLayoutOptions","x","getLayoutOptions","shift","box","isEmpty","srcBox","correction","layoutOptions","priority","measure","size","fitRect","Math","round","incidentOccurred","getOptions","changeLink","newOptions","isString","name","init","_title","_renderer","_rootClassPrefix","_incidentOccurred","_layout","add","customize","constructor","addChange","code","handler","_themeManager","theme","option","_change","isThemeDependent","isOptionChange","fontFields"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/core/title.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.plugin = exports.Title = void 0;\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _utils = require(\"./utils\");\r\nvar _layout_element = require(\"./layout_element\");\r\nvar _Number = Number;\r\nvar parseHorizontalAlignment = (0, _utils.enumParser)([\"left\", \"center\", \"right\"]);\r\nvar parseVerticalAlignment = (0, _utils.enumParser)([\"top\", \"bottom\"]);\r\nvar DEFAULT_MARGIN = 10;\r\n\r\nfunction hasText(text) {\r\n    return !!(text && String(text).length > 0)\r\n}\r\n\r\nfunction processTitleLength(elem, text, width, options, placeholderSize) {\r\n    if (elem.attr({\r\n            text: text\r\n        }).setMaxSize(width, placeholderSize, options).textChanged) {\r\n        elem.setTitle(text)\r\n    }\r\n}\r\n\r\nfunction pickMarginValue(value) {\r\n    return value >= 0 ? _Number(value) : DEFAULT_MARGIN\r\n}\r\n\r\nfunction validateMargin(margin) {\r\n    var result;\r\n    if (margin >= 0) {\r\n        result = {\r\n            left: _Number(margin),\r\n            top: _Number(margin),\r\n            right: _Number(margin),\r\n            bottom: _Number(margin)\r\n        }\r\n    } else {\r\n        margin = margin || {};\r\n        result = {\r\n            left: pickMarginValue(margin.left),\r\n            top: pickMarginValue(margin.top),\r\n            right: pickMarginValue(margin.right),\r\n            bottom: pickMarginValue(margin.bottom)\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\nfunction checkRect(rect, boundingRect) {\r\n    return rect[2] - rect[0] < boundingRect.width || rect[3] - rect[1] < boundingRect.height\r\n}\r\nvar Title = function(params) {\r\n    this._params = params;\r\n    this._group = params.renderer.g().attr({\r\n        \"class\": params.cssClass\r\n    }).linkOn(params.root || params.renderer.root, \"title\");\r\n    this._hasText = false\r\n};\r\nexports.Title = Title;\r\n(0, _extend.extend)(Title.prototype, _layout_element.LayoutElement.prototype, {\r\n    dispose: function() {\r\n        var that = this;\r\n        that._group.linkRemove();\r\n        that._group.linkOff();\r\n        if (that._titleElement) {\r\n            that._clipRect.dispose();\r\n            that._titleElement = that._subtitleElement = that._clipRect = null\r\n        }\r\n        that._params = that._group = that._options = null\r\n    },\r\n    _updateOptions: function(options) {\r\n        this._options = options;\r\n        this._options.horizontalAlignment = parseHorizontalAlignment(options.horizontalAlignment, \"center\");\r\n        this._options.verticalAlignment = parseVerticalAlignment(options.verticalAlignment, \"top\");\r\n        this._options.margin = validateMargin(options.margin)\r\n    },\r\n    _updateStructure: function() {\r\n        var that = this;\r\n        var renderer = that._params.renderer;\r\n        var group = that._group;\r\n        var options = that._options;\r\n        var align = options.horizontalAlignment;\r\n        if (!that._titleElement) {\r\n            that._titleElement = renderer.text().append(group);\r\n            that._subtitleElement = renderer.text();\r\n            that._clipRect = renderer.clipRect();\r\n            group.attr({\r\n                \"clip-path\": that._clipRect.id\r\n            })\r\n        }\r\n        that._titleElement.attr({\r\n            align: align,\r\n            \"class\": options.cssClass\r\n        });\r\n        that._subtitleElement.attr({\r\n            align: align,\r\n            \"class\": options.subtitle.cssClass\r\n        });\r\n        group.linkAppend();\r\n        hasText(options.subtitle.text) ? that._subtitleElement.append(group) : that._subtitleElement.remove()\r\n    },\r\n    _updateTexts: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var subtitleOptions = options.subtitle;\r\n        var titleElement = that._titleElement;\r\n        var subtitleElement = that._subtitleElement;\r\n        var testText = \"A\";\r\n        var titleBox;\r\n        titleElement.attr({\r\n            text: testText,\r\n            y: 0\r\n        }).css((0, _utils.patchFontOptions)(options.font));\r\n        titleBox = titleElement.getBBox();\r\n        that._baseLineCorrection = titleBox.height + titleBox.y;\r\n        titleElement.attr({\r\n            text: options.text\r\n        });\r\n        titleBox = titleElement.getBBox();\r\n        var y = -titleBox.y;\r\n        titleElement.attr({\r\n            y: y\r\n        });\r\n        if (hasText(subtitleOptions.text)) {\r\n            subtitleElement.attr({\r\n                text: subtitleOptions.text,\r\n                y: 0\r\n            }).css((0, _utils.patchFontOptions)(subtitleOptions.font))\r\n        }\r\n    },\r\n    _shiftSubtitle: function() {\r\n        var that = this;\r\n        var titleBox = that._titleElement.getBBox();\r\n        var element = that._subtitleElement;\r\n        var offset = that._options.subtitle.offset;\r\n        element.move(0, titleBox.y + titleBox.height - element.getBBox().y - offset)\r\n    },\r\n    _updateBoundingRectAlignment: function() {\r\n        var boundingRect = this._boundingRect;\r\n        var options = this._options;\r\n        boundingRect.verticalAlignment = options.verticalAlignment;\r\n        boundingRect.horizontalAlignment = options.horizontalAlignment;\r\n        boundingRect.cutLayoutSide = options.verticalAlignment;\r\n        boundingRect.cutSide = \"vertical\";\r\n        boundingRect.position = {\r\n            horizontal: options.horizontalAlignment,\r\n            vertical: options.verticalAlignment\r\n        }\r\n    },\r\n    hasText: function() {\r\n        return this._hasText\r\n    },\r\n    update: function(themeOptions, userOptions) {\r\n        var that = this;\r\n        var options = (0, _extend.extend)(true, {}, themeOptions, processTitleOptions(userOptions));\r\n        var _hasText = hasText(options.text);\r\n        var isLayoutChanged = _hasText || _hasText !== that._hasText;\r\n        that._baseLineCorrection = 0;\r\n        that._updateOptions(options);\r\n        that._boundingRect = {};\r\n        if (_hasText) {\r\n            that._updateStructure();\r\n            that._updateTexts()\r\n        } else {\r\n            that._group.linkRemove()\r\n        }\r\n        that._updateBoundingRect();\r\n        that._updateBoundingRectAlignment();\r\n        that._hasText = _hasText;\r\n        return isLayoutChanged\r\n    },\r\n    draw: function(width, height) {\r\n        var that = this;\r\n        if (that._hasText) {\r\n            that._group.linkAppend();\r\n            that._correctTitleLength(width);\r\n            if (that._group.getBBox().height > height) {\r\n                this.freeSpace()\r\n            }\r\n        }\r\n        return that\r\n    },\r\n    _correctTitleLength: function(width) {\r\n        var that = this;\r\n        var options = that._options;\r\n        var margin = options.margin;\r\n        var maxWidth = width - margin.left - margin.right;\r\n        var placeholderSize = options.placeholderSize;\r\n        processTitleLength(that._titleElement, options.text, maxWidth, options, placeholderSize);\r\n        if (that._subtitleElement) {\r\n            if (_Number(placeholderSize) > 0) {\r\n                placeholderSize -= that._titleElement.getBBox().height\r\n            }\r\n            processTitleLength(that._subtitleElement, options.subtitle.text, maxWidth, options.subtitle, placeholderSize);\r\n            that._shiftSubtitle()\r\n        }\r\n        that._updateBoundingRect();\r\n        var _this$getCorrectedLay = this.getCorrectedLayoutOptions(),\r\n            x = _this$getCorrectedLay.x,\r\n            y = _this$getCorrectedLay.y,\r\n            height = _this$getCorrectedLay.height;\r\n        this._clipRect.attr({\r\n            x: x,\r\n            y: y,\r\n            width: width,\r\n            height: height\r\n        })\r\n    },\r\n    getLayoutOptions: function() {\r\n        return this._boundingRect || null\r\n    },\r\n    shift: function(x, y) {\r\n        var that = this;\r\n        var box = that.getLayoutOptions();\r\n        that._group.move(x - box.x, y - box.y);\r\n        return that\r\n    },\r\n    _updateBoundingRect: function() {\r\n        var that = this;\r\n        var options = that._options;\r\n        var margin = options.margin;\r\n        var boundingRect = that._boundingRect;\r\n        var box = that._hasText ? that._group.getBBox() : {\r\n            width: 0,\r\n            height: 0,\r\n            x: 0,\r\n            y: 0,\r\n            isEmpty: true\r\n        };\r\n        if (!box.isEmpty) {\r\n            box.height += margin.top + margin.bottom - that._baseLineCorrection;\r\n            box.width += margin.left + margin.right;\r\n            box.x -= margin.left;\r\n            box.y += that._baseLineCorrection - margin.top\r\n        }\r\n        if (options.placeholderSize > 0) {\r\n            box.height = options.placeholderSize\r\n        }\r\n        boundingRect.height = box.height;\r\n        boundingRect.width = box.width;\r\n        boundingRect.x = box.x;\r\n        boundingRect.y = box.y\r\n    },\r\n    getCorrectedLayoutOptions: function() {\r\n        var srcBox = this.getLayoutOptions();\r\n        var correction = this._baseLineCorrection;\r\n        return (0, _extend.extend)({}, srcBox, {\r\n            y: srcBox.y - correction,\r\n            height: srcBox.height + correction\r\n        })\r\n    },\r\n    layoutOptions: function() {\r\n        if (!this._hasText) {\r\n            return null\r\n        }\r\n        return {\r\n            horizontalAlignment: this._boundingRect.horizontalAlignment,\r\n            verticalAlignment: this._boundingRect.verticalAlignment,\r\n            priority: 0\r\n        }\r\n    },\r\n    measure: function(size) {\r\n        this.draw(size[0], size[1]);\r\n        return [this._boundingRect.width, this._boundingRect.height]\r\n    },\r\n    move: function(rect, fitRect) {\r\n        var boundingRect = this._boundingRect;\r\n        if (checkRect(rect, boundingRect)) {\r\n            this.shift(fitRect[0], fitRect[1])\r\n        } else {\r\n            this.shift(Math.round(rect[0]), Math.round(rect[1]))\r\n        }\r\n    },\r\n    freeSpace: function() {\r\n        var that = this;\r\n        that._params.incidentOccurred(\"W2103\");\r\n        that._group.linkRemove();\r\n        that._boundingRect.width = that._boundingRect.height = 0\r\n    },\r\n    getOptions: function() {\r\n        return this._options\r\n    },\r\n    changeLink: function(root) {\r\n        this._group.linkRemove();\r\n        this._group.linkOn(root, \"title\")\r\n    }\r\n});\r\n\r\nfunction processTitleOptions(options) {\r\n    var newOptions = (0, _type.isString)(options) ? {\r\n        text: options\r\n    } : options || {};\r\n    newOptions.subtitle = (0, _type.isString)(newOptions.subtitle) ? {\r\n        text: newOptions.subtitle\r\n    } : newOptions.subtitle || {};\r\n    return newOptions\r\n}\r\nvar plugin = {\r\n    name: \"title\",\r\n    init: function() {\r\n        var that = this;\r\n        that._title = new Title({\r\n            renderer: that._renderer,\r\n            cssClass: that._rootClassPrefix + \"-title\",\r\n            incidentOccurred: that._incidentOccurred\r\n        });\r\n        that._layout.add(that._title)\r\n    },\r\n    dispose: function() {\r\n        this._title.dispose();\r\n        this._title = null\r\n    },\r\n    customize: function(constructor) {\r\n        constructor.addChange({\r\n            code: \"TITLE\",\r\n            handler: function() {\r\n                if (this._title.update(this._themeManager.theme(\"title\"), this.option(\"title\"))) {\r\n                    this._change([\"LAYOUT\"])\r\n                }\r\n            },\r\n            isThemeDependent: true,\r\n            option: \"title\",\r\n            isOptionChange: true\r\n        })\r\n    },\r\n    fontFields: [\"title.font\", \"title.subtitle.font\"]\r\n};\r\nexports.plugin = plugin;\r\n"]},"metadata":{},"sourceType":"script"}