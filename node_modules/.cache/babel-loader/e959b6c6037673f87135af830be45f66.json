{"ast":null,"code":"/**\r\n * DevExtreme (core/dom_component.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.default = void 0;\n\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nvar _errors = _interopRequireDefault(require(\"./errors\"));\n\nvar _resize_callbacks = _interopRequireDefault(require(\"../core/utils/resize_callbacks\"));\n\nvar _component = _interopRequireDefault(require(\"./component\"));\n\nvar _template_manager = require(\"./template_manager\");\n\nvar _public_component = require(\"./utils/public_component\");\n\nvar _element_data = require(\"./element_data\");\n\nvar _iterator = require(\"./utils/iterator\");\n\nvar _extend = require(\"./utils/extend\");\n\nvar _element = require(\"../core/element\");\n\nvar _common = require(\"./utils/common\");\n\nvar _array = require(\"./utils/array\");\n\nvar _type = require(\"./utils/type\");\n\nvar _window = require(\"../core/utils/window\");\n\nvar _short = require(\"../events/short\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar abstract = _component.default.abstract;\n\nvar DOMComponent = _component.default.inherit({\n  _getDefaultOptions: function _getDefaultOptions() {\n    return (0, _extend.extend)(this.callBase(), {\n      width: void 0,\n      height: void 0,\n      rtlEnabled: (0, _config.default)().rtlEnabled,\n      elementAttr: {},\n      disabled: false,\n      integrationOptions: {}\n    }, this._useTemplates() ? _template_manager.TemplateManager.createDefaultOptions() : {});\n  },\n  ctor: function ctor(element, options) {\n    this._createElement(element);\n\n    (0, _public_component.attachInstanceToElement)(this._$element, this, this._dispose);\n    this.callBase(options);\n  },\n  _createElement: function _createElement(element) {\n    this._$element = (0, _renderer.default)(element);\n  },\n  _getSynchronizableOptionsForCreateComponent: function _getSynchronizableOptionsForCreateComponent() {\n    return [\"rtlEnabled\", \"disabled\", \"templatesRenderAsynchronously\"];\n  },\n  _visibilityChanged: abstract,\n  _dimensionChanged: abstract,\n  _init: function _init() {\n    this.callBase();\n\n    this._attachWindowResizeCallback();\n\n    this._initTemplateManager();\n  },\n  _setOptionsByDevice: function _setOptionsByDevice(instanceCustomRules) {\n    this.callBase([].concat(this.constructor._classCustomRules || [], instanceCustomRules || []));\n  },\n  _isInitialOptionValue: function _isInitialOptionValue(name) {\n    var isCustomOption = this.constructor._classCustomRules && Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules), name);\n    return !isCustomOption && this.callBase(name);\n  },\n  _attachWindowResizeCallback: function _attachWindowResizeCallback() {\n    if (this._isDimensionChangeSupported()) {\n      var windowResizeCallBack = this._windowResizeCallBack = this._dimensionChanged.bind(this);\n\n      _resize_callbacks.default.add(windowResizeCallBack);\n    }\n  },\n  _isDimensionChangeSupported: function _isDimensionChangeSupported() {\n    return this._dimensionChanged !== abstract;\n  },\n  _renderComponent: function _renderComponent() {\n    this._initMarkup();\n\n    (0, _window.hasWindow)() && this._render();\n  },\n  _initMarkup: function _initMarkup() {\n    var _ref = this.option() || {},\n        rtlEnabled = _ref.rtlEnabled;\n\n    this._renderElementAttributes();\n\n    this._toggleRTLDirection(rtlEnabled);\n\n    this._renderVisibilityChange();\n\n    this._renderDimensions();\n  },\n  _render: function _render() {\n    this._attachVisibilityChangeHandlers();\n  },\n  _renderElementAttributes: function _renderElementAttributes() {\n    var _ref2 = this.option() || {},\n        elementAttr = _ref2.elementAttr;\n\n    var attributes = (0, _extend.extend)({}, elementAttr);\n    var classNames = attributes.class;\n    delete attributes.class;\n    this.$element().attr(attributes).addClass(classNames);\n  },\n  _renderVisibilityChange: function _renderVisibilityChange() {\n    if (this._isDimensionChangeSupported()) {\n      this._attachDimensionChangeHandlers();\n    }\n\n    if (this._isVisibilityChangeSupported()) {\n      var $element = this.$element();\n      $element.addClass(\"dx-visibility-change-handler\");\n    }\n  },\n  _renderDimensions: function _renderDimensions() {\n    var $element = this.$element();\n    var element = $element.get(0);\n\n    var width = this._getOptionValue(\"width\", element);\n\n    var height = this._getOptionValue(\"height\", element);\n\n    if (this._isCssUpdateRequired(element, height, width)) {\n      $element.css({\n        width: null === width ? \"\" : width,\n        height: null === height ? \"\" : height\n      });\n    }\n  },\n  _isCssUpdateRequired: function _isCssUpdateRequired(element, height, width) {\n    return !!((0, _type.isDefined)(width) || (0, _type.isDefined)(height) || element.style.width || element.style.height);\n  },\n  _attachDimensionChangeHandlers: function _attachDimensionChangeHandlers() {\n    var _this = this;\n\n    var $el = this.$element();\n    var namespace = \"\".concat(this.NAME, \"VisibilityChange\");\n\n    _short.resize.off($el, {\n      namespace: namespace\n    });\n\n    _short.resize.on($el, function () {\n      return _this._dimensionChanged();\n    }, {\n      namespace: namespace\n    });\n  },\n  _attachVisibilityChangeHandlers: function _attachVisibilityChangeHandlers() {\n    var _this2 = this;\n\n    if (this._isVisibilityChangeSupported()) {\n      var $el = this.$element();\n      var namespace = \"\".concat(this.NAME, \"VisibilityChange\");\n      this._isHidden = !this._isVisible();\n\n      _short.visibility.off($el, {\n        namespace: namespace\n      });\n\n      _short.visibility.on($el, function () {\n        return _this2._checkVisibilityChanged(\"shown\");\n      }, function () {\n        return _this2._checkVisibilityChanged(\"hiding\");\n      }, {\n        namespace: namespace\n      });\n    }\n  },\n  _isVisible: function _isVisible() {\n    var $element = this.$element();\n    return $element.is(\":visible\");\n  },\n  _checkVisibilityChanged: function _checkVisibilityChanged(action) {\n    var isVisible = this._isVisible();\n\n    if (isVisible) {\n      if (\"hiding\" === action && !this._isHidden) {\n        this._visibilityChanged(false);\n\n        this._isHidden = true;\n      } else {\n        if (\"shown\" === action && this._isHidden) {\n          this._isHidden = false;\n\n          this._visibilityChanged(true);\n        }\n      }\n    }\n  },\n  _isVisibilityChangeSupported: function _isVisibilityChangeSupported() {\n    return this._visibilityChanged !== abstract && (0, _window.hasWindow)();\n  },\n  _clean: _common.noop,\n  _modelByElement: function _modelByElement() {\n    var _this$option = this.option(),\n        modelByElement = _this$option.modelByElement;\n\n    var $element = this.$element();\n    return modelByElement ? modelByElement($element) : void 0;\n  },\n  _invalidate: function _invalidate() {\n    if (this._isUpdateAllowed()) {\n      throw _errors.default.Error(\"E0007\");\n    }\n\n    this._requireRefresh = true;\n  },\n  _refresh: function _refresh() {\n    this._clean();\n\n    this._renderComponent();\n  },\n  _dispose: function _dispose() {\n    this._templateManager && this._templateManager.dispose();\n    this.callBase();\n\n    this._clean();\n\n    this._detachWindowResizeCallback();\n  },\n  _detachWindowResizeCallback: function _detachWindowResizeCallback() {\n    if (this._isDimensionChangeSupported()) {\n      _resize_callbacks.default.remove(this._windowResizeCallBack);\n    }\n  },\n  _toggleRTLDirection: function _toggleRTLDirection(rtl) {\n    var $element = this.$element();\n    $element.toggleClass(\"dx-rtl\", rtl);\n  },\n  _createComponent: function _createComponent(element, component) {\n    var _this3 = this;\n\n    var config = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n    var synchronizableOptions = (0, _common.grep)(this._getSynchronizableOptionsForCreateComponent(), function (value) {\n      return !(value in config);\n    });\n\n    var _this$option2 = this.option(),\n        integrationOptions = _this$option2.integrationOptions;\n\n    var _this$option3 = this.option(),\n        nestedComponentOptions = _this$option3.nestedComponentOptions;\n\n    nestedComponentOptions = nestedComponentOptions || _common.noop;\n    var nestedComponentConfig = (0, _extend.extend)({\n      integrationOptions: integrationOptions\n    }, nestedComponentOptions(this));\n    synchronizableOptions.forEach(function (optionName) {\n      return nestedComponentConfig[optionName] = _this3.option(optionName);\n    });\n\n    this._extendConfig(config, nestedComponentConfig);\n\n    var instance = void 0;\n\n    if ((0, _type.isString)(component)) {\n      var $element = (0, _renderer.default)(element)[component](config);\n      instance = $element[component](\"instance\");\n    } else {\n      if (element) {\n        instance = component.getInstance(element);\n\n        if (instance) {\n          instance.option(config);\n        } else {\n          instance = new component(element, config);\n        }\n      }\n    }\n\n    if (instance) {\n      var optionChangedHandler = function optionChangedHandler(_ref3) {\n        var name = _ref3.name,\n            value = _ref3.value;\n\n        if ((0, _array.inArray)(name, synchronizableOptions) >= 0) {\n          instance.option(name, value);\n        }\n      };\n\n      this.on(\"optionChanged\", optionChangedHandler);\n      instance.on(\"disposing\", function () {\n        return _this3.off(\"optionChanged\", optionChangedHandler);\n      });\n    }\n\n    return instance;\n  },\n  _extendConfig: function _extendConfig(config, extendConfig) {\n    (0, _iterator.each)(extendConfig, function (key, value) {\n      !Object.prototype.hasOwnProperty.call(config, key) && (config[key] = value);\n    });\n  },\n  _defaultActionConfig: function _defaultActionConfig() {\n    var $element = this.$element();\n\n    var context = this._modelByElement($element);\n\n    return (0, _extend.extend)(this.callBase(), {\n      context: context\n    });\n  },\n  _defaultActionArgs: function _defaultActionArgs() {\n    var $element = this.$element();\n\n    var model = this._modelByElement($element);\n\n    var element = this.element();\n    return (0, _extend.extend)(this.callBase(), {\n      element: element,\n      model: model\n    });\n  },\n  _optionChanged: function _optionChanged(args) {\n    switch (args.name) {\n      case \"width\":\n      case \"height\":\n        this._renderDimensions();\n\n        break;\n\n      case \"rtlEnabled\":\n        this._invalidate();\n\n        break;\n\n      case \"elementAttr\":\n        this._renderElementAttributes();\n\n        break;\n\n      case \"disabled\":\n      case \"integrationOptions\":\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _removeAttributes: function _removeAttributes(element) {\n    var attrs = element.attributes;\n\n    for (var i = attrs.length - 1; i >= 0; i--) {\n      var attr = attrs[i];\n\n      if (attr) {\n        var name = attr.name;\n\n        if (!name.indexOf(\"aria-\") || name.indexOf(\"dx-\") !== -1 || \"role\" === name || \"style\" === name || \"tabindex\" === name) {\n          element.removeAttribute(name);\n        }\n      }\n    }\n  },\n  _removeClasses: function _removeClasses(element) {\n    element.className = element.className.split(\" \").filter(function (cssClass) {\n      return 0 !== cssClass.lastIndexOf(\"dx-\", 0);\n    }).join(\" \");\n  },\n  _updateDOMComponent: function _updateDOMComponent(renderRequired) {\n    if (renderRequired) {\n      this._renderComponent();\n    } else {\n      if (this._requireRefresh) {\n        this._requireRefresh = false;\n\n        this._refresh();\n      }\n    }\n  },\n  endUpdate: function endUpdate() {\n    var renderRequired = this._isInitializingRequired();\n\n    this.callBase();\n    this._isUpdateAllowed() && this._updateDOMComponent(renderRequired);\n  },\n  $element: function $element() {\n    return this._$element;\n  },\n  element: function element() {\n    var $element = this.$element();\n    return (0, _element.getPublicElement)($element);\n  },\n  dispose: function dispose() {\n    var element = this.$element().get(0);\n    (0, _element_data.cleanDataRecursive)(element, true);\n    element.textContent = \"\";\n\n    this._removeAttributes(element);\n\n    this._removeClasses(element);\n  },\n  resetOption: function resetOption(optionName) {\n    this.callBase(optionName);\n\n    if (\"width\" === optionName || \"height\" === optionName) {\n      var initialOption = this.initialOption(optionName);\n      !(0, _type.isDefined)(initialOption) && this.$element().css(optionName, \"\");\n    }\n  },\n  _getAnonymousTemplateName: function _getAnonymousTemplateName() {\n    return;\n  },\n  _initTemplateManager: function _initTemplateManager() {\n    if (this._templateManager || !this._useTemplates()) {\n      return;\n    }\n\n    var _this$option4 = this.option(),\n        _this$option4$integra = _this$option4.integrationOptions,\n        integrationOptions = void 0 === _this$option4$integra ? {} : _this$option4$integra;\n\n    var createTemplate = integrationOptions.createTemplate;\n    this._templateManager = new _template_manager.TemplateManager(createTemplate, this._getAnonymousTemplateName());\n\n    this._initTemplates();\n  },\n  _initTemplates: function _initTemplates() {\n    var _this4 = this;\n\n    var _this$_templateManage = this._templateManager.extractTemplates(this.$element()),\n        templates = _this$_templateManage.templates,\n        anonymousTemplateMeta = _this$_templateManage.anonymousTemplateMeta;\n\n    var anonymousTemplate = this.option(\"integrationOptions.templates.\".concat(anonymousTemplateMeta.name));\n    templates.forEach(function (_ref4) {\n      var name = _ref4.name,\n          template = _ref4.template;\n\n      _this4._options.silent(\"integrationOptions.templates.\".concat(name), template);\n    });\n\n    if (anonymousTemplateMeta.name && !anonymousTemplate) {\n      this._options.silent(\"integrationOptions.templates.\".concat(anonymousTemplateMeta.name), anonymousTemplateMeta.template);\n\n      this._options.silent(\"_hasAnonymousTemplateContent\", true);\n    }\n  },\n  _getTemplateByOption: function _getTemplateByOption(optionName) {\n    return this._getTemplate(this.option(optionName));\n  },\n  _getTemplate: function _getTemplate(templateSource) {\n    var templates = this.option(\"integrationOptions.templates\");\n    var isAsyncTemplate = this.option(\"templatesRenderAsynchronously\");\n    var skipTemplates = this.option(\"integrationOptions.skipTemplates\");\n    return this._templateManager.getTemplate(templateSource, templates, {\n      isAsyncTemplate: isAsyncTemplate,\n      skipTemplates: skipTemplates\n    }, this);\n  },\n  _saveTemplate: function _saveTemplate(name, template) {\n    this._setOptionWithoutOptionChange(\"integrationOptions.templates.\" + name, this._templateManager._createTemplate(template));\n  },\n  _useTemplates: function _useTemplates() {\n    return true;\n  }\n});\n\nDOMComponent.getInstance = function (element) {\n  return (0, _public_component.getInstanceByElement)((0, _renderer.default)(element), this);\n};\n\nDOMComponent.defaultOptions = function (rule) {\n  this._classCustomRules = this._classCustomRules || [];\n\n  this._classCustomRules.push(rule);\n};\n\nvar _default = DOMComponent;\nexports.default = _default;\nmodule.exports = exports.default;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["E:/Monday.com/quickstart-react/node_modules/devextreme/core/dom_component.js"],"names":["exports","default","_renderer","_interopRequireDefault","require","_config","_errors","_resize_callbacks","_component","_template_manager","_public_component","_element_data","_iterator","_extend","_element","_common","_array","_type","_window","_short","obj","__esModule","abstract","DOMComponent","inherit","_getDefaultOptions","extend","callBase","width","height","rtlEnabled","elementAttr","disabled","integrationOptions","_useTemplates","TemplateManager","createDefaultOptions","ctor","element","options","_createElement","attachInstanceToElement","_$element","_dispose","_getSynchronizableOptionsForCreateComponent","_visibilityChanged","_dimensionChanged","_init","_attachWindowResizeCallback","_initTemplateManager","_setOptionsByDevice","instanceCustomRules","concat","constructor","_classCustomRules","_isInitialOptionValue","name","isCustomOption","Object","prototype","hasOwnProperty","call","_convertRulesToOptions","_isDimensionChangeSupported","windowResizeCallBack","_windowResizeCallBack","bind","add","_renderComponent","_initMarkup","hasWindow","_render","_ref","option","_renderElementAttributes","_toggleRTLDirection","_renderVisibilityChange","_renderDimensions","_attachVisibilityChangeHandlers","_ref2","attributes","classNames","class","$element","attr","addClass","_attachDimensionChangeHandlers","_isVisibilityChangeSupported","get","_getOptionValue","_isCssUpdateRequired","css","isDefined","style","_this","$el","namespace","NAME","resize","off","on","_this2","_isHidden","_isVisible","visibility","_checkVisibilityChanged","is","action","isVisible","_clean","noop","_modelByElement","_this$option","modelByElement","_invalidate","_isUpdateAllowed","Error","_requireRefresh","_refresh","_templateManager","dispose","_detachWindowResizeCallback","remove","rtl","toggleClass","_createComponent","component","_this3","config","arguments","length","synchronizableOptions","grep","value","_this$option2","_this$option3","nestedComponentOptions","nestedComponentConfig","forEach","optionName","_extendConfig","instance","isString","getInstance","optionChangedHandler","_ref3","inArray","extendConfig","each","key","_defaultActionConfig","context","_defaultActionArgs","model","_optionChanged","args","_removeAttributes","attrs","i","indexOf","removeAttribute","_removeClasses","className","split","filter","cssClass","lastIndexOf","join","_updateDOMComponent","renderRequired","endUpdate","_isInitializingRequired","getPublicElement","cleanDataRecursive","textContent","resetOption","initialOption","_getAnonymousTemplateName","_this$option4","_this$option4$integra","createTemplate","_initTemplates","_this4","_this$_templateManage","extractTemplates","templates","anonymousTemplateMeta","anonymousTemplate","_ref4","template","_options","silent","_getTemplateByOption","_getTemplate","templateSource","isAsyncTemplate","skipTemplates","getTemplate","_saveTemplate","_setOptionWithoutOptionChange","_createTemplate","getInstanceByElement","defaultOptions","rule","push","_default","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (core/dom_component.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.default = void 0;\r\nvar _renderer = _interopRequireDefault(require(\"../core/renderer\"));\r\nvar _config = _interopRequireDefault(require(\"./config\"));\r\nvar _errors = _interopRequireDefault(require(\"./errors\"));\r\nvar _resize_callbacks = _interopRequireDefault(require(\"../core/utils/resize_callbacks\"));\r\nvar _component = _interopRequireDefault(require(\"./component\"));\r\nvar _template_manager = require(\"./template_manager\");\r\nvar _public_component = require(\"./utils/public_component\");\r\nvar _element_data = require(\"./element_data\");\r\nvar _iterator = require(\"./utils/iterator\");\r\nvar _extend = require(\"./utils/extend\");\r\nvar _element = require(\"../core/element\");\r\nvar _common = require(\"./utils/common\");\r\nvar _array = require(\"./utils/array\");\r\nvar _type = require(\"./utils/type\");\r\nvar _window = require(\"../core/utils/window\");\r\nvar _short = require(\"../events/short\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar abstract = _component.default.abstract;\r\nvar DOMComponent = _component.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            width: void 0,\r\n            height: void 0,\r\n            rtlEnabled: (0, _config.default)().rtlEnabled,\r\n            elementAttr: {},\r\n            disabled: false,\r\n            integrationOptions: {}\r\n        }, this._useTemplates() ? _template_manager.TemplateManager.createDefaultOptions() : {})\r\n    },\r\n    ctor: function(element, options) {\r\n        this._createElement(element);\r\n        (0, _public_component.attachInstanceToElement)(this._$element, this, this._dispose);\r\n        this.callBase(options)\r\n    },\r\n    _createElement: function(element) {\r\n        this._$element = (0, _renderer.default)(element)\r\n    },\r\n    _getSynchronizableOptionsForCreateComponent: function() {\r\n        return [\"rtlEnabled\", \"disabled\", \"templatesRenderAsynchronously\"]\r\n    },\r\n    _visibilityChanged: abstract,\r\n    _dimensionChanged: abstract,\r\n    _init: function() {\r\n        this.callBase();\r\n        this._attachWindowResizeCallback();\r\n        this._initTemplateManager()\r\n    },\r\n    _setOptionsByDevice: function(instanceCustomRules) {\r\n        this.callBase([].concat(this.constructor._classCustomRules || [], instanceCustomRules || []))\r\n    },\r\n    _isInitialOptionValue: function(name) {\r\n        var isCustomOption = this.constructor._classCustomRules && Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules), name);\r\n        return !isCustomOption && this.callBase(name)\r\n    },\r\n    _attachWindowResizeCallback: function() {\r\n        if (this._isDimensionChangeSupported()) {\r\n            var windowResizeCallBack = this._windowResizeCallBack = this._dimensionChanged.bind(this);\r\n            _resize_callbacks.default.add(windowResizeCallBack)\r\n        }\r\n    },\r\n    _isDimensionChangeSupported: function() {\r\n        return this._dimensionChanged !== abstract\r\n    },\r\n    _renderComponent: function() {\r\n        this._initMarkup();\r\n        (0, _window.hasWindow)() && this._render()\r\n    },\r\n    _initMarkup: function() {\r\n        var _ref = this.option() || {},\r\n            rtlEnabled = _ref.rtlEnabled;\r\n        this._renderElementAttributes();\r\n        this._toggleRTLDirection(rtlEnabled);\r\n        this._renderVisibilityChange();\r\n        this._renderDimensions()\r\n    },\r\n    _render: function() {\r\n        this._attachVisibilityChangeHandlers()\r\n    },\r\n    _renderElementAttributes: function() {\r\n        var _ref2 = this.option() || {},\r\n            elementAttr = _ref2.elementAttr;\r\n        var attributes = (0, _extend.extend)({}, elementAttr);\r\n        var classNames = attributes.class;\r\n        delete attributes.class;\r\n        this.$element().attr(attributes).addClass(classNames)\r\n    },\r\n    _renderVisibilityChange: function() {\r\n        if (this._isDimensionChangeSupported()) {\r\n            this._attachDimensionChangeHandlers()\r\n        }\r\n        if (this._isVisibilityChangeSupported()) {\r\n            var $element = this.$element();\r\n            $element.addClass(\"dx-visibility-change-handler\")\r\n        }\r\n    },\r\n    _renderDimensions: function() {\r\n        var $element = this.$element();\r\n        var element = $element.get(0);\r\n        var width = this._getOptionValue(\"width\", element);\r\n        var height = this._getOptionValue(\"height\", element);\r\n        if (this._isCssUpdateRequired(element, height, width)) {\r\n            $element.css({\r\n                width: null === width ? \"\" : width,\r\n                height: null === height ? \"\" : height\r\n            })\r\n        }\r\n    },\r\n    _isCssUpdateRequired: function(element, height, width) {\r\n        return !!((0, _type.isDefined)(width) || (0, _type.isDefined)(height) || element.style.width || element.style.height)\r\n    },\r\n    _attachDimensionChangeHandlers: function() {\r\n        var _this = this;\r\n        var $el = this.$element();\r\n        var namespace = \"\".concat(this.NAME, \"VisibilityChange\");\r\n        _short.resize.off($el, {\r\n            namespace: namespace\r\n        });\r\n        _short.resize.on($el, function() {\r\n            return _this._dimensionChanged()\r\n        }, {\r\n            namespace: namespace\r\n        })\r\n    },\r\n    _attachVisibilityChangeHandlers: function() {\r\n        var _this2 = this;\r\n        if (this._isVisibilityChangeSupported()) {\r\n            var $el = this.$element();\r\n            var namespace = \"\".concat(this.NAME, \"VisibilityChange\");\r\n            this._isHidden = !this._isVisible();\r\n            _short.visibility.off($el, {\r\n                namespace: namespace\r\n            });\r\n            _short.visibility.on($el, function() {\r\n                return _this2._checkVisibilityChanged(\"shown\")\r\n            }, function() {\r\n                return _this2._checkVisibilityChanged(\"hiding\")\r\n            }, {\r\n                namespace: namespace\r\n            })\r\n        }\r\n    },\r\n    _isVisible: function() {\r\n        var $element = this.$element();\r\n        return $element.is(\":visible\")\r\n    },\r\n    _checkVisibilityChanged: function(action) {\r\n        var isVisible = this._isVisible();\r\n        if (isVisible) {\r\n            if (\"hiding\" === action && !this._isHidden) {\r\n                this._visibilityChanged(false);\r\n                this._isHidden = true\r\n            } else {\r\n                if (\"shown\" === action && this._isHidden) {\r\n                    this._isHidden = false;\r\n                    this._visibilityChanged(true)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _isVisibilityChangeSupported: function() {\r\n        return this._visibilityChanged !== abstract && (0, _window.hasWindow)()\r\n    },\r\n    _clean: _common.noop,\r\n    _modelByElement: function() {\r\n        var _this$option = this.option(),\r\n            modelByElement = _this$option.modelByElement;\r\n        var $element = this.$element();\r\n        return modelByElement ? modelByElement($element) : void 0\r\n    },\r\n    _invalidate: function() {\r\n        if (this._isUpdateAllowed()) {\r\n            throw _errors.default.Error(\"E0007\")\r\n        }\r\n        this._requireRefresh = true\r\n    },\r\n    _refresh: function() {\r\n        this._clean();\r\n        this._renderComponent()\r\n    },\r\n    _dispose: function() {\r\n        this._templateManager && this._templateManager.dispose();\r\n        this.callBase();\r\n        this._clean();\r\n        this._detachWindowResizeCallback()\r\n    },\r\n    _detachWindowResizeCallback: function() {\r\n        if (this._isDimensionChangeSupported()) {\r\n            _resize_callbacks.default.remove(this._windowResizeCallBack)\r\n        }\r\n    },\r\n    _toggleRTLDirection: function(rtl) {\r\n        var $element = this.$element();\r\n        $element.toggleClass(\"dx-rtl\", rtl)\r\n    },\r\n    _createComponent: function(element, component) {\r\n        var _this3 = this;\r\n        var config = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\r\n        var synchronizableOptions = (0, _common.grep)(this._getSynchronizableOptionsForCreateComponent(), function(value) {\r\n            return !(value in config)\r\n        });\r\n        var _this$option2 = this.option(),\r\n            integrationOptions = _this$option2.integrationOptions;\r\n        var _this$option3 = this.option(),\r\n            nestedComponentOptions = _this$option3.nestedComponentOptions;\r\n        nestedComponentOptions = nestedComponentOptions || _common.noop;\r\n        var nestedComponentConfig = (0, _extend.extend)({\r\n            integrationOptions: integrationOptions\r\n        }, nestedComponentOptions(this));\r\n        synchronizableOptions.forEach(function(optionName) {\r\n            return nestedComponentConfig[optionName] = _this3.option(optionName)\r\n        });\r\n        this._extendConfig(config, nestedComponentConfig);\r\n        var instance = void 0;\r\n        if ((0, _type.isString)(component)) {\r\n            var $element = (0, _renderer.default)(element)[component](config);\r\n            instance = $element[component](\"instance\")\r\n        } else {\r\n            if (element) {\r\n                instance = component.getInstance(element);\r\n                if (instance) {\r\n                    instance.option(config)\r\n                } else {\r\n                    instance = new component(element, config)\r\n                }\r\n            }\r\n        }\r\n        if (instance) {\r\n            var optionChangedHandler = function(_ref3) {\r\n                var name = _ref3.name,\r\n                    value = _ref3.value;\r\n                if ((0, _array.inArray)(name, synchronizableOptions) >= 0) {\r\n                    instance.option(name, value)\r\n                }\r\n            };\r\n            this.on(\"optionChanged\", optionChangedHandler);\r\n            instance.on(\"disposing\", function() {\r\n                return _this3.off(\"optionChanged\", optionChangedHandler)\r\n            })\r\n        }\r\n        return instance\r\n    },\r\n    _extendConfig: function(config, extendConfig) {\r\n        (0, _iterator.each)(extendConfig, function(key, value) {\r\n            !Object.prototype.hasOwnProperty.call(config, key) && (config[key] = value)\r\n        })\r\n    },\r\n    _defaultActionConfig: function() {\r\n        var $element = this.$element();\r\n        var context = this._modelByElement($element);\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            context: context\r\n        })\r\n    },\r\n    _defaultActionArgs: function() {\r\n        var $element = this.$element();\r\n        var model = this._modelByElement($element);\r\n        var element = this.element();\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            element: element,\r\n            model: model\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"width\":\r\n            case \"height\":\r\n                this._renderDimensions();\r\n                break;\r\n            case \"rtlEnabled\":\r\n                this._invalidate();\r\n                break;\r\n            case \"elementAttr\":\r\n                this._renderElementAttributes();\r\n                break;\r\n            case \"disabled\":\r\n            case \"integrationOptions\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _removeAttributes: function(element) {\r\n        var attrs = element.attributes;\r\n        for (var i = attrs.length - 1; i >= 0; i--) {\r\n            var attr = attrs[i];\r\n            if (attr) {\r\n                var name = attr.name;\r\n                if (!name.indexOf(\"aria-\") || name.indexOf(\"dx-\") !== -1 || \"role\" === name || \"style\" === name || \"tabindex\" === name) {\r\n                    element.removeAttribute(name)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _removeClasses: function(element) {\r\n        element.className = element.className.split(\" \").filter(function(cssClass) {\r\n            return 0 !== cssClass.lastIndexOf(\"dx-\", 0)\r\n        }).join(\" \")\r\n    },\r\n    _updateDOMComponent: function(renderRequired) {\r\n        if (renderRequired) {\r\n            this._renderComponent()\r\n        } else {\r\n            if (this._requireRefresh) {\r\n                this._requireRefresh = false;\r\n                this._refresh()\r\n            }\r\n        }\r\n    },\r\n    endUpdate: function() {\r\n        var renderRequired = this._isInitializingRequired();\r\n        this.callBase();\r\n        this._isUpdateAllowed() && this._updateDOMComponent(renderRequired)\r\n    },\r\n    $element: function() {\r\n        return this._$element\r\n    },\r\n    element: function() {\r\n        var $element = this.$element();\r\n        return (0, _element.getPublicElement)($element)\r\n    },\r\n    dispose: function() {\r\n        var element = this.$element().get(0);\r\n        (0, _element_data.cleanDataRecursive)(element, true);\r\n        element.textContent = \"\";\r\n        this._removeAttributes(element);\r\n        this._removeClasses(element)\r\n    },\r\n    resetOption: function(optionName) {\r\n        this.callBase(optionName);\r\n        if (\"width\" === optionName || \"height\" === optionName) {\r\n            var initialOption = this.initialOption(optionName);\r\n            !(0, _type.isDefined)(initialOption) && this.$element().css(optionName, \"\")\r\n        }\r\n    },\r\n    _getAnonymousTemplateName: function() {\r\n        return\r\n    },\r\n    _initTemplateManager: function() {\r\n        if (this._templateManager || !this._useTemplates()) {\r\n            return\r\n        }\r\n        var _this$option4 = this.option(),\r\n            _this$option4$integra = _this$option4.integrationOptions,\r\n            integrationOptions = void 0 === _this$option4$integra ? {} : _this$option4$integra;\r\n        var createTemplate = integrationOptions.createTemplate;\r\n        this._templateManager = new _template_manager.TemplateManager(createTemplate, this._getAnonymousTemplateName());\r\n        this._initTemplates()\r\n    },\r\n    _initTemplates: function() {\r\n        var _this4 = this;\r\n        var _this$_templateManage = this._templateManager.extractTemplates(this.$element()),\r\n            templates = _this$_templateManage.templates,\r\n            anonymousTemplateMeta = _this$_templateManage.anonymousTemplateMeta;\r\n        var anonymousTemplate = this.option(\"integrationOptions.templates.\".concat(anonymousTemplateMeta.name));\r\n        templates.forEach(function(_ref4) {\r\n            var name = _ref4.name,\r\n                template = _ref4.template;\r\n            _this4._options.silent(\"integrationOptions.templates.\".concat(name), template)\r\n        });\r\n        if (anonymousTemplateMeta.name && !anonymousTemplate) {\r\n            this._options.silent(\"integrationOptions.templates.\".concat(anonymousTemplateMeta.name), anonymousTemplateMeta.template);\r\n            this._options.silent(\"_hasAnonymousTemplateContent\", true)\r\n        }\r\n    },\r\n    _getTemplateByOption: function(optionName) {\r\n        return this._getTemplate(this.option(optionName))\r\n    },\r\n    _getTemplate: function(templateSource) {\r\n        var templates = this.option(\"integrationOptions.templates\");\r\n        var isAsyncTemplate = this.option(\"templatesRenderAsynchronously\");\r\n        var skipTemplates = this.option(\"integrationOptions.skipTemplates\");\r\n        return this._templateManager.getTemplate(templateSource, templates, {\r\n            isAsyncTemplate: isAsyncTemplate,\r\n            skipTemplates: skipTemplates\r\n        }, this)\r\n    },\r\n    _saveTemplate: function(name, template) {\r\n        this._setOptionWithoutOptionChange(\"integrationOptions.templates.\" + name, this._templateManager._createTemplate(template))\r\n    },\r\n    _useTemplates: function() {\r\n        return true\r\n    }\r\n});\r\nDOMComponent.getInstance = function(element) {\r\n    return (0, _public_component.getInstanceByElement)((0, _renderer.default)(element), this)\r\n};\r\nDOMComponent.defaultOptions = function(rule) {\r\n    this._classCustomRules = this._classCustomRules || [];\r\n    this._classCustomRules.push(rule)\r\n};\r\nvar _default = DOMComponent;\r\nexports.default = _default;\r\nmodule.exports = exports.default;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}