{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/loading_indicator.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.plugin = exports.LoadingIndicator = void 0;\n\nvar _utils = require(\"./utils\");\n\nvar STATE_HIDDEN = 0;\nvar STATE_SHOWN = 1;\nvar ANIMATION_EASING = \"linear\";\nvar ANIMATION_DURATION = 400;\nvar LOADING_INDICATOR_READY = \"loadingIndicatorReady\";\n\nvar LoadingIndicator = function LoadingIndicator(parameters) {\n  var that = this;\n  var renderer = parameters.renderer;\n  that._group = renderer.g().attr({\n    \"class\": \"dx-loading-indicator\"\n  }).linkOn(renderer.root, {\n    name: \"loading-indicator\",\n    after: \"peripheral\"\n  });\n  that._rect = renderer.rect().attr({\n    opacity: 0\n  }).append(that._group);\n  that._text = renderer.text().attr({\n    align: \"center\"\n  }).append(that._group);\n\n  that._createStates(parameters.eventTrigger, that._group, renderer.root, parameters.notify);\n};\n\nexports.LoadingIndicator = LoadingIndicator;\nLoadingIndicator.prototype = {\n  constructor: LoadingIndicator,\n  _createStates: function _createStates(eventTrigger, group, root, notify) {\n    var that = this;\n    that._states = [{\n      opacity: 0,\n      start: function start() {\n        notify(false);\n      },\n      complete: function complete() {\n        group.linkRemove();\n        root.css({\n          \"pointer-events\": \"\"\n        });\n        eventTrigger(LOADING_INDICATOR_READY);\n      }\n    }, {\n      opacity: .85,\n      start: function start() {\n        group.linkAppend();\n        root.css({\n          \"pointer-events\": \"none\"\n        });\n        notify(true);\n      },\n      complete: function complete() {\n        eventTrigger(LOADING_INDICATOR_READY);\n      }\n    }];\n    that._state = STATE_HIDDEN;\n  },\n  setSize: function setSize(size) {\n    var width = size.width;\n    var height = size.height;\n\n    this._rect.attr({\n      width: width,\n      height: height\n    });\n\n    this._text.attr({\n      x: width / 2,\n      y: height / 2\n    });\n  },\n  setOptions: function setOptions(options) {\n    this._rect.attr({\n      fill: options.backgroundColor\n    });\n\n    this._text.css((0, _utils.patchFontOptions)(options.font)).attr({\n      text: options.text,\n      \"class\": options.cssClass\n    });\n\n    this[options.show ? \"show\" : \"hide\"]();\n  },\n  dispose: function dispose() {\n    var that = this;\n\n    that._group.linkRemove().linkOff();\n\n    that._group = that._rect = that._text = that._states = null;\n  },\n  _transit: function _transit(stateId) {\n    var that = this;\n    var state;\n\n    if (that._state !== stateId) {\n      that._state = stateId;\n      that._isHiding = false;\n      state = that._states[stateId];\n\n      that._rect.stopAnimation().animate({\n        opacity: state.opacity\n      }, {\n        complete: state.complete,\n        easing: ANIMATION_EASING,\n        duration: ANIMATION_DURATION,\n        unstoppable: true\n      });\n\n      that._noHiding = true;\n      state.start();\n      that._noHiding = false;\n    }\n  },\n  show: function show() {\n    this._transit(STATE_SHOWN);\n  },\n  hide: function hide() {\n    this._transit(STATE_HIDDEN);\n  },\n  scheduleHiding: function scheduleHiding() {\n    if (!this._noHiding) {\n      this._isHiding = true;\n    }\n  },\n  fulfillHiding: function fulfillHiding() {\n    if (this._isHiding) {\n      this.hide();\n    }\n  }\n};\nvar plugin = {\n  name: \"loading_indicator\",\n  init: function init() {\n    var that = this;\n    that._loadingIndicator = new LoadingIndicator({\n      eventTrigger: that._eventTrigger,\n      renderer: that._renderer,\n      notify: notify\n    });\n\n    that._scheduleLoadingIndicatorHiding();\n\n    function notify(state) {\n      that._skipLoadingIndicatorOptions = true;\n      that.option(\"loadingIndicator\", {\n        show: state\n      });\n      that._skipLoadingIndicatorOptions = false;\n\n      if (state) {\n        that._stopCurrentHandling();\n      }\n    }\n  },\n  dispose: function dispose() {\n    this._loadingIndicator.dispose();\n\n    this._loadingIndicator = null;\n  },\n  members: {\n    _scheduleLoadingIndicatorHiding: function _scheduleLoadingIndicatorHiding() {\n      this._loadingIndicator.scheduleHiding();\n    },\n    _fulfillLoadingIndicatorHiding: function _fulfillLoadingIndicatorHiding() {\n      this._loadingIndicator.fulfillHiding();\n    },\n    showLoadingIndicator: function showLoadingIndicator() {\n      this._loadingIndicator.show();\n    },\n    hideLoadingIndicator: function hideLoadingIndicator() {\n      this._loadingIndicator.hide();\n    },\n    _onBeginUpdate: function _onBeginUpdate() {\n      if (!this._optionChangedLocker) {\n        this._scheduleLoadingIndicatorHiding();\n      }\n    }\n  },\n  extenders: {\n    _dataSourceLoadingChangedHandler: function _dataSourceLoadingChangedHandler(isLoading) {\n      if (isLoading && (this._options.silent(\"loadingIndicator\") || {}).enabled) {\n        this._loadingIndicator.show();\n      }\n    },\n    _setContentSize: function _setContentSize() {\n      this._loadingIndicator.setSize(this._canvas);\n    },\n    endUpdate: function endUpdate() {\n      if (this._initialized && this._dataIsReady()) {\n        this._fulfillLoadingIndicatorHiding();\n      }\n    }\n  },\n  customize: function customize(constructor) {\n    var proto = constructor.prototype;\n\n    if (proto._dataSourceChangedHandler) {\n      var _dataSourceChangedHandler = proto._dataSourceChangedHandler;\n\n      proto._dataSourceChangedHandler = function () {\n        this._scheduleLoadingIndicatorHiding();\n\n        _dataSourceChangedHandler.apply(this, arguments);\n      };\n    }\n\n    constructor.addChange({\n      code: \"LOADING_INDICATOR\",\n      handler: function handler() {\n        if (!this._skipLoadingIndicatorOptions) {\n          this._loadingIndicator.setOptions(this._getOption(\"loadingIndicator\"));\n        }\n\n        this._scheduleLoadingIndicatorHiding();\n      },\n      isThemeDependent: true,\n      option: \"loadingIndicator\",\n      isOptionChange: true\n    });\n    proto._eventsMap.onLoadingIndicatorReady = {\n      name: \"loadingIndicatorReady\"\n    };\n    var _drawn = proto._drawn;\n\n    proto._drawn = function () {\n      _drawn.apply(this, arguments);\n\n      if (this._dataIsReady()) {\n        this._fulfillLoadingIndicatorHiding();\n      }\n    };\n  },\n  fontFields: [\"loadingIndicator.font\"]\n};\nexports.plugin = plugin;","map":{"version":3,"sources":["E:/Monday.com/quickstart-react/node_modules/devextreme/viz/core/loading_indicator.js"],"names":["exports","plugin","LoadingIndicator","_utils","require","STATE_HIDDEN","STATE_SHOWN","ANIMATION_EASING","ANIMATION_DURATION","LOADING_INDICATOR_READY","parameters","that","renderer","_group","g","attr","linkOn","root","name","after","_rect","rect","opacity","append","_text","text","align","_createStates","eventTrigger","notify","prototype","constructor","group","_states","start","complete","linkRemove","css","linkAppend","_state","setSize","size","width","height","x","y","setOptions","options","fill","backgroundColor","patchFontOptions","font","cssClass","show","dispose","linkOff","_transit","stateId","state","_isHiding","stopAnimation","animate","easing","duration","unstoppable","_noHiding","hide","scheduleHiding","fulfillHiding","init","_loadingIndicator","_eventTrigger","_renderer","_scheduleLoadingIndicatorHiding","_skipLoadingIndicatorOptions","option","_stopCurrentHandling","members","_fulfillLoadingIndicatorHiding","showLoadingIndicator","hideLoadingIndicator","_onBeginUpdate","_optionChangedLocker","extenders","_dataSourceLoadingChangedHandler","isLoading","_options","silent","enabled","_setContentSize","_canvas","endUpdate","_initialized","_dataIsReady","customize","proto","_dataSourceChangedHandler","apply","arguments","addChange","code","handler","_getOption","isThemeDependent","isOptionChange","_eventsMap","onLoadingIndicatorReady","_drawn","fontFields"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (viz/core/loading_indicator.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.plugin = exports.LoadingIndicator = void 0;\r\nvar _utils = require(\"./utils\");\r\nvar STATE_HIDDEN = 0;\r\nvar STATE_SHOWN = 1;\r\nvar ANIMATION_EASING = \"linear\";\r\nvar ANIMATION_DURATION = 400;\r\nvar LOADING_INDICATOR_READY = \"loadingIndicatorReady\";\r\nvar LoadingIndicator = function(parameters) {\r\n    var that = this;\r\n    var renderer = parameters.renderer;\r\n    that._group = renderer.g().attr({\r\n        \"class\": \"dx-loading-indicator\"\r\n    }).linkOn(renderer.root, {\r\n        name: \"loading-indicator\",\r\n        after: \"peripheral\"\r\n    });\r\n    that._rect = renderer.rect().attr({\r\n        opacity: 0\r\n    }).append(that._group);\r\n    that._text = renderer.text().attr({\r\n        align: \"center\"\r\n    }).append(that._group);\r\n    that._createStates(parameters.eventTrigger, that._group, renderer.root, parameters.notify)\r\n};\r\nexports.LoadingIndicator = LoadingIndicator;\r\nLoadingIndicator.prototype = {\r\n    constructor: LoadingIndicator,\r\n    _createStates: function(eventTrigger, group, root, notify) {\r\n        var that = this;\r\n        that._states = [{\r\n            opacity: 0,\r\n            start: function() {\r\n                notify(false)\r\n            },\r\n            complete: function() {\r\n                group.linkRemove();\r\n                root.css({\r\n                    \"pointer-events\": \"\"\r\n                });\r\n                eventTrigger(LOADING_INDICATOR_READY)\r\n            }\r\n        }, {\r\n            opacity: .85,\r\n            start: function() {\r\n                group.linkAppend();\r\n                root.css({\r\n                    \"pointer-events\": \"none\"\r\n                });\r\n                notify(true)\r\n            },\r\n            complete: function() {\r\n                eventTrigger(LOADING_INDICATOR_READY)\r\n            }\r\n        }];\r\n        that._state = STATE_HIDDEN\r\n    },\r\n    setSize: function(size) {\r\n        var width = size.width;\r\n        var height = size.height;\r\n        this._rect.attr({\r\n            width: width,\r\n            height: height\r\n        });\r\n        this._text.attr({\r\n            x: width / 2,\r\n            y: height / 2\r\n        })\r\n    },\r\n    setOptions: function(options) {\r\n        this._rect.attr({\r\n            fill: options.backgroundColor\r\n        });\r\n        this._text.css((0, _utils.patchFontOptions)(options.font)).attr({\r\n            text: options.text,\r\n            \"class\": options.cssClass\r\n        });\r\n        this[options.show ? \"show\" : \"hide\"]()\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        that._group.linkRemove().linkOff();\r\n        that._group = that._rect = that._text = that._states = null\r\n    },\r\n    _transit: function(stateId) {\r\n        var that = this;\r\n        var state;\r\n        if (that._state !== stateId) {\r\n            that._state = stateId;\r\n            that._isHiding = false;\r\n            state = that._states[stateId];\r\n            that._rect.stopAnimation().animate({\r\n                opacity: state.opacity\r\n            }, {\r\n                complete: state.complete,\r\n                easing: ANIMATION_EASING,\r\n                duration: ANIMATION_DURATION,\r\n                unstoppable: true\r\n            });\r\n            that._noHiding = true;\r\n            state.start();\r\n            that._noHiding = false\r\n        }\r\n    },\r\n    show: function() {\r\n        this._transit(STATE_SHOWN)\r\n    },\r\n    hide: function() {\r\n        this._transit(STATE_HIDDEN)\r\n    },\r\n    scheduleHiding: function() {\r\n        if (!this._noHiding) {\r\n            this._isHiding = true\r\n        }\r\n    },\r\n    fulfillHiding: function() {\r\n        if (this._isHiding) {\r\n            this.hide()\r\n        }\r\n    }\r\n};\r\nvar plugin = {\r\n    name: \"loading_indicator\",\r\n    init: function() {\r\n        var that = this;\r\n        that._loadingIndicator = new LoadingIndicator({\r\n            eventTrigger: that._eventTrigger,\r\n            renderer: that._renderer,\r\n            notify: notify\r\n        });\r\n        that._scheduleLoadingIndicatorHiding();\r\n\r\n        function notify(state) {\r\n            that._skipLoadingIndicatorOptions = true;\r\n            that.option(\"loadingIndicator\", {\r\n                show: state\r\n            });\r\n            that._skipLoadingIndicatorOptions = false;\r\n            if (state) {\r\n                that._stopCurrentHandling()\r\n            }\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._loadingIndicator.dispose();\r\n        this._loadingIndicator = null\r\n    },\r\n    members: {\r\n        _scheduleLoadingIndicatorHiding: function() {\r\n            this._loadingIndicator.scheduleHiding()\r\n        },\r\n        _fulfillLoadingIndicatorHiding: function() {\r\n            this._loadingIndicator.fulfillHiding()\r\n        },\r\n        showLoadingIndicator: function() {\r\n            this._loadingIndicator.show()\r\n        },\r\n        hideLoadingIndicator: function() {\r\n            this._loadingIndicator.hide()\r\n        },\r\n        _onBeginUpdate: function() {\r\n            if (!this._optionChangedLocker) {\r\n                this._scheduleLoadingIndicatorHiding()\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        _dataSourceLoadingChangedHandler: function(isLoading) {\r\n            if (isLoading && (this._options.silent(\"loadingIndicator\") || {}).enabled) {\r\n                this._loadingIndicator.show()\r\n            }\r\n        },\r\n        _setContentSize: function() {\r\n            this._loadingIndicator.setSize(this._canvas)\r\n        },\r\n        endUpdate: function() {\r\n            if (this._initialized && this._dataIsReady()) {\r\n                this._fulfillLoadingIndicatorHiding()\r\n            }\r\n        }\r\n    },\r\n    customize: function(constructor) {\r\n        var proto = constructor.prototype;\r\n        if (proto._dataSourceChangedHandler) {\r\n            var _dataSourceChangedHandler = proto._dataSourceChangedHandler;\r\n            proto._dataSourceChangedHandler = function() {\r\n                this._scheduleLoadingIndicatorHiding();\r\n                _dataSourceChangedHandler.apply(this, arguments)\r\n            }\r\n        }\r\n        constructor.addChange({\r\n            code: \"LOADING_INDICATOR\",\r\n            handler: function() {\r\n                if (!this._skipLoadingIndicatorOptions) {\r\n                    this._loadingIndicator.setOptions(this._getOption(\"loadingIndicator\"))\r\n                }\r\n                this._scheduleLoadingIndicatorHiding()\r\n            },\r\n            isThemeDependent: true,\r\n            option: \"loadingIndicator\",\r\n            isOptionChange: true\r\n        });\r\n        proto._eventsMap.onLoadingIndicatorReady = {\r\n            name: \"loadingIndicatorReady\"\r\n        };\r\n        var _drawn = proto._drawn;\r\n        proto._drawn = function() {\r\n            _drawn.apply(this, arguments);\r\n            if (this._dataIsReady()) {\r\n                this._fulfillLoadingIndicatorHiding()\r\n            }\r\n        }\r\n    },\r\n    fontFields: [\"loadingIndicator.font\"]\r\n};\r\nexports.plugin = plugin;\r\n"]},"metadata":{},"sourceType":"script"}