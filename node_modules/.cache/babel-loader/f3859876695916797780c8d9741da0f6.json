{"ast":null,"code":"/**\r\n * DevExtreme (viz/chart_components/tracker.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nexports.PieTracker = exports.ChartTracker = void 0;\n\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\n\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\n\nvar _click = require(\"../../events/click\");\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _consts = _interopRequireDefault(require(\"../components/consts\"));\n\nvar _utils = require(\"../core/utils\");\n\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\n\nvar _index = require(\"../../events/utils/index\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _common = require(\"../../core/utils/common\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar _floor = Math.floor;\nvar eventsConsts = _consts.default.events;\nvar statesConsts = _consts.default.states;\nvar HOVER_STATE = statesConsts.hoverMark;\nvar NORMAL_STATE = statesConsts.normalMark;\nvar EVENT_NS = \"dxChartTracker\";\nvar DOT_EVENT_NS = \".\" + EVENT_NS;\nvar POINTER_ACTION = (0, _index.addNamespace)([_pointer.default.down, _pointer.default.move], EVENT_NS);\nvar LEGEND_CLICK = \"legendClick\";\nvar SERIES_CLICK = \"seriesClick\";\nvar POINT_CLICK = \"pointClick\";\nvar POINT_DATA = \"chart-data-point\";\nvar SERIES_DATA = \"chart-data-series\";\nvar ARG_DATA = \"chart-data-argument\";\nvar DELAY = 100;\nvar HOLD_TIMEOUT = 300;\nvar NONE_MODE = \"none\";\nvar ALL_ARGUMENT_POINTS_MODE = \"allargumentpoints\";\nvar INCLUDE_POINTS_MODE = \"includepoints\";\nvar EXLUDE_POINTS_MODE = \"excludepoints\";\nvar LEGEND_HOVER_MODES = [INCLUDE_POINTS_MODE, EXLUDE_POINTS_MODE, NONE_MODE];\n\nfunction getData(event, dataKey, tryCheckParent) {\n  var target = event.target;\n\n  if (\"tspan\" === target.tagName) {\n    return target.parentNode[dataKey];\n  }\n\n  var data = target[dataKey];\n\n  if (tryCheckParent && !(0, _type.isDefined)(data)) {\n    var getParentData = function getParentData(node) {\n      if (node.parentNode) {\n        if ((0, _type.isDefined)(node.parentNode[dataKey])) {\n          return node.parentNode[dataKey];\n        } else {\n          return getParentData(node.parentNode);\n        }\n      }\n\n      return;\n    };\n\n    return getParentData(target);\n  }\n\n  return data;\n}\n\nfunction eventCanceled(event, target) {\n  return event.cancel || !target.getOptions();\n}\n\nfunction correctLegendHoverMode(mode) {\n  if (LEGEND_HOVER_MODES.indexOf(mode) > -1) {\n    return mode;\n  } else {\n    return INCLUDE_POINTS_MODE;\n  }\n}\n\nfunction correctHoverMode(target) {\n  var mode = target.getOptions().hoverMode;\n  return mode === NONE_MODE ? mode : ALL_ARGUMENT_POINTS_MODE;\n}\n\nvar baseTrackerPrototype = {\n  ctor: function ctor(options) {\n    var that = this;\n    var data = {\n      tracker: that\n    };\n    that._renderer = options.renderer;\n    that._legend = options.legend;\n    that._tooltip = options.tooltip;\n    that._eventTrigger = options.eventTrigger;\n    that._seriesGroup = options.seriesGroup;\n    options.seriesGroup.off(DOT_EVENT_NS).on((0, _index.addNamespace)(eventsConsts.showPointTooltip, EVENT_NS), data, that._showPointTooltip).on((0, _index.addNamespace)(eventsConsts.hidePointTooltip, EVENT_NS), data, that._hidePointTooltip);\n\n    that._renderer.root.off(DOT_EVENT_NS).on(POINTER_ACTION, data, that._pointerHandler).on((0, _index.addNamespace)(_pointer.default.up, EVENT_NS), function () {\n      return clearTimeout(that._holdTimer);\n    }).on((0, _index.addNamespace)(_click.name, EVENT_NS), data, that._clickHandler);\n  },\n  update: function update(options) {\n    this._chart = options.chart;\n  },\n  updateSeries: function updateSeries(series, resetDecorations) {\n    var that = this;\n    var noHoveredSeries = !((null === series || void 0 === series ? void 0 : series.some(function (s) {\n      return s === that.hoveredSeries;\n    })) || that._hoveredPoint && that._hoveredPoint.series);\n\n    if (that._storedSeries !== series) {\n      that._storedSeries = series || [];\n    }\n\n    if (noHoveredSeries) {\n      that._clean();\n\n      that._renderer.initHatching();\n    }\n\n    if (resetDecorations) {\n      that.clearSelection();\n\n      if (!noHoveredSeries) {\n        that._hideTooltip(that.pointAtShownTooltip);\n\n        that.clearHover();\n      }\n    }\n  },\n  setCanvases: function setCanvases(mainCanvas, paneCanvases) {\n    this._mainCanvas = mainCanvas;\n    this._canvases = paneCanvases;\n  },\n  repairTooltip: function repairTooltip() {\n    var point = this.pointAtShownTooltip;\n\n    if (!point || !point.series || !point.isVisible()) {\n      this._hideTooltip(point, true);\n    } else {\n      this._showTooltip(point);\n    }\n  },\n  _setHoveredPoint: function _setHoveredPoint(point) {\n    if (point === this._hoveredPoint) {\n      return;\n    }\n\n    this._releaseHoveredPoint();\n\n    point.hover();\n    this._hoveredPoint = point;\n  },\n  _releaseHoveredPoint: function _releaseHoveredPoint() {\n    if (this._hoveredPoint && this._hoveredPoint.getOptions()) {\n      this._hoveredPoint.clearHover();\n\n      this._hoveredPoint = null;\n\n      if (this._tooltip.isEnabled()) {\n        this._hideTooltip(this._hoveredPoint);\n      }\n    }\n  },\n  _setHoveredSeries: function _setHoveredSeries(series, mode) {\n    this._releaseHoveredSeries();\n\n    this._releaseHoveredPoint();\n\n    series.hover(mode);\n    this.hoveredSeries = series;\n  },\n  _releaseHoveredSeries: function _releaseHoveredSeries() {\n    if (this.hoveredSeries) {\n      this.hoveredSeries.clearHover();\n      this.hoveredSeries = null;\n    }\n  },\n  clearSelection: function clearSelection() {\n    this._storedSeries.forEach(function (series) {\n      if (series) {\n        series.clearSelection();\n        series.getPoints().forEach(function (point) {\n          return point.clearSelection();\n        });\n      }\n    });\n  },\n  _clean: function _clean() {\n    var that = this;\n    that.hoveredPoint = that.hoveredSeries = that._hoveredArgumentPoints = null;\n\n    that._hideTooltip(that.pointAtShownTooltip);\n  },\n  clearHover: function clearHover() {\n    this._resetHoveredArgument();\n\n    this._releaseHoveredSeries();\n\n    this._releaseHoveredPoint();\n  },\n  _hideTooltip: function _hideTooltip(point, silent) {\n    var that = this;\n\n    if (!that._tooltip || point && that.pointAtShownTooltip !== point) {\n      return;\n    }\n\n    if (!silent && that.pointAtShownTooltip) {\n      that.pointAtShownTooltip = null;\n    }\n\n    that._tooltip.hide();\n  },\n  _showTooltip: function _showTooltip(point) {\n    var that = this;\n    var tooltipFormatObject;\n    var eventData = {\n      target: point\n    };\n\n    if (null === point || void 0 === point ? void 0 : point.getOptions()) {\n      tooltipFormatObject = point.getTooltipFormatObject(that._tooltip, that._tooltip.isShared() && that._chart.getStackedPoints(point));\n\n      if (!(0, _type.isDefined)(tooltipFormatObject.valueText) && !tooltipFormatObject.points || !point.isVisible()) {\n        return;\n      }\n\n      var coords = point.getTooltipParams(that._tooltip.getLocation());\n\n      var rootOffset = that._renderer.getRootOffset();\n\n      coords.x += rootOffset.left;\n      coords.y += rootOffset.top;\n\n      if (!that._tooltip.show(tooltipFormatObject, coords, eventData)) {\n        return;\n      }\n\n      that.pointAtShownTooltip = point;\n    }\n  },\n  _showPointTooltip: function _showPointTooltip(event, point) {\n    var that = event.data.tracker;\n    var pointWithTooltip = that.pointAtShownTooltip;\n\n    if (pointWithTooltip && pointWithTooltip !== point) {\n      that._hideTooltip(pointWithTooltip);\n    }\n\n    that._showTooltip(point);\n  },\n  _hidePointTooltip: function _hidePointTooltip(event, point) {\n    event.data.tracker._hideTooltip(point);\n  },\n  _enableOutHandler: function _enableOutHandler() {\n    if (this._outHandler) {\n      return;\n    }\n\n    var that = this;\n\n    var handler = function handler(e) {\n      var rootOffset = that._renderer.getRootOffset();\n\n      var x = _floor(e.pageX - rootOffset.left);\n\n      var y = _floor(e.pageY - rootOffset.top);\n\n      if (!(0, _utils.pointInCanvas)(that._mainCanvas, x, y)) {\n        that._pointerOut();\n\n        that._disableOutHandler();\n      }\n    };\n\n    _events_engine.default.on(_dom_adapter.default.getDocument(), POINTER_ACTION, handler);\n\n    this._outHandler = handler;\n  },\n  _disableOutHandler: function _disableOutHandler() {\n    this._outHandler && _events_engine.default.off(_dom_adapter.default.getDocument(), POINTER_ACTION, this._outHandler);\n    this._outHandler = null;\n  },\n  stopCurrentHandling: function stopCurrentHandling() {\n    this._pointerOut(true);\n  },\n  _pointerOut: function _pointerOut(force) {\n    this.clearHover();\n    (force || this._tooltip.isEnabled()) && this._hideTooltip(this.pointAtShownTooltip);\n  },\n  _triggerLegendClick: function _triggerLegendClick(eventArgs, elementClick) {\n    var eventTrigger = this._eventTrigger;\n    eventTrigger(LEGEND_CLICK, eventArgs, function () {\n      !eventCanceled(eventArgs.event, eventArgs.target) && eventTrigger(elementClick, eventArgs);\n    });\n  },\n  _hoverLegendItem: function _hoverLegendItem(x, y) {\n    var that = this;\n\n    var item = that._legend.getItemByCoord(x, y);\n\n    var series;\n    var legendHoverMode = correctLegendHoverMode(that._legend.getOptions().hoverMode);\n\n    if (item) {\n      series = that._storedSeries[item.id];\n\n      if (!series.isHovered() || series.lastHoverMode !== legendHoverMode) {\n        that._setHoveredSeries(series, legendHoverMode);\n      }\n\n      that._tooltip.isEnabled() && that._hideTooltip(that.pointAtShownTooltip);\n    } else {\n      that.clearHover();\n    }\n  },\n  _hoverArgument: function _hoverArgument(argument, argumentIndex) {\n    var that = this;\n\n    var hoverMode = that._getArgumentHoverMode();\n\n    if ((0, _type.isDefined)(argument)) {\n      that._releaseHoveredPoint();\n\n      that._hoveredArgument = argument;\n      that._argumentIndex = argumentIndex;\n\n      that._notifySeries({\n        action: \"pointHover\",\n        notifyLegend: that._notifyLegendOnHoverArgument,\n        target: {\n          argument: argument,\n          fullState: HOVER_STATE,\n          argumentIndex: argumentIndex,\n          getOptions: function getOptions() {\n            return {\n              hoverMode: hoverMode\n            };\n          }\n        }\n      });\n    }\n  },\n  _resetHoveredArgument: function _resetHoveredArgument() {\n    var that = this;\n    var hoverMode;\n\n    if ((0, _type.isDefined)(that._hoveredArgument)) {\n      hoverMode = that._getArgumentHoverMode();\n\n      that._notifySeries({\n        action: \"clearPointHover\",\n        notifyLegend: that._notifyLegendOnHoverArgument,\n        target: {\n          fullState: NORMAL_STATE,\n          argumentIndex: that._argumentIndex,\n          argument: that._hoveredArgument,\n          getOptions: function getOptions() {\n            return {\n              hoverMode: hoverMode\n            };\n          }\n        }\n      });\n\n      that._hoveredArgument = null;\n    }\n  },\n  _notifySeries: function _notifySeries(data) {\n    this._storedSeries.forEach(function (series) {\n      series.notify(data);\n    });\n  },\n  _pointerHandler: function _pointerHandler(e) {\n    var _series;\n\n    var that = e.data.tracker;\n\n    var rootOffset = that._renderer.getRootOffset();\n\n    var x = _floor(e.pageX - rootOffset.left);\n\n    var y = _floor(e.pageY - rootOffset.top);\n\n    var canvas = that._getCanvas(x, y);\n\n    var series = getData(e, SERIES_DATA);\n    var point = getData(e, POINT_DATA) || (null === (_series = series) || void 0 === _series ? void 0 : _series.getPointByCoord(x, y));\n    that._isHolding = false;\n    clearTimeout(that._holdTimer);\n\n    if (e.type === _pointer.default.down) {\n      that._holdTimer = setTimeout(function () {\n        return that._isHolding = true;\n      }, HOLD_TIMEOUT);\n    }\n\n    if (point && !point.getMarkerVisibility()) {\n      point = void 0;\n    }\n\n    that._enableOutHandler();\n\n    if (that._legend.coordsIn(x, y)) {\n      that._hoverLegendItem(x, y);\n\n      return;\n    }\n\n    if (that.hoveredSeries && that.hoveredSeries !== that._stuckSeries) {\n      that._releaseHoveredSeries();\n    }\n\n    if (that._hoverArgumentAxis(x, y, e)) {\n      return;\n    }\n\n    if (that._isPointerOut(canvas, point)) {\n      that._pointerOut();\n    }\n\n    if (!canvas && !point) {\n      return;\n    }\n\n    if (series && !point) {\n      point = series.getNeighborPoint(x, y);\n\n      if (!that._stickyHovering && point && !point.coordsIn(x, y)) {\n        point = null;\n      }\n\n      if (series !== that.hoveredSeries) {\n        that._setTimeout(function () {\n          that._setHoveredSeries(series);\n\n          that._setStuckSeries(e, series, x, y);\n\n          that._pointerComplete(point, x, y);\n        }, series);\n\n        return;\n      }\n    } else {\n      if (point) {\n        if (e.type !== _pointer.default.move && \"touch\" !== e.pointerType) {\n          return;\n        }\n\n        if (that.hoveredSeries) {\n          that._setTimeout(function () {\n            return that._pointerOnPoint(point, x, y, e);\n          }, point);\n        } else {\n          that._pointerOnPoint(point, x, y, e);\n        }\n\n        return;\n      } else {\n        if (that._setStuckSeries(e, void 0, x, y) && that._stickyHovering) {\n          var _point;\n\n          series = that._stuckSeries;\n          point = series.getNeighborPoint(x, y);\n\n          that._releaseHoveredSeries();\n\n          (null === (_point = point) || void 0 === _point ? void 0 : _point.getMarkerVisibility()) && that._setHoveredPoint(point);\n        } else {\n          if (!that._stickyHovering) {\n            that._pointerOut();\n          }\n        }\n      }\n    }\n\n    that._pointerComplete(point, x, y);\n  },\n  _pointerOnPoint: function _pointerOnPoint(point, x, y) {\n    this._resetHoveredArgument();\n\n    this._setHoveredPoint(point);\n\n    this._pointerComplete(point, x, y);\n  },\n  _pointerComplete: function _pointerComplete(point) {\n    this.pointAtShownTooltip !== point && this._tooltip.isEnabled() && this._showTooltip(point);\n  },\n  _clickHandler: function _clickHandler(e) {\n    var _point2;\n\n    var that = e.data.tracker;\n\n    if (that._isHolding) {\n      return;\n    }\n\n    var rootOffset = that._renderer.getRootOffset();\n\n    var x = _floor(e.pageX - rootOffset.left);\n\n    var y = _floor(e.pageY - rootOffset.top);\n\n    var point = getData(e, POINT_DATA);\n    var series = that._stuckSeries || getData(e, SERIES_DATA) || (null === (_point2 = point) || void 0 === _point2 ? void 0 : _point2.series);\n    var axis = that._argumentAxis;\n\n    if (that._legend.coordsIn(x, y)) {\n      var item = that._legend.getItemByCoord(x, y);\n\n      if (item) {\n        that._legendClick(item, e);\n      }\n    } else {\n      if (null === axis || void 0 === axis ? void 0 : axis.coordsIn(x, y)) {\n        var argument = getData(e, ARG_DATA, true);\n\n        if ((0, _type.isDefined)(argument)) {\n          that._eventTrigger(\"argumentAxisClick\", {\n            argument: argument,\n            event: e\n          });\n        }\n      } else {\n        if (series) {\n          var _point3;\n\n          point = point || series.getPointByCoord(x, y);\n\n          if (null === (_point3 = point) || void 0 === _point3 ? void 0 : _point3.getMarkerVisibility()) {\n            that._pointClick(point, e);\n          } else {\n            getData(e, SERIES_DATA) && that._eventTrigger(SERIES_CLICK, {\n              target: series,\n              event: e\n            });\n          }\n        }\n      }\n    }\n  },\n  dispose: function dispose() {\n    var that = this;\n\n    that._disableOutHandler();\n\n    that._renderer.root.off(DOT_EVENT_NS);\n\n    that._seriesGroup.off(DOT_EVENT_NS);\n  }\n};\n\nvar ChartTracker = function ChartTracker(options) {\n  this.ctor(options);\n};\n\nexports.ChartTracker = ChartTracker;\n(0, _extend.extend)(ChartTracker.prototype, baseTrackerPrototype, {\n  _pointClick: function _pointClick(point, event) {\n    var that = this;\n    var eventTrigger = that._eventTrigger;\n    var series = point.series;\n    eventTrigger(POINT_CLICK, {\n      target: point,\n      event: event\n    }, function () {\n      !eventCanceled(event, series) && eventTrigger(SERIES_CLICK, {\n        target: series,\n        event: event\n      });\n    });\n  },\n  update: function update(options) {\n    var that = this;\n    baseTrackerPrototype.update.call(this, options);\n    that._argumentAxis = options.argumentAxis || {};\n    that._axisHoverEnabled = that._argumentAxis && (0, _utils.normalizeEnum)(that._argumentAxis.getOptions().hoverMode) === ALL_ARGUMENT_POINTS_MODE;\n    that._rotated = options.rotated;\n    that._crosshair = options.crosshair;\n    that._stickyHovering = options.stickyHovering;\n  },\n  _getCanvas: function _getCanvas(x, y) {\n    var that = this;\n    var canvases = that._canvases || [];\n\n    for (var i = 0; i < canvases.length; i++) {\n      var c = canvases[i];\n\n      if ((0, _utils.pointInCanvas)(c, x, y)) {\n        return c;\n      }\n    }\n\n    return null;\n  },\n  _isPointerOut: function _isPointerOut(canvas) {\n    return !canvas && this._stuckSeries;\n  },\n  _hideCrosshair: function _hideCrosshair() {\n    var _this$_crosshair;\n\n    null === (_this$_crosshair = this._crosshair) || void 0 === _this$_crosshair ? void 0 : _this$_crosshair.hide();\n  },\n  _moveCrosshair: function _moveCrosshair(point, x, y) {\n    if (this._crosshair && (null === point || void 0 === point ? void 0 : point.isVisible())) {\n      this._crosshair.show({\n        point: point,\n        x: x,\n        y: y\n      });\n    }\n  },\n  _clean: function _clean() {\n    var that = this;\n\n    baseTrackerPrototype._clean.call(that);\n\n    that._resetTimer();\n\n    that._stuckSeries = null;\n  },\n  _getSeriesForShared: function _getSeriesForShared(x, y) {\n    var _point4;\n\n    var that = this;\n    var points = [];\n    var point = null;\n    var distance = 1 / 0;\n\n    if (that._tooltip.isShared() && !that.hoveredSeries) {\n      (0, _iterator.each)(that._storedSeries, function (_, series) {\n        var point = series.getNeighborPoint(x, y);\n        point && points.push(point);\n      });\n      (0, _iterator.each)(points, function (_, p) {\n        var coords = p.getCrosshairData(x, y);\n        var d = (0, _utils.getDistance)(x, y, coords.x, coords.y);\n\n        if (d < distance) {\n          point = p;\n          distance = d;\n        }\n      });\n    }\n\n    return null === (_point4 = point) || void 0 === _point4 ? void 0 : _point4.series;\n  },\n  _setTimeout: function _setTimeout(callback, keeper) {\n    var that = this;\n\n    if (that._timeoutKeeper !== keeper) {\n      that._resetTimer();\n\n      that._hoverTimeout = setTimeout(function () {\n        callback();\n        that._timeoutKeeper = null;\n      }, DELAY);\n      that._timeoutKeeper = keeper;\n    }\n  },\n  _resetTimer: function _resetTimer() {\n    clearTimeout(this._hoverTimeout);\n    this._timeoutKeeper = this._hoverTimeout = null;\n  },\n  _stopEvent: function _stopEvent(e) {\n    if (!(0, _type.isDefined)(e.cancelable) || e.cancelable) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  },\n  _setStuckSeries: function _setStuckSeries(e, series, x, y) {\n    if (\"mouse\" !== e.pointerType) {\n      this._stuckSeries = null;\n    } else {\n      this._stuckSeries = series || this._stuckSeries || this._getSeriesForShared(x, y);\n    }\n\n    return !!this._stuckSeries;\n  },\n  _pointerOut: function _pointerOut() {\n    var that = this;\n    that._stuckSeries = null;\n\n    that._hideCrosshair();\n\n    that._resetTimer();\n\n    baseTrackerPrototype._pointerOut.apply(that, arguments);\n  },\n  _hoverArgumentAxis: function _hoverArgumentAxis(x, y, e) {\n    var that = this;\n\n    that._resetHoveredArgument();\n\n    if (that._axisHoverEnabled && that._argumentAxis.coordsIn(x, y)) {\n      that._hoverArgument(getData(e, ARG_DATA, true));\n\n      return true;\n    }\n  },\n  _pointerComplete: function _pointerComplete(point, x, y) {\n    var that = this;\n    that.hoveredSeries && that.hoveredSeries.updateHover(x, y);\n\n    that._resetTimer();\n\n    that._moveCrosshair(point, x, y);\n\n    baseTrackerPrototype._pointerComplete.call(that, point);\n  },\n  _legendClick: function _legendClick(item, e) {\n    var series = this._storedSeries[item.id];\n\n    this._triggerLegendClick({\n      target: series,\n      event: e\n    }, SERIES_CLICK);\n  },\n  _hoverLegendItem: function _hoverLegendItem(x, y) {\n    this._stuckSeries = null;\n\n    this._hideCrosshair();\n\n    baseTrackerPrototype._hoverLegendItem.call(this, x, y);\n  },\n  _pointerOnPoint: function _pointerOnPoint(point, x, y, e) {\n    this._setStuckSeries(e, point.series, x, y);\n\n    this._releaseHoveredSeries();\n\n    baseTrackerPrototype._pointerOnPoint.call(this, point, x, y, e);\n  },\n  _notifyLegendOnHoverArgument: false,\n  _getArgumentHoverMode: function _getArgumentHoverMode() {\n    return correctHoverMode(this._argumentAxis);\n  },\n  dispose: function dispose() {\n    this._resetTimer();\n\n    baseTrackerPrototype.dispose.call(this);\n  }\n});\n\nvar PieTracker = function PieTracker(options) {\n  this.ctor(options);\n};\n\nexports.PieTracker = PieTracker;\n(0, _extend.extend)(PieTracker.prototype, baseTrackerPrototype, {\n  _isPointerOut: function _isPointerOut(_, point) {\n    return !point;\n  },\n  _legendClick: function _legendClick(item, e) {\n    var that = this;\n    var points = [];\n\n    that._storedSeries.forEach(function (s) {\n      return points.push.apply(points, s.getPointsByKeys(item.argument, item.argumentIndex));\n    });\n\n    that._eventTrigger(LEGEND_CLICK, {\n      target: item.argument,\n      points: points,\n      event: e\n    });\n  },\n  _pointClick: function _pointClick(point, e) {\n    this._eventTrigger(POINT_CLICK, {\n      target: point,\n      event: e\n    });\n  },\n  _hoverLegendItem: function _hoverLegendItem(x, y) {\n    var that = this;\n\n    var item = that._legend.getItemByCoord(x, y);\n\n    if (item && that._hoveredArgument !== item.argument) {\n      that._resetHoveredArgument();\n\n      that._hoverArgument(item.argument, item.argumentIndex);\n    } else {\n      if (!item) {\n        that.clearHover();\n      }\n    }\n  },\n  _getArgumentHoverMode: function _getArgumentHoverMode() {\n    return correctHoverMode(this._legend);\n  },\n  _hoverArgumentAxis: _common.noop,\n  _setStuckSeries: _common.noop,\n  _getCanvas: _common.noop,\n  _notifyLegendOnHoverArgument: true\n});","map":{"version":3,"sources":["E:/Monday.com/quickstart-react/node_modules/devextreme/viz/chart_components/tracker.js"],"names":["exports","PieTracker","ChartTracker","_dom_adapter","_interopRequireDefault","require","_events_engine","_click","_extend","_iterator","_consts","_utils","_pointer","_index","_type","_common","obj","__esModule","_floor","Math","floor","eventsConsts","default","events","statesConsts","states","HOVER_STATE","hoverMark","NORMAL_STATE","normalMark","EVENT_NS","DOT_EVENT_NS","POINTER_ACTION","addNamespace","down","move","LEGEND_CLICK","SERIES_CLICK","POINT_CLICK","POINT_DATA","SERIES_DATA","ARG_DATA","DELAY","HOLD_TIMEOUT","NONE_MODE","ALL_ARGUMENT_POINTS_MODE","INCLUDE_POINTS_MODE","EXLUDE_POINTS_MODE","LEGEND_HOVER_MODES","getData","event","dataKey","tryCheckParent","target","tagName","parentNode","data","isDefined","getParentData","node","eventCanceled","cancel","getOptions","correctLegendHoverMode","mode","indexOf","correctHoverMode","hoverMode","baseTrackerPrototype","ctor","options","that","tracker","_renderer","renderer","_legend","legend","_tooltip","tooltip","_eventTrigger","eventTrigger","_seriesGroup","seriesGroup","off","on","showPointTooltip","_showPointTooltip","hidePointTooltip","_hidePointTooltip","root","_pointerHandler","up","clearTimeout","_holdTimer","name","_clickHandler","update","_chart","chart","updateSeries","series","resetDecorations","noHoveredSeries","some","s","hoveredSeries","_hoveredPoint","_storedSeries","_clean","initHatching","clearSelection","_hideTooltip","pointAtShownTooltip","clearHover","setCanvases","mainCanvas","paneCanvases","_mainCanvas","_canvases","repairTooltip","point","isVisible","_showTooltip","_setHoveredPoint","_releaseHoveredPoint","hover","isEnabled","_setHoveredSeries","_releaseHoveredSeries","forEach","getPoints","hoveredPoint","_hoveredArgumentPoints","_resetHoveredArgument","silent","hide","tooltipFormatObject","eventData","getTooltipFormatObject","isShared","getStackedPoints","valueText","points","coords","getTooltipParams","getLocation","rootOffset","getRootOffset","x","left","y","top","show","pointWithTooltip","_enableOutHandler","_outHandler","handler","e","pageX","pageY","pointInCanvas","_pointerOut","_disableOutHandler","getDocument","stopCurrentHandling","force","_triggerLegendClick","eventArgs","elementClick","_hoverLegendItem","item","getItemByCoord","legendHoverMode","id","isHovered","lastHoverMode","_hoverArgument","argument","argumentIndex","_getArgumentHoverMode","_hoveredArgument","_argumentIndex","_notifySeries","action","notifyLegend","_notifyLegendOnHoverArgument","fullState","notify","_series","canvas","_getCanvas","getPointByCoord","_isHolding","type","setTimeout","getMarkerVisibility","coordsIn","_stuckSeries","_hoverArgumentAxis","_isPointerOut","getNeighborPoint","_stickyHovering","_setTimeout","_setStuckSeries","_pointerComplete","pointerType","_pointerOnPoint","_point","_point2","axis","_argumentAxis","_legendClick","_point3","_pointClick","dispose","extend","prototype","call","argumentAxis","_axisHoverEnabled","normalizeEnum","_rotated","rotated","_crosshair","crosshair","stickyHovering","canvases","i","length","c","_hideCrosshair","_this$_crosshair","_moveCrosshair","_resetTimer","_getSeriesForShared","_point4","distance","each","_","push","p","getCrosshairData","d","getDistance","callback","keeper","_timeoutKeeper","_hoverTimeout","_stopEvent","cancelable","preventDefault","stopPropagation","apply","arguments","updateHover","getPointsByKeys","noop"],"mappings":"AAAA;;;;;;;;AAQA;;AACAA,OAAO,CAACC,UAAR,GAAqBD,OAAO,CAACE,YAAR,GAAuB,KAAK,CAAjD;;AACA,IAAIC,YAAY,GAAGC,sBAAsB,CAACC,OAAO,CAAC,wBAAD,CAAR,CAAzC;;AACA,IAAIC,cAAc,GAAGF,sBAAsB,CAACC,OAAO,CAAC,iCAAD,CAAR,CAA3C;;AACA,IAAIE,MAAM,GAAGF,OAAO,CAAC,oBAAD,CAApB;;AACA,IAAIG,OAAO,GAAGH,OAAO,CAAC,yBAAD,CAArB;;AACA,IAAII,SAAS,GAAGJ,OAAO,CAAC,2BAAD,CAAvB;;AACA,IAAIK,OAAO,GAAGN,sBAAsB,CAACC,OAAO,CAAC,sBAAD,CAAR,CAApC;;AACA,IAAIM,MAAM,GAAGN,OAAO,CAAC,eAAD,CAApB;;AACA,IAAIO,QAAQ,GAAGR,sBAAsB,CAACC,OAAO,CAAC,sBAAD,CAAR,CAArC;;AACA,IAAIQ,MAAM,GAAGR,OAAO,CAAC,0BAAD,CAApB;;AACA,IAAIS,KAAK,GAAGT,OAAO,CAAC,uBAAD,CAAnB;;AACA,IAAIU,OAAO,GAAGV,OAAO,CAAC,yBAAD,CAArB;;AAEA,SAASD,sBAAT,CAAgCY,GAAhC,EAAqC;AACjC,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AACD,IAAIE,MAAM,GAAGC,IAAI,CAACC,KAAlB;AACA,IAAIC,YAAY,GAAGX,OAAO,CAACY,OAAR,CAAgBC,MAAnC;AACA,IAAIC,YAAY,GAAGd,OAAO,CAACY,OAAR,CAAgBG,MAAnC;AACA,IAAIC,WAAW,GAAGF,YAAY,CAACG,SAA/B;AACA,IAAIC,YAAY,GAAGJ,YAAY,CAACK,UAAhC;AACA,IAAIC,QAAQ,GAAG,gBAAf;AACA,IAAIC,YAAY,GAAG,MAAMD,QAAzB;AACA,IAAIE,cAAc,GAAG,CAAC,GAAGnB,MAAM,CAACoB,YAAX,EAAyB,CAACrB,QAAQ,CAACU,OAAT,CAAiBY,IAAlB,EAAwBtB,QAAQ,CAACU,OAAT,CAAiBa,IAAzC,CAAzB,EAAyEL,QAAzE,CAArB;AACA,IAAIM,YAAY,GAAG,aAAnB;AACA,IAAIC,YAAY,GAAG,aAAnB;AACA,IAAIC,WAAW,GAAG,YAAlB;AACA,IAAIC,UAAU,GAAG,kBAAjB;AACA,IAAIC,WAAW,GAAG,mBAAlB;AACA,IAAIC,QAAQ,GAAG,qBAAf;AACA,IAAIC,KAAK,GAAG,GAAZ;AACA,IAAIC,YAAY,GAAG,GAAnB;AACA,IAAIC,SAAS,GAAG,MAAhB;AACA,IAAIC,wBAAwB,GAAG,mBAA/B;AACA,IAAIC,mBAAmB,GAAG,eAA1B;AACA,IAAIC,kBAAkB,GAAG,eAAzB;AACA,IAAIC,kBAAkB,GAAG,CAACF,mBAAD,EAAsBC,kBAAtB,EAA0CH,SAA1C,CAAzB;;AAEA,SAASK,OAAT,CAAiBC,KAAjB,EAAwBC,OAAxB,EAAiCC,cAAjC,EAAiD;AAC7C,MAAIC,MAAM,GAAGH,KAAK,CAACG,MAAnB;;AACA,MAAI,YAAYA,MAAM,CAACC,OAAvB,EAAgC;AAC5B,WAAOD,MAAM,CAACE,UAAP,CAAkBJ,OAAlB,CAAP;AACH;;AACD,MAAIK,IAAI,GAAGH,MAAM,CAACF,OAAD,CAAjB;;AACA,MAAIC,cAAc,IAAI,CAAC,CAAC,GAAGtC,KAAK,CAAC2C,SAAV,EAAqBD,IAArB,CAAvB,EAAmD;AAC/C,QAAIE,aAAa,GAAG,SAASA,aAAT,CAAuBC,IAAvB,EAA6B;AAC7C,UAAIA,IAAI,CAACJ,UAAT,EAAqB;AACjB,YAAI,CAAC,GAAGzC,KAAK,CAAC2C,SAAV,EAAqBE,IAAI,CAACJ,UAAL,CAAgBJ,OAAhB,CAArB,CAAJ,EAAoD;AAChD,iBAAOQ,IAAI,CAACJ,UAAL,CAAgBJ,OAAhB,CAAP;AACH,SAFD,MAEO;AACH,iBAAOO,aAAa,CAACC,IAAI,CAACJ,UAAN,CAApB;AACH;AACJ;;AACD;AACH,KATD;;AAUA,WAAOG,aAAa,CAACL,MAAD,CAApB;AACH;;AACD,SAAOG,IAAP;AACH;;AAED,SAASI,aAAT,CAAuBV,KAAvB,EAA8BG,MAA9B,EAAsC;AAClC,SAAOH,KAAK,CAACW,MAAN,IAAgB,CAACR,MAAM,CAACS,UAAP,EAAxB;AACH;;AAED,SAASC,sBAAT,CAAgCC,IAAhC,EAAsC;AAClC,MAAIhB,kBAAkB,CAACiB,OAAnB,CAA2BD,IAA3B,IAAmC,CAAC,CAAxC,EAA2C;AACvC,WAAOA,IAAP;AACH,GAFD,MAEO;AACH,WAAOlB,mBAAP;AACH;AACJ;;AAED,SAASoB,gBAAT,CAA0Bb,MAA1B,EAAkC;AAC9B,MAAIW,IAAI,GAAGX,MAAM,CAACS,UAAP,GAAoBK,SAA/B;AACA,SAAOH,IAAI,KAAKpB,SAAT,GAAqBoB,IAArB,GAA4BnB,wBAAnC;AACH;;AACD,IAAIuB,oBAAoB,GAAG;AACvBC,EAAAA,IAAI,EAAE,cAASC,OAAT,EAAkB;AACpB,QAAIC,IAAI,GAAG,IAAX;AACA,QAAIf,IAAI,GAAG;AACPgB,MAAAA,OAAO,EAAED;AADF,KAAX;AAGAA,IAAAA,IAAI,CAACE,SAAL,GAAiBH,OAAO,CAACI,QAAzB;AACAH,IAAAA,IAAI,CAACI,OAAL,GAAeL,OAAO,CAACM,MAAvB;AACAL,IAAAA,IAAI,CAACM,QAAL,GAAgBP,OAAO,CAACQ,OAAxB;AACAP,IAAAA,IAAI,CAACQ,aAAL,GAAqBT,OAAO,CAACU,YAA7B;AACAT,IAAAA,IAAI,CAACU,YAAL,GAAoBX,OAAO,CAACY,WAA5B;AACAZ,IAAAA,OAAO,CAACY,WAAR,CAAoBC,GAApB,CAAwBpD,YAAxB,EAAsCqD,EAAtC,CAAyC,CAAC,GAAGvE,MAAM,CAACoB,YAAX,EAAyBZ,YAAY,CAACgE,gBAAtC,EAAwDvD,QAAxD,CAAzC,EAA4G0B,IAA5G,EAAkHe,IAAI,CAACe,iBAAvH,EAA0IF,EAA1I,CAA6I,CAAC,GAAGvE,MAAM,CAACoB,YAAX,EAAyBZ,YAAY,CAACkE,gBAAtC,EAAwDzD,QAAxD,CAA7I,EAAgN0B,IAAhN,EAAsNe,IAAI,CAACiB,iBAA3N;;AACAjB,IAAAA,IAAI,CAACE,SAAL,CAAegB,IAAf,CAAoBN,GAApB,CAAwBpD,YAAxB,EAAsCqD,EAAtC,CAAyCpD,cAAzC,EAAyDwB,IAAzD,EAA+De,IAAI,CAACmB,eAApE,EAAqFN,EAArF,CAAwF,CAAC,GAAGvE,MAAM,CAACoB,YAAX,EAAyBrB,QAAQ,CAACU,OAAT,CAAiBqE,EAA1C,EAA8C7D,QAA9C,CAAxF,EAAiJ,YAAW;AACxJ,aAAO8D,YAAY,CAACrB,IAAI,CAACsB,UAAN,CAAnB;AACH,KAFD,EAEGT,EAFH,CAEM,CAAC,GAAGvE,MAAM,CAACoB,YAAX,EAAyB1B,MAAM,CAACuF,IAAhC,EAAsChE,QAAtC,CAFN,EAEuD0B,IAFvD,EAE6De,IAAI,CAACwB,aAFlE;AAGH,GAfsB;AAgBvBC,EAAAA,MAAM,EAAE,gBAAS1B,OAAT,EAAkB;AACtB,SAAK2B,MAAL,GAAc3B,OAAO,CAAC4B,KAAtB;AACH,GAlBsB;AAmBvBC,EAAAA,YAAY,EAAE,sBAASC,MAAT,EAAiBC,gBAAjB,EAAmC;AAC7C,QAAI9B,IAAI,GAAG,IAAX;AACA,QAAI+B,eAAe,GAAG,EAAE,CAAC,SAASF,MAAT,IAAmB,KAAK,CAAL,KAAWA,MAA9B,GAAuC,KAAK,CAA5C,GAAgDA,MAAM,CAACG,IAAP,CAAY,UAASC,CAAT,EAAY;AAC7F,aAAOA,CAAC,KAAKjC,IAAI,CAACkC,aAAlB;AACH,KAFwE,CAAjD,KAEjBlC,IAAI,CAACmC,aAAL,IAAsBnC,IAAI,CAACmC,aAAL,CAAmBN,MAF1B,CAAtB;;AAGA,QAAI7B,IAAI,CAACoC,aAAL,KAAuBP,MAA3B,EAAmC;AAC/B7B,MAAAA,IAAI,CAACoC,aAAL,GAAqBP,MAAM,IAAI,EAA/B;AACH;;AACD,QAAIE,eAAJ,EAAqB;AACjB/B,MAAAA,IAAI,CAACqC,MAAL;;AACArC,MAAAA,IAAI,CAACE,SAAL,CAAeoC,YAAf;AACH;;AACD,QAAIR,gBAAJ,EAAsB;AAClB9B,MAAAA,IAAI,CAACuC,cAAL;;AACA,UAAI,CAACR,eAAL,EAAsB;AAClB/B,QAAAA,IAAI,CAACwC,YAAL,CAAkBxC,IAAI,CAACyC,mBAAvB;;AACAzC,QAAAA,IAAI,CAAC0C,UAAL;AACH;AACJ;AACJ,GAtCsB;AAuCvBC,EAAAA,WAAW,EAAE,qBAASC,UAAT,EAAqBC,YAArB,EAAmC;AAC5C,SAAKC,WAAL,GAAmBF,UAAnB;AACA,SAAKG,SAAL,GAAiBF,YAAjB;AACH,GA1CsB;AA2CvBG,EAAAA,aAAa,EAAE,yBAAW;AACtB,QAAIC,KAAK,GAAG,KAAKR,mBAAjB;;AACA,QAAI,CAACQ,KAAD,IAAU,CAACA,KAAK,CAACpB,MAAjB,IAA2B,CAACoB,KAAK,CAACC,SAAN,EAAhC,EAAmD;AAC/C,WAAKV,YAAL,CAAkBS,KAAlB,EAAyB,IAAzB;AACH,KAFD,MAEO;AACH,WAAKE,YAAL,CAAkBF,KAAlB;AACH;AACJ,GAlDsB;AAmDvBG,EAAAA,gBAAgB,EAAE,0BAASH,KAAT,EAAgB;AAC9B,QAAIA,KAAK,KAAK,KAAKd,aAAnB,EAAkC;AAC9B;AACH;;AACD,SAAKkB,oBAAL;;AACAJ,IAAAA,KAAK,CAACK,KAAN;AACA,SAAKnB,aAAL,GAAqBc,KAArB;AACH,GA1DsB;AA2DvBI,EAAAA,oBAAoB,EAAE,gCAAW;AAC7B,QAAI,KAAKlB,aAAL,IAAsB,KAAKA,aAAL,CAAmB5C,UAAnB,EAA1B,EAA2D;AACvD,WAAK4C,aAAL,CAAmBO,UAAnB;;AACA,WAAKP,aAAL,GAAqB,IAArB;;AACA,UAAI,KAAK7B,QAAL,CAAciD,SAAd,EAAJ,EAA+B;AAC3B,aAAKf,YAAL,CAAkB,KAAKL,aAAvB;AACH;AACJ;AACJ,GAnEsB;AAoEvBqB,EAAAA,iBAAiB,EAAE,2BAAS3B,MAAT,EAAiBpC,IAAjB,EAAuB;AACtC,SAAKgE,qBAAL;;AACA,SAAKJ,oBAAL;;AACAxB,IAAAA,MAAM,CAACyB,KAAP,CAAa7D,IAAb;AACA,SAAKyC,aAAL,GAAqBL,MAArB;AACH,GAzEsB;AA0EvB4B,EAAAA,qBAAqB,EAAE,iCAAW;AAC9B,QAAI,KAAKvB,aAAT,EAAwB;AACpB,WAAKA,aAAL,CAAmBQ,UAAnB;AACA,WAAKR,aAAL,GAAqB,IAArB;AACH;AACJ,GA/EsB;AAgFvBK,EAAAA,cAAc,EAAE,0BAAW;AACvB,SAAKH,aAAL,CAAmBsB,OAAnB,CAA2B,UAAS7B,MAAT,EAAiB;AACxC,UAAIA,MAAJ,EAAY;AACRA,QAAAA,MAAM,CAACU,cAAP;AACAV,QAAAA,MAAM,CAAC8B,SAAP,GAAmBD,OAAnB,CAA2B,UAAST,KAAT,EAAgB;AACvC,iBAAOA,KAAK,CAACV,cAAN,EAAP;AACH,SAFD;AAGH;AACJ,KAPD;AAQH,GAzFsB;AA0FvBF,EAAAA,MAAM,EAAE,kBAAW;AACf,QAAIrC,IAAI,GAAG,IAAX;AACAA,IAAAA,IAAI,CAAC4D,YAAL,GAAoB5D,IAAI,CAACkC,aAAL,GAAqBlC,IAAI,CAAC6D,sBAAL,GAA8B,IAAvE;;AACA7D,IAAAA,IAAI,CAACwC,YAAL,CAAkBxC,IAAI,CAACyC,mBAAvB;AACH,GA9FsB;AA+FvBC,EAAAA,UAAU,EAAE,sBAAW;AACnB,SAAKoB,qBAAL;;AACA,SAAKL,qBAAL;;AACA,SAAKJ,oBAAL;AACH,GAnGsB;AAoGvBb,EAAAA,YAAY,EAAE,sBAASS,KAAT,EAAgBc,MAAhB,EAAwB;AAClC,QAAI/D,IAAI,GAAG,IAAX;;AACA,QAAI,CAACA,IAAI,CAACM,QAAN,IAAkB2C,KAAK,IAAIjD,IAAI,CAACyC,mBAAL,KAA6BQ,KAA5D,EAAmE;AAC/D;AACH;;AACD,QAAI,CAACc,MAAD,IAAW/D,IAAI,CAACyC,mBAApB,EAAyC;AACrCzC,MAAAA,IAAI,CAACyC,mBAAL,GAA2B,IAA3B;AACH;;AACDzC,IAAAA,IAAI,CAACM,QAAL,CAAc0D,IAAd;AACH,GA7GsB;AA8GvBb,EAAAA,YAAY,EAAE,sBAASF,KAAT,EAAgB;AAC1B,QAAIjD,IAAI,GAAG,IAAX;AACA,QAAIiE,mBAAJ;AACA,QAAIC,SAAS,GAAG;AACZpF,MAAAA,MAAM,EAAEmE;AADI,KAAhB;;AAGA,QAAI,SAASA,KAAT,IAAkB,KAAK,CAAL,KAAWA,KAA7B,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAAC1D,UAAN,EAAlD,EAAsE;AAClE0E,MAAAA,mBAAmB,GAAGhB,KAAK,CAACkB,sBAAN,CAA6BnE,IAAI,CAACM,QAAlC,EAA4CN,IAAI,CAACM,QAAL,CAAc8D,QAAd,MAA4BpE,IAAI,CAAC0B,MAAL,CAAY2C,gBAAZ,CAA6BpB,KAA7B,CAAxE,CAAtB;;AACA,UAAI,CAAC,CAAC,GAAG1G,KAAK,CAAC2C,SAAV,EAAqB+E,mBAAmB,CAACK,SAAzC,CAAD,IAAwD,CAACL,mBAAmB,CAACM,MAA7E,IAAuF,CAACtB,KAAK,CAACC,SAAN,EAA5F,EAA+G;AAC3G;AACH;;AACD,UAAIsB,MAAM,GAAGvB,KAAK,CAACwB,gBAAN,CAAuBzE,IAAI,CAACM,QAAL,CAAcoE,WAAd,EAAvB,CAAb;;AACA,UAAIC,UAAU,GAAG3E,IAAI,CAACE,SAAL,CAAe0E,aAAf,EAAjB;;AACAJ,MAAAA,MAAM,CAACK,CAAP,IAAYF,UAAU,CAACG,IAAvB;AACAN,MAAAA,MAAM,CAACO,CAAP,IAAYJ,UAAU,CAACK,GAAvB;;AACA,UAAI,CAAChF,IAAI,CAACM,QAAL,CAAc2E,IAAd,CAAmBhB,mBAAnB,EAAwCO,MAAxC,EAAgDN,SAAhD,CAAL,EAAiE;AAC7D;AACH;;AACDlE,MAAAA,IAAI,CAACyC,mBAAL,GAA2BQ,KAA3B;AACH;AACJ,GAlIsB;AAmIvBlC,EAAAA,iBAAiB,EAAE,2BAASpC,KAAT,EAAgBsE,KAAhB,EAAuB;AACtC,QAAIjD,IAAI,GAAGrB,KAAK,CAACM,IAAN,CAAWgB,OAAtB;AACA,QAAIiF,gBAAgB,GAAGlF,IAAI,CAACyC,mBAA5B;;AACA,QAAIyC,gBAAgB,IAAIA,gBAAgB,KAAKjC,KAA7C,EAAoD;AAChDjD,MAAAA,IAAI,CAACwC,YAAL,CAAkB0C,gBAAlB;AACH;;AACDlF,IAAAA,IAAI,CAACmD,YAAL,CAAkBF,KAAlB;AACH,GA1IsB;AA2IvBhC,EAAAA,iBAAiB,EAAE,2BAAStC,KAAT,EAAgBsE,KAAhB,EAAuB;AACtCtE,IAAAA,KAAK,CAACM,IAAN,CAAWgB,OAAX,CAAmBuC,YAAnB,CAAgCS,KAAhC;AACH,GA7IsB;AA8IvBkC,EAAAA,iBAAiB,EAAE,6BAAW;AAC1B,QAAI,KAAKC,WAAT,EAAsB;AAClB;AACH;;AACD,QAAIpF,IAAI,GAAG,IAAX;;AACA,QAAIqF,OAAO,GAAG,SAAVA,OAAU,CAASC,CAAT,EAAY;AACtB,UAAIX,UAAU,GAAG3E,IAAI,CAACE,SAAL,CAAe0E,aAAf,EAAjB;;AACA,UAAIC,CAAC,GAAGlI,MAAM,CAAC2I,CAAC,CAACC,KAAF,GAAUZ,UAAU,CAACG,IAAtB,CAAd;;AACA,UAAIC,CAAC,GAAGpI,MAAM,CAAC2I,CAAC,CAACE,KAAF,GAAUb,UAAU,CAACK,GAAtB,CAAd;;AACA,UAAI,CAAC,CAAC,GAAG5I,MAAM,CAACqJ,aAAX,EAA0BzF,IAAI,CAAC8C,WAA/B,EAA4C+B,CAA5C,EAA+CE,CAA/C,CAAL,EAAwD;AACpD/E,QAAAA,IAAI,CAAC0F,WAAL;;AACA1F,QAAAA,IAAI,CAAC2F,kBAAL;AACH;AACJ,KARD;;AASA5J,IAAAA,cAAc,CAACgB,OAAf,CAAuB8D,EAAvB,CAA0BjF,YAAY,CAACmB,OAAb,CAAqB6I,WAArB,EAA1B,EAA8DnI,cAA9D,EAA8E4H,OAA9E;;AACA,SAAKD,WAAL,GAAmBC,OAAnB;AACH,GA9JsB;AA+JvBM,EAAAA,kBAAkB,EAAE,8BAAW;AAC3B,SAAKP,WAAL,IAAoBrJ,cAAc,CAACgB,OAAf,CAAuB6D,GAAvB,CAA2BhF,YAAY,CAACmB,OAAb,CAAqB6I,WAArB,EAA3B,EAA+DnI,cAA/D,EAA+E,KAAK2H,WAApF,CAApB;AACA,SAAKA,WAAL,GAAmB,IAAnB;AACH,GAlKsB;AAmKvBS,EAAAA,mBAAmB,EAAE,+BAAW;AAC5B,SAAKH,WAAL,CAAiB,IAAjB;AACH,GArKsB;AAsKvBA,EAAAA,WAAW,EAAE,qBAASI,KAAT,EAAgB;AACzB,SAAKpD,UAAL;AACA,KAACoD,KAAK,IAAI,KAAKxF,QAAL,CAAciD,SAAd,EAAV,KAAwC,KAAKf,YAAL,CAAkB,KAAKC,mBAAvB,CAAxC;AACH,GAzKsB;AA0KvBsD,EAAAA,mBAAmB,EAAE,6BAASC,SAAT,EAAoBC,YAApB,EAAkC;AACnD,QAAIxF,YAAY,GAAG,KAAKD,aAAxB;AACAC,IAAAA,YAAY,CAAC5C,YAAD,EAAemI,SAAf,EAA0B,YAAW;AAC7C,OAAC3G,aAAa,CAAC2G,SAAS,CAACrH,KAAX,EAAkBqH,SAAS,CAAClH,MAA5B,CAAd,IAAqD2B,YAAY,CAACwF,YAAD,EAAeD,SAAf,CAAjE;AACH,KAFW,CAAZ;AAGH,GA/KsB;AAgLvBE,EAAAA,gBAAgB,EAAE,0BAASrB,CAAT,EAAYE,CAAZ,EAAe;AAC7B,QAAI/E,IAAI,GAAG,IAAX;;AACA,QAAImG,IAAI,GAAGnG,IAAI,CAACI,OAAL,CAAagG,cAAb,CAA4BvB,CAA5B,EAA+BE,CAA/B,CAAX;;AACA,QAAIlD,MAAJ;AACA,QAAIwE,eAAe,GAAG7G,sBAAsB,CAACQ,IAAI,CAACI,OAAL,CAAab,UAAb,GAA0BK,SAA3B,CAA5C;;AACA,QAAIuG,IAAJ,EAAU;AACNtE,MAAAA,MAAM,GAAG7B,IAAI,CAACoC,aAAL,CAAmB+D,IAAI,CAACG,EAAxB,CAAT;;AACA,UAAI,CAACzE,MAAM,CAAC0E,SAAP,EAAD,IAAuB1E,MAAM,CAAC2E,aAAP,KAAyBH,eAApD,EAAqE;AACjErG,QAAAA,IAAI,CAACwD,iBAAL,CAAuB3B,MAAvB,EAA+BwE,eAA/B;AACH;;AACDrG,MAAAA,IAAI,CAACM,QAAL,CAAciD,SAAd,MAA6BvD,IAAI,CAACwC,YAAL,CAAkBxC,IAAI,CAACyC,mBAAvB,CAA7B;AACH,KAND,MAMO;AACHzC,MAAAA,IAAI,CAAC0C,UAAL;AACH;AACJ,GA9LsB;AA+LvB+D,EAAAA,cAAc,EAAE,wBAASC,QAAT,EAAmBC,aAAnB,EAAkC;AAC9C,QAAI3G,IAAI,GAAG,IAAX;;AACA,QAAIJ,SAAS,GAAGI,IAAI,CAAC4G,qBAAL,EAAhB;;AACA,QAAI,CAAC,GAAGrK,KAAK,CAAC2C,SAAV,EAAqBwH,QAArB,CAAJ,EAAoC;AAChC1G,MAAAA,IAAI,CAACqD,oBAAL;;AACArD,MAAAA,IAAI,CAAC6G,gBAAL,GAAwBH,QAAxB;AACA1G,MAAAA,IAAI,CAAC8G,cAAL,GAAsBH,aAAtB;;AACA3G,MAAAA,IAAI,CAAC+G,aAAL,CAAmB;AACfC,QAAAA,MAAM,EAAE,YADO;AAEfC,QAAAA,YAAY,EAAEjH,IAAI,CAACkH,4BAFJ;AAGfpI,QAAAA,MAAM,EAAE;AACJ4H,UAAAA,QAAQ,EAAEA,QADN;AAEJS,UAAAA,SAAS,EAAEhK,WAFP;AAGJwJ,UAAAA,aAAa,EAAEA,aAHX;AAIJpH,UAAAA,UAAU,EAAE,sBAAW;AACnB,mBAAO;AACHK,cAAAA,SAAS,EAAEA;AADR,aAAP;AAGH;AARG;AAHO,OAAnB;AAcH;AACJ,GArNsB;AAsNvBkE,EAAAA,qBAAqB,EAAE,iCAAW;AAC9B,QAAI9D,IAAI,GAAG,IAAX;AACA,QAAIJ,SAAJ;;AACA,QAAI,CAAC,GAAGrD,KAAK,CAAC2C,SAAV,EAAqBc,IAAI,CAAC6G,gBAA1B,CAAJ,EAAiD;AAC7CjH,MAAAA,SAAS,GAAGI,IAAI,CAAC4G,qBAAL,EAAZ;;AACA5G,MAAAA,IAAI,CAAC+G,aAAL,CAAmB;AACfC,QAAAA,MAAM,EAAE,iBADO;AAEfC,QAAAA,YAAY,EAAEjH,IAAI,CAACkH,4BAFJ;AAGfpI,QAAAA,MAAM,EAAE;AACJqI,UAAAA,SAAS,EAAE9J,YADP;AAEJsJ,UAAAA,aAAa,EAAE3G,IAAI,CAAC8G,cAFhB;AAGJJ,UAAAA,QAAQ,EAAE1G,IAAI,CAAC6G,gBAHX;AAIJtH,UAAAA,UAAU,EAAE,sBAAW;AACnB,mBAAO;AACHK,cAAAA,SAAS,EAAEA;AADR,aAAP;AAGH;AARG;AAHO,OAAnB;;AAcAI,MAAAA,IAAI,CAAC6G,gBAAL,GAAwB,IAAxB;AACH;AACJ,GA3OsB;AA4OvBE,EAAAA,aAAa,EAAE,uBAAS9H,IAAT,EAAe;AAC1B,SAAKmD,aAAL,CAAmBsB,OAAnB,CAA2B,UAAS7B,MAAT,EAAiB;AACxCA,MAAAA,MAAM,CAACuF,MAAP,CAAcnI,IAAd;AACH,KAFD;AAGH,GAhPsB;AAiPvBkC,EAAAA,eAAe,EAAE,yBAASmE,CAAT,EAAY;AACzB,QAAI+B,OAAJ;;AACA,QAAIrH,IAAI,GAAGsF,CAAC,CAACrG,IAAF,CAAOgB,OAAlB;;AACA,QAAI0E,UAAU,GAAG3E,IAAI,CAACE,SAAL,CAAe0E,aAAf,EAAjB;;AACA,QAAIC,CAAC,GAAGlI,MAAM,CAAC2I,CAAC,CAACC,KAAF,GAAUZ,UAAU,CAACG,IAAtB,CAAd;;AACA,QAAIC,CAAC,GAAGpI,MAAM,CAAC2I,CAAC,CAACE,KAAF,GAAUb,UAAU,CAACK,GAAtB,CAAd;;AACA,QAAIsC,MAAM,GAAGtH,IAAI,CAACuH,UAAL,CAAgB1C,CAAhB,EAAmBE,CAAnB,CAAb;;AACA,QAAIlD,MAAM,GAAGnD,OAAO,CAAC4G,CAAD,EAAIrH,WAAJ,CAApB;AACA,QAAIgF,KAAK,GAAGvE,OAAO,CAAC4G,CAAD,EAAItH,UAAJ,CAAP,KAA2B,UAAUqJ,OAAO,GAAGxF,MAApB,KAA+B,KAAK,CAAL,KAAWwF,OAA1C,GAAoD,KAAK,CAAzD,GAA6DA,OAAO,CAACG,eAAR,CAAwB3C,CAAxB,EAA2BE,CAA3B,CAAxF,CAAZ;AACA/E,IAAAA,IAAI,CAACyH,UAAL,GAAkB,KAAlB;AACApG,IAAAA,YAAY,CAACrB,IAAI,CAACsB,UAAN,CAAZ;;AACA,QAAIgE,CAAC,CAACoC,IAAF,KAAWrL,QAAQ,CAACU,OAAT,CAAiBY,IAAhC,EAAsC;AAClCqC,MAAAA,IAAI,CAACsB,UAAL,GAAkBqG,UAAU,CAAC,YAAW;AACpC,eAAO3H,IAAI,CAACyH,UAAL,GAAkB,IAAzB;AACH,OAF2B,EAEzBrJ,YAFyB,CAA5B;AAGH;;AACD,QAAI6E,KAAK,IAAI,CAACA,KAAK,CAAC2E,mBAAN,EAAd,EAA2C;AACvC3E,MAAAA,KAAK,GAAG,KAAK,CAAb;AACH;;AACDjD,IAAAA,IAAI,CAACmF,iBAAL;;AACA,QAAInF,IAAI,CAACI,OAAL,CAAayH,QAAb,CAAsBhD,CAAtB,EAAyBE,CAAzB,CAAJ,EAAiC;AAC7B/E,MAAAA,IAAI,CAACkG,gBAAL,CAAsBrB,CAAtB,EAAyBE,CAAzB;;AACA;AACH;;AACD,QAAI/E,IAAI,CAACkC,aAAL,IAAsBlC,IAAI,CAACkC,aAAL,KAAuBlC,IAAI,CAAC8H,YAAtD,EAAoE;AAChE9H,MAAAA,IAAI,CAACyD,qBAAL;AACH;;AACD,QAAIzD,IAAI,CAAC+H,kBAAL,CAAwBlD,CAAxB,EAA2BE,CAA3B,EAA8BO,CAA9B,CAAJ,EAAsC;AAClC;AACH;;AACD,QAAItF,IAAI,CAACgI,aAAL,CAAmBV,MAAnB,EAA2BrE,KAA3B,CAAJ,EAAuC;AACnCjD,MAAAA,IAAI,CAAC0F,WAAL;AACH;;AACD,QAAI,CAAC4B,MAAD,IAAW,CAACrE,KAAhB,EAAuB;AACnB;AACH;;AACD,QAAIpB,MAAM,IAAI,CAACoB,KAAf,EAAsB;AAClBA,MAAAA,KAAK,GAAGpB,MAAM,CAACoG,gBAAP,CAAwBpD,CAAxB,EAA2BE,CAA3B,CAAR;;AACA,UAAI,CAAC/E,IAAI,CAACkI,eAAN,IAAyBjF,KAAzB,IAAkC,CAACA,KAAK,CAAC4E,QAAN,CAAehD,CAAf,EAAkBE,CAAlB,CAAvC,EAA6D;AACzD9B,QAAAA,KAAK,GAAG,IAAR;AACH;;AACD,UAAIpB,MAAM,KAAK7B,IAAI,CAACkC,aAApB,EAAmC;AAC/BlC,QAAAA,IAAI,CAACmI,WAAL,CAAiB,YAAW;AACxBnI,UAAAA,IAAI,CAACwD,iBAAL,CAAuB3B,MAAvB;;AACA7B,UAAAA,IAAI,CAACoI,eAAL,CAAqB9C,CAArB,EAAwBzD,MAAxB,EAAgCgD,CAAhC,EAAmCE,CAAnC;;AACA/E,UAAAA,IAAI,CAACqI,gBAAL,CAAsBpF,KAAtB,EAA6B4B,CAA7B,EAAgCE,CAAhC;AACH,SAJD,EAIGlD,MAJH;;AAKA;AACH;AACJ,KAbD,MAaO;AACH,UAAIoB,KAAJ,EAAW;AACP,YAAIqC,CAAC,CAACoC,IAAF,KAAWrL,QAAQ,CAACU,OAAT,CAAiBa,IAA5B,IAAoC,YAAY0H,CAAC,CAACgD,WAAtD,EAAmE;AAC/D;AACH;;AACD,YAAItI,IAAI,CAACkC,aAAT,EAAwB;AACpBlC,UAAAA,IAAI,CAACmI,WAAL,CAAiB,YAAW;AACxB,mBAAOnI,IAAI,CAACuI,eAAL,CAAqBtF,KAArB,EAA4B4B,CAA5B,EAA+BE,CAA/B,EAAkCO,CAAlC,CAAP;AACH,WAFD,EAEGrC,KAFH;AAGH,SAJD,MAIO;AACHjD,UAAAA,IAAI,CAACuI,eAAL,CAAqBtF,KAArB,EAA4B4B,CAA5B,EAA+BE,CAA/B,EAAkCO,CAAlC;AACH;;AACD;AACH,OAZD,MAYO;AACH,YAAItF,IAAI,CAACoI,eAAL,CAAqB9C,CAArB,EAAwB,KAAK,CAA7B,EAAgCT,CAAhC,EAAmCE,CAAnC,KAAyC/E,IAAI,CAACkI,eAAlD,EAAmE;AAC/D,cAAIM,MAAJ;;AACA3G,UAAAA,MAAM,GAAG7B,IAAI,CAAC8H,YAAd;AACA7E,UAAAA,KAAK,GAAGpB,MAAM,CAACoG,gBAAP,CAAwBpD,CAAxB,EAA2BE,CAA3B,CAAR;;AACA/E,UAAAA,IAAI,CAACyD,qBAAL;;AACA,WAAC,UAAU+E,MAAM,GAAGvF,KAAnB,KAA6B,KAAK,CAAL,KAAWuF,MAAxC,GAAiD,KAAK,CAAtD,GAA0DA,MAAM,CAACZ,mBAAP,EAA3D,KAA4F5H,IAAI,CAACoD,gBAAL,CAAsBH,KAAtB,CAA5F;AACH,SAND,MAMO;AACH,cAAI,CAACjD,IAAI,CAACkI,eAAV,EAA2B;AACvBlI,YAAAA,IAAI,CAAC0F,WAAL;AACH;AACJ;AACJ;AACJ;;AACD1F,IAAAA,IAAI,CAACqI,gBAAL,CAAsBpF,KAAtB,EAA6B4B,CAA7B,EAAgCE,CAAhC;AACH,GA9TsB;AA+TvBwD,EAAAA,eAAe,EAAE,yBAAStF,KAAT,EAAgB4B,CAAhB,EAAmBE,CAAnB,EAAsB;AACnC,SAAKjB,qBAAL;;AACA,SAAKV,gBAAL,CAAsBH,KAAtB;;AACA,SAAKoF,gBAAL,CAAsBpF,KAAtB,EAA6B4B,CAA7B,EAAgCE,CAAhC;AACH,GAnUsB;AAoUvBsD,EAAAA,gBAAgB,EAAE,0BAASpF,KAAT,EAAgB;AAC9B,SAAKR,mBAAL,KAA6BQ,KAA7B,IAAsC,KAAK3C,QAAL,CAAciD,SAAd,EAAtC,IAAmE,KAAKJ,YAAL,CAAkBF,KAAlB,CAAnE;AACH,GAtUsB;AAuUvBzB,EAAAA,aAAa,EAAE,uBAAS8D,CAAT,EAAY;AACvB,QAAImD,OAAJ;;AACA,QAAIzI,IAAI,GAAGsF,CAAC,CAACrG,IAAF,CAAOgB,OAAlB;;AACA,QAAID,IAAI,CAACyH,UAAT,EAAqB;AACjB;AACH;;AACD,QAAI9C,UAAU,GAAG3E,IAAI,CAACE,SAAL,CAAe0E,aAAf,EAAjB;;AACA,QAAIC,CAAC,GAAGlI,MAAM,CAAC2I,CAAC,CAACC,KAAF,GAAUZ,UAAU,CAACG,IAAtB,CAAd;;AACA,QAAIC,CAAC,GAAGpI,MAAM,CAAC2I,CAAC,CAACE,KAAF,GAAUb,UAAU,CAACK,GAAtB,CAAd;;AACA,QAAI/B,KAAK,GAAGvE,OAAO,CAAC4G,CAAD,EAAItH,UAAJ,CAAnB;AACA,QAAI6D,MAAM,GAAG7B,IAAI,CAAC8H,YAAL,IAAqBpJ,OAAO,CAAC4G,CAAD,EAAIrH,WAAJ,CAA5B,KAAiD,UAAUwK,OAAO,GAAGxF,KAApB,KAA8B,KAAK,CAAL,KAAWwF,OAAzC,GAAmD,KAAK,CAAxD,GAA4DA,OAAO,CAAC5G,MAArH,CAAb;AACA,QAAI6G,IAAI,GAAG1I,IAAI,CAAC2I,aAAhB;;AACA,QAAI3I,IAAI,CAACI,OAAL,CAAayH,QAAb,CAAsBhD,CAAtB,EAAyBE,CAAzB,CAAJ,EAAiC;AAC7B,UAAIoB,IAAI,GAAGnG,IAAI,CAACI,OAAL,CAAagG,cAAb,CAA4BvB,CAA5B,EAA+BE,CAA/B,CAAX;;AACA,UAAIoB,IAAJ,EAAU;AACNnG,QAAAA,IAAI,CAAC4I,YAAL,CAAkBzC,IAAlB,EAAwBb,CAAxB;AACH;AACJ,KALD,MAKO;AACH,UAAI,SAASoD,IAAT,IAAiB,KAAK,CAAL,KAAWA,IAA5B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACb,QAAL,CAAchD,CAAd,EAAiBE,CAAjB,CAAhD,EAAqE;AACjE,YAAI2B,QAAQ,GAAGhI,OAAO,CAAC4G,CAAD,EAAIpH,QAAJ,EAAc,IAAd,CAAtB;;AACA,YAAI,CAAC,GAAG3B,KAAK,CAAC2C,SAAV,EAAqBwH,QAArB,CAAJ,EAAoC;AAChC1G,UAAAA,IAAI,CAACQ,aAAL,CAAmB,mBAAnB,EAAwC;AACpCkG,YAAAA,QAAQ,EAAEA,QAD0B;AAEpC/H,YAAAA,KAAK,EAAE2G;AAF6B,WAAxC;AAIH;AACJ,OARD,MAQO;AACH,YAAIzD,MAAJ,EAAY;AACR,cAAIgH,OAAJ;;AACA5F,UAAAA,KAAK,GAAGA,KAAK,IAAIpB,MAAM,CAAC2F,eAAP,CAAuB3C,CAAvB,EAA0BE,CAA1B,CAAjB;;AACA,cAAI,UAAU8D,OAAO,GAAG5F,KAApB,KAA8B,KAAK,CAAL,KAAW4F,OAAzC,GAAmD,KAAK,CAAxD,GAA4DA,OAAO,CAACjB,mBAAR,EAAhE,EAA+F;AAC3F5H,YAAAA,IAAI,CAAC8I,WAAL,CAAiB7F,KAAjB,EAAwBqC,CAAxB;AACH,WAFD,MAEO;AACH5G,YAAAA,OAAO,CAAC4G,CAAD,EAAIrH,WAAJ,CAAP,IAA2B+B,IAAI,CAACQ,aAAL,CAAmB1C,YAAnB,EAAiC;AACxDgB,cAAAA,MAAM,EAAE+C,MADgD;AAExDlD,cAAAA,KAAK,EAAE2G;AAFiD,aAAjC,CAA3B;AAIH;AACJ;AACJ;AACJ;AACJ,GAhXsB;AAiXvByD,EAAAA,OAAO,EAAE,mBAAW;AAChB,QAAI/I,IAAI,GAAG,IAAX;;AACAA,IAAAA,IAAI,CAAC2F,kBAAL;;AACA3F,IAAAA,IAAI,CAACE,SAAL,CAAegB,IAAf,CAAoBN,GAApB,CAAwBpD,YAAxB;;AACAwC,IAAAA,IAAI,CAACU,YAAL,CAAkBE,GAAlB,CAAsBpD,YAAtB;AACH;AAtXsB,CAA3B;;AAwXA,IAAI7B,YAAY,GAAG,SAAfA,YAAe,CAASoE,OAAT,EAAkB;AACjC,OAAKD,IAAL,CAAUC,OAAV;AACH,CAFD;;AAGAtE,OAAO,CAACE,YAAR,GAAuBA,YAAvB;AACA,CAAC,GAAGM,OAAO,CAAC+M,MAAZ,EAAoBrN,YAAY,CAACsN,SAAjC,EAA4CpJ,oBAA5C,EAAkE;AAC9DiJ,EAAAA,WAAW,EAAE,qBAAS7F,KAAT,EAAgBtE,KAAhB,EAAuB;AAChC,QAAIqB,IAAI,GAAG,IAAX;AACA,QAAIS,YAAY,GAAGT,IAAI,CAACQ,aAAxB;AACA,QAAIqB,MAAM,GAAGoB,KAAK,CAACpB,MAAnB;AACApB,IAAAA,YAAY,CAAC1C,WAAD,EAAc;AACtBe,MAAAA,MAAM,EAAEmE,KADc;AAEtBtE,MAAAA,KAAK,EAAEA;AAFe,KAAd,EAGT,YAAW;AACV,OAACU,aAAa,CAACV,KAAD,EAAQkD,MAAR,CAAd,IAAiCpB,YAAY,CAAC3C,YAAD,EAAe;AACxDgB,QAAAA,MAAM,EAAE+C,MADgD;AAExDlD,QAAAA,KAAK,EAAEA;AAFiD,OAAf,CAA7C;AAIH,KARW,CAAZ;AASH,GAd6D;AAe9D8C,EAAAA,MAAM,EAAE,gBAAS1B,OAAT,EAAkB;AACtB,QAAIC,IAAI,GAAG,IAAX;AACAH,IAAAA,oBAAoB,CAAC4B,MAArB,CAA4ByH,IAA5B,CAAiC,IAAjC,EAAuCnJ,OAAvC;AACAC,IAAAA,IAAI,CAAC2I,aAAL,GAAqB5I,OAAO,CAACoJ,YAAR,IAAwB,EAA7C;AACAnJ,IAAAA,IAAI,CAACoJ,iBAAL,GAAyBpJ,IAAI,CAAC2I,aAAL,IAAsB,CAAC,GAAGvM,MAAM,CAACiN,aAAX,EAA0BrJ,IAAI,CAAC2I,aAAL,CAAmBpJ,UAAnB,GAAgCK,SAA1D,MAAyEtB,wBAAxH;AACA0B,IAAAA,IAAI,CAACsJ,QAAL,GAAgBvJ,OAAO,CAACwJ,OAAxB;AACAvJ,IAAAA,IAAI,CAACwJ,UAAL,GAAkBzJ,OAAO,CAAC0J,SAA1B;AACAzJ,IAAAA,IAAI,CAACkI,eAAL,GAAuBnI,OAAO,CAAC2J,cAA/B;AACH,GAvB6D;AAwB9DnC,EAAAA,UAAU,EAAE,oBAAS1C,CAAT,EAAYE,CAAZ,EAAe;AACvB,QAAI/E,IAAI,GAAG,IAAX;AACA,QAAI2J,QAAQ,GAAG3J,IAAI,CAAC+C,SAAL,IAAkB,EAAjC;;AACA,SAAK,IAAI6G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,QAAQ,CAACE,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACtC,UAAIE,CAAC,GAAGH,QAAQ,CAACC,CAAD,CAAhB;;AACA,UAAI,CAAC,GAAGxN,MAAM,CAACqJ,aAAX,EAA0BqE,CAA1B,EAA6BjF,CAA7B,EAAgCE,CAAhC,CAAJ,EAAwC;AACpC,eAAO+E,CAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAlC6D;AAmC9D9B,EAAAA,aAAa,EAAE,uBAASV,MAAT,EAAiB;AAC5B,WAAO,CAACA,MAAD,IAAW,KAAKQ,YAAvB;AACH,GArC6D;AAsC9DiC,EAAAA,cAAc,EAAE,0BAAW;AACvB,QAAIC,gBAAJ;;AACA,cAAUA,gBAAgB,GAAG,KAAKR,UAAlC,KAAiD,KAAK,CAAL,KAAWQ,gBAA5D,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAAChG,IAAjB,EAAxF;AACH,GAzC6D;AA0C9DiG,EAAAA,cAAc,EAAE,wBAAShH,KAAT,EAAgB4B,CAAhB,EAAmBE,CAAnB,EAAsB;AAClC,QAAI,KAAKyE,UAAL,KAAoB,SAASvG,KAAT,IAAkB,KAAK,CAAL,KAAWA,KAA7B,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACC,SAAN,EAAlE,CAAJ,EAA0F;AACtF,WAAKsG,UAAL,CAAgBvE,IAAhB,CAAqB;AACjBhC,QAAAA,KAAK,EAAEA,KADU;AAEjB4B,QAAAA,CAAC,EAAEA,CAFc;AAGjBE,QAAAA,CAAC,EAAEA;AAHc,OAArB;AAKH;AACJ,GAlD6D;AAmD9D1C,EAAAA,MAAM,EAAE,kBAAW;AACf,QAAIrC,IAAI,GAAG,IAAX;;AACAH,IAAAA,oBAAoB,CAACwC,MAArB,CAA4B6G,IAA5B,CAAiClJ,IAAjC;;AACAA,IAAAA,IAAI,CAACkK,WAAL;;AACAlK,IAAAA,IAAI,CAAC8H,YAAL,GAAoB,IAApB;AACH,GAxD6D;AAyD9DqC,EAAAA,mBAAmB,EAAE,6BAAStF,CAAT,EAAYE,CAAZ,EAAe;AAChC,QAAIqF,OAAJ;;AACA,QAAIpK,IAAI,GAAG,IAAX;AACA,QAAIuE,MAAM,GAAG,EAAb;AACA,QAAItB,KAAK,GAAG,IAAZ;AACA,QAAIoH,QAAQ,GAAG,IAAI,CAAnB;;AACA,QAAIrK,IAAI,CAACM,QAAL,CAAc8D,QAAd,MAA4B,CAACpE,IAAI,CAACkC,aAAtC,EAAqD;AACjD,OAAC,GAAGhG,SAAS,CAACoO,IAAd,EAAoBtK,IAAI,CAACoC,aAAzB,EAAwC,UAASmI,CAAT,EAAY1I,MAAZ,EAAoB;AACxD,YAAIoB,KAAK,GAAGpB,MAAM,CAACoG,gBAAP,CAAwBpD,CAAxB,EAA2BE,CAA3B,CAAZ;AACA9B,QAAAA,KAAK,IAAIsB,MAAM,CAACiG,IAAP,CAAYvH,KAAZ,CAAT;AACH,OAHD;AAIA,OAAC,GAAG/G,SAAS,CAACoO,IAAd,EAAoB/F,MAApB,EAA4B,UAASgG,CAAT,EAAYE,CAAZ,EAAe;AACvC,YAAIjG,MAAM,GAAGiG,CAAC,CAACC,gBAAF,CAAmB7F,CAAnB,EAAsBE,CAAtB,CAAb;AACA,YAAI4F,CAAC,GAAG,CAAC,GAAGvO,MAAM,CAACwO,WAAX,EAAwB/F,CAAxB,EAA2BE,CAA3B,EAA8BP,MAAM,CAACK,CAArC,EAAwCL,MAAM,CAACO,CAA/C,CAAR;;AACA,YAAI4F,CAAC,GAAGN,QAAR,EAAkB;AACdpH,UAAAA,KAAK,GAAGwH,CAAR;AACAJ,UAAAA,QAAQ,GAAGM,CAAX;AACH;AACJ,OAPD;AAQH;;AACD,WAAO,UAAUP,OAAO,GAAGnH,KAApB,KAA8B,KAAK,CAAL,KAAWmH,OAAzC,GAAmD,KAAK,CAAxD,GAA4DA,OAAO,CAACvI,MAA3E;AACH,GA9E6D;AA+E9DsG,EAAAA,WAAW,EAAE,qBAAS0C,QAAT,EAAmBC,MAAnB,EAA2B;AACpC,QAAI9K,IAAI,GAAG,IAAX;;AACA,QAAIA,IAAI,CAAC+K,cAAL,KAAwBD,MAA5B,EAAoC;AAChC9K,MAAAA,IAAI,CAACkK,WAAL;;AACAlK,MAAAA,IAAI,CAACgL,aAAL,GAAqBrD,UAAU,CAAC,YAAW;AACvCkD,QAAAA,QAAQ;AACR7K,QAAAA,IAAI,CAAC+K,cAAL,GAAsB,IAAtB;AACH,OAH8B,EAG5B5M,KAH4B,CAA/B;AAIA6B,MAAAA,IAAI,CAAC+K,cAAL,GAAsBD,MAAtB;AACH;AACJ,GAzF6D;AA0F9DZ,EAAAA,WAAW,EAAE,uBAAW;AACpB7I,IAAAA,YAAY,CAAC,KAAK2J,aAAN,CAAZ;AACA,SAAKD,cAAL,GAAsB,KAAKC,aAAL,GAAqB,IAA3C;AACH,GA7F6D;AA8F9DC,EAAAA,UAAU,EAAE,oBAAS3F,CAAT,EAAY;AACpB,QAAI,CAAC,CAAC,GAAG/I,KAAK,CAAC2C,SAAV,EAAqBoG,CAAC,CAAC4F,UAAvB,CAAD,IAAuC5F,CAAC,CAAC4F,UAA7C,EAAyD;AACrD5F,MAAAA,CAAC,CAAC6F,cAAF;AACA7F,MAAAA,CAAC,CAAC8F,eAAF;AACH;AACJ,GAnG6D;AAoG9DhD,EAAAA,eAAe,EAAE,yBAAS9C,CAAT,EAAYzD,MAAZ,EAAoBgD,CAApB,EAAuBE,CAAvB,EAA0B;AACvC,QAAI,YAAYO,CAAC,CAACgD,WAAlB,EAA+B;AAC3B,WAAKR,YAAL,GAAoB,IAApB;AACH,KAFD,MAEO;AACH,WAAKA,YAAL,GAAoBjG,MAAM,IAAI,KAAKiG,YAAf,IAA+B,KAAKqC,mBAAL,CAAyBtF,CAAzB,EAA4BE,CAA5B,CAAnD;AACH;;AACD,WAAO,CAAC,CAAC,KAAK+C,YAAd;AACH,GA3G6D;AA4G9DpC,EAAAA,WAAW,EAAE,uBAAW;AACpB,QAAI1F,IAAI,GAAG,IAAX;AACAA,IAAAA,IAAI,CAAC8H,YAAL,GAAoB,IAApB;;AACA9H,IAAAA,IAAI,CAAC+J,cAAL;;AACA/J,IAAAA,IAAI,CAACkK,WAAL;;AACArK,IAAAA,oBAAoB,CAAC6F,WAArB,CAAiC2F,KAAjC,CAAuCrL,IAAvC,EAA6CsL,SAA7C;AACH,GAlH6D;AAmH9DvD,EAAAA,kBAAkB,EAAE,4BAASlD,CAAT,EAAYE,CAAZ,EAAeO,CAAf,EAAkB;AAClC,QAAItF,IAAI,GAAG,IAAX;;AACAA,IAAAA,IAAI,CAAC8D,qBAAL;;AACA,QAAI9D,IAAI,CAACoJ,iBAAL,IAA0BpJ,IAAI,CAAC2I,aAAL,CAAmBd,QAAnB,CAA4BhD,CAA5B,EAA+BE,CAA/B,CAA9B,EAAiE;AAC7D/E,MAAAA,IAAI,CAACyG,cAAL,CAAoB/H,OAAO,CAAC4G,CAAD,EAAIpH,QAAJ,EAAc,IAAd,CAA3B;;AACA,aAAO,IAAP;AACH;AACJ,GA1H6D;AA2H9DmK,EAAAA,gBAAgB,EAAE,0BAASpF,KAAT,EAAgB4B,CAAhB,EAAmBE,CAAnB,EAAsB;AACpC,QAAI/E,IAAI,GAAG,IAAX;AACAA,IAAAA,IAAI,CAACkC,aAAL,IAAsBlC,IAAI,CAACkC,aAAL,CAAmBqJ,WAAnB,CAA+B1G,CAA/B,EAAkCE,CAAlC,CAAtB;;AACA/E,IAAAA,IAAI,CAACkK,WAAL;;AACAlK,IAAAA,IAAI,CAACiK,cAAL,CAAoBhH,KAApB,EAA2B4B,CAA3B,EAA8BE,CAA9B;;AACAlF,IAAAA,oBAAoB,CAACwI,gBAArB,CAAsCa,IAAtC,CAA2ClJ,IAA3C,EAAiDiD,KAAjD;AACH,GAjI6D;AAkI9D2F,EAAAA,YAAY,EAAE,sBAASzC,IAAT,EAAeb,CAAf,EAAkB;AAC5B,QAAIzD,MAAM,GAAG,KAAKO,aAAL,CAAmB+D,IAAI,CAACG,EAAxB,CAAb;;AACA,SAAKP,mBAAL,CAAyB;AACrBjH,MAAAA,MAAM,EAAE+C,MADa;AAErBlD,MAAAA,KAAK,EAAE2G;AAFc,KAAzB,EAGGxH,YAHH;AAIH,GAxI6D;AAyI9DoI,EAAAA,gBAAgB,EAAE,0BAASrB,CAAT,EAAYE,CAAZ,EAAe;AAC7B,SAAK+C,YAAL,GAAoB,IAApB;;AACA,SAAKiC,cAAL;;AACAlK,IAAAA,oBAAoB,CAACqG,gBAArB,CAAsCgD,IAAtC,CAA2C,IAA3C,EAAiDrE,CAAjD,EAAoDE,CAApD;AACH,GA7I6D;AA8I9DwD,EAAAA,eAAe,EAAE,yBAAStF,KAAT,EAAgB4B,CAAhB,EAAmBE,CAAnB,EAAsBO,CAAtB,EAAyB;AACtC,SAAK8C,eAAL,CAAqB9C,CAArB,EAAwBrC,KAAK,CAACpB,MAA9B,EAAsCgD,CAAtC,EAAyCE,CAAzC;;AACA,SAAKtB,qBAAL;;AACA5D,IAAAA,oBAAoB,CAAC0I,eAArB,CAAqCW,IAArC,CAA0C,IAA1C,EAAgDjG,KAAhD,EAAuD4B,CAAvD,EAA0DE,CAA1D,EAA6DO,CAA7D;AACH,GAlJ6D;AAmJ9D4B,EAAAA,4BAA4B,EAAE,KAnJgC;AAoJ9DN,EAAAA,qBAAqB,EAAE,iCAAW;AAC9B,WAAOjH,gBAAgB,CAAC,KAAKgJ,aAAN,CAAvB;AACH,GAtJ6D;AAuJ9DI,EAAAA,OAAO,EAAE,mBAAW;AAChB,SAAKmB,WAAL;;AACArK,IAAAA,oBAAoB,CAACkJ,OAArB,CAA6BG,IAA7B,CAAkC,IAAlC;AACH;AA1J6D,CAAlE;;AA4JA,IAAIxN,UAAU,GAAG,SAAbA,UAAa,CAASqE,OAAT,EAAkB;AAC/B,OAAKD,IAAL,CAAUC,OAAV;AACH,CAFD;;AAGAtE,OAAO,CAACC,UAAR,GAAqBA,UAArB;AACA,CAAC,GAAGO,OAAO,CAAC+M,MAAZ,EAAoBtN,UAAU,CAACuN,SAA/B,EAA0CpJ,oBAA1C,EAAgE;AAC5DmI,EAAAA,aAAa,EAAE,uBAASuC,CAAT,EAAYtH,KAAZ,EAAmB;AAC9B,WAAO,CAACA,KAAR;AACH,GAH2D;AAI5D2F,EAAAA,YAAY,EAAE,sBAASzC,IAAT,EAAeb,CAAf,EAAkB;AAC5B,QAAItF,IAAI,GAAG,IAAX;AACA,QAAIuE,MAAM,GAAG,EAAb;;AACAvE,IAAAA,IAAI,CAACoC,aAAL,CAAmBsB,OAAnB,CAA2B,UAASzB,CAAT,EAAY;AACnC,aAAOsC,MAAM,CAACiG,IAAP,CAAYa,KAAZ,CAAkB9G,MAAlB,EAA0BtC,CAAC,CAACuJ,eAAF,CAAkBrF,IAAI,CAACO,QAAvB,EAAiCP,IAAI,CAACQ,aAAtC,CAA1B,CAAP;AACH,KAFD;;AAGA3G,IAAAA,IAAI,CAACQ,aAAL,CAAmB3C,YAAnB,EAAiC;AAC7BiB,MAAAA,MAAM,EAAEqH,IAAI,CAACO,QADgB;AAE7BnC,MAAAA,MAAM,EAAEA,MAFqB;AAG7B5F,MAAAA,KAAK,EAAE2G;AAHsB,KAAjC;AAKH,GAf2D;AAgB5DwD,EAAAA,WAAW,EAAE,qBAAS7F,KAAT,EAAgBqC,CAAhB,EAAmB;AAC5B,SAAK9E,aAAL,CAAmBzC,WAAnB,EAAgC;AAC5Be,MAAAA,MAAM,EAAEmE,KADoB;AAE5BtE,MAAAA,KAAK,EAAE2G;AAFqB,KAAhC;AAIH,GArB2D;AAsB5DY,EAAAA,gBAAgB,EAAE,0BAASrB,CAAT,EAAYE,CAAZ,EAAe;AAC7B,QAAI/E,IAAI,GAAG,IAAX;;AACA,QAAImG,IAAI,GAAGnG,IAAI,CAACI,OAAL,CAAagG,cAAb,CAA4BvB,CAA5B,EAA+BE,CAA/B,CAAX;;AACA,QAAIoB,IAAI,IAAInG,IAAI,CAAC6G,gBAAL,KAA0BV,IAAI,CAACO,QAA3C,EAAqD;AACjD1G,MAAAA,IAAI,CAAC8D,qBAAL;;AACA9D,MAAAA,IAAI,CAACyG,cAAL,CAAoBN,IAAI,CAACO,QAAzB,EAAmCP,IAAI,CAACQ,aAAxC;AACH,KAHD,MAGO;AACH,UAAI,CAACR,IAAL,EAAW;AACPnG,QAAAA,IAAI,CAAC0C,UAAL;AACH;AACJ;AACJ,GAjC2D;AAkC5DkE,EAAAA,qBAAqB,EAAE,iCAAW;AAC9B,WAAOjH,gBAAgB,CAAC,KAAKS,OAAN,CAAvB;AACH,GApC2D;AAqC5D2H,EAAAA,kBAAkB,EAAEvL,OAAO,CAACiP,IArCgC;AAsC5DrD,EAAAA,eAAe,EAAE5L,OAAO,CAACiP,IAtCmC;AAuC5DlE,EAAAA,UAAU,EAAE/K,OAAO,CAACiP,IAvCwC;AAwC5DvE,EAAAA,4BAA4B,EAAE;AAxC8B,CAAhE","sourcesContent":["/**\r\n * DevExtreme (viz/chart_components/tracker.js)\r\n * Version: 20.2.3\r\n * Build date: Tue Oct 20 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nexports.PieTracker = exports.ChartTracker = void 0;\r\nvar _dom_adapter = _interopRequireDefault(require(\"../../core/dom_adapter\"));\r\nvar _events_engine = _interopRequireDefault(require(\"../../events/core/events_engine\"));\r\nvar _click = require(\"../../events/click\");\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _consts = _interopRequireDefault(require(\"../components/consts\"));\r\nvar _utils = require(\"../core/utils\");\r\nvar _pointer = _interopRequireDefault(require(\"../../events/pointer\"));\r\nvar _index = require(\"../../events/utils/index\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _common = require(\"../../core/utils/common\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar _floor = Math.floor;\r\nvar eventsConsts = _consts.default.events;\r\nvar statesConsts = _consts.default.states;\r\nvar HOVER_STATE = statesConsts.hoverMark;\r\nvar NORMAL_STATE = statesConsts.normalMark;\r\nvar EVENT_NS = \"dxChartTracker\";\r\nvar DOT_EVENT_NS = \".\" + EVENT_NS;\r\nvar POINTER_ACTION = (0, _index.addNamespace)([_pointer.default.down, _pointer.default.move], EVENT_NS);\r\nvar LEGEND_CLICK = \"legendClick\";\r\nvar SERIES_CLICK = \"seriesClick\";\r\nvar POINT_CLICK = \"pointClick\";\r\nvar POINT_DATA = \"chart-data-point\";\r\nvar SERIES_DATA = \"chart-data-series\";\r\nvar ARG_DATA = \"chart-data-argument\";\r\nvar DELAY = 100;\r\nvar HOLD_TIMEOUT = 300;\r\nvar NONE_MODE = \"none\";\r\nvar ALL_ARGUMENT_POINTS_MODE = \"allargumentpoints\";\r\nvar INCLUDE_POINTS_MODE = \"includepoints\";\r\nvar EXLUDE_POINTS_MODE = \"excludepoints\";\r\nvar LEGEND_HOVER_MODES = [INCLUDE_POINTS_MODE, EXLUDE_POINTS_MODE, NONE_MODE];\r\n\r\nfunction getData(event, dataKey, tryCheckParent) {\r\n    var target = event.target;\r\n    if (\"tspan\" === target.tagName) {\r\n        return target.parentNode[dataKey]\r\n    }\r\n    var data = target[dataKey];\r\n    if (tryCheckParent && !(0, _type.isDefined)(data)) {\r\n        var getParentData = function getParentData(node) {\r\n            if (node.parentNode) {\r\n                if ((0, _type.isDefined)(node.parentNode[dataKey])) {\r\n                    return node.parentNode[dataKey]\r\n                } else {\r\n                    return getParentData(node.parentNode)\r\n                }\r\n            }\r\n            return\r\n        };\r\n        return getParentData(target)\r\n    }\r\n    return data\r\n}\r\n\r\nfunction eventCanceled(event, target) {\r\n    return event.cancel || !target.getOptions()\r\n}\r\n\r\nfunction correctLegendHoverMode(mode) {\r\n    if (LEGEND_HOVER_MODES.indexOf(mode) > -1) {\r\n        return mode\r\n    } else {\r\n        return INCLUDE_POINTS_MODE\r\n    }\r\n}\r\n\r\nfunction correctHoverMode(target) {\r\n    var mode = target.getOptions().hoverMode;\r\n    return mode === NONE_MODE ? mode : ALL_ARGUMENT_POINTS_MODE\r\n}\r\nvar baseTrackerPrototype = {\r\n    ctor: function(options) {\r\n        var that = this;\r\n        var data = {\r\n            tracker: that\r\n        };\r\n        that._renderer = options.renderer;\r\n        that._legend = options.legend;\r\n        that._tooltip = options.tooltip;\r\n        that._eventTrigger = options.eventTrigger;\r\n        that._seriesGroup = options.seriesGroup;\r\n        options.seriesGroup.off(DOT_EVENT_NS).on((0, _index.addNamespace)(eventsConsts.showPointTooltip, EVENT_NS), data, that._showPointTooltip).on((0, _index.addNamespace)(eventsConsts.hidePointTooltip, EVENT_NS), data, that._hidePointTooltip);\r\n        that._renderer.root.off(DOT_EVENT_NS).on(POINTER_ACTION, data, that._pointerHandler).on((0, _index.addNamespace)(_pointer.default.up, EVENT_NS), function() {\r\n            return clearTimeout(that._holdTimer)\r\n        }).on((0, _index.addNamespace)(_click.name, EVENT_NS), data, that._clickHandler)\r\n    },\r\n    update: function(options) {\r\n        this._chart = options.chart\r\n    },\r\n    updateSeries: function(series, resetDecorations) {\r\n        var that = this;\r\n        var noHoveredSeries = !((null === series || void 0 === series ? void 0 : series.some(function(s) {\r\n            return s === that.hoveredSeries\r\n        })) || that._hoveredPoint && that._hoveredPoint.series);\r\n        if (that._storedSeries !== series) {\r\n            that._storedSeries = series || []\r\n        }\r\n        if (noHoveredSeries) {\r\n            that._clean();\r\n            that._renderer.initHatching()\r\n        }\r\n        if (resetDecorations) {\r\n            that.clearSelection();\r\n            if (!noHoveredSeries) {\r\n                that._hideTooltip(that.pointAtShownTooltip);\r\n                that.clearHover()\r\n            }\r\n        }\r\n    },\r\n    setCanvases: function(mainCanvas, paneCanvases) {\r\n        this._mainCanvas = mainCanvas;\r\n        this._canvases = paneCanvases\r\n    },\r\n    repairTooltip: function() {\r\n        var point = this.pointAtShownTooltip;\r\n        if (!point || !point.series || !point.isVisible()) {\r\n            this._hideTooltip(point, true)\r\n        } else {\r\n            this._showTooltip(point)\r\n        }\r\n    },\r\n    _setHoveredPoint: function(point) {\r\n        if (point === this._hoveredPoint) {\r\n            return\r\n        }\r\n        this._releaseHoveredPoint();\r\n        point.hover();\r\n        this._hoveredPoint = point\r\n    },\r\n    _releaseHoveredPoint: function() {\r\n        if (this._hoveredPoint && this._hoveredPoint.getOptions()) {\r\n            this._hoveredPoint.clearHover();\r\n            this._hoveredPoint = null;\r\n            if (this._tooltip.isEnabled()) {\r\n                this._hideTooltip(this._hoveredPoint)\r\n            }\r\n        }\r\n    },\r\n    _setHoveredSeries: function(series, mode) {\r\n        this._releaseHoveredSeries();\r\n        this._releaseHoveredPoint();\r\n        series.hover(mode);\r\n        this.hoveredSeries = series\r\n    },\r\n    _releaseHoveredSeries: function() {\r\n        if (this.hoveredSeries) {\r\n            this.hoveredSeries.clearHover();\r\n            this.hoveredSeries = null\r\n        }\r\n    },\r\n    clearSelection: function() {\r\n        this._storedSeries.forEach(function(series) {\r\n            if (series) {\r\n                series.clearSelection();\r\n                series.getPoints().forEach(function(point) {\r\n                    return point.clearSelection()\r\n                })\r\n            }\r\n        })\r\n    },\r\n    _clean: function() {\r\n        var that = this;\r\n        that.hoveredPoint = that.hoveredSeries = that._hoveredArgumentPoints = null;\r\n        that._hideTooltip(that.pointAtShownTooltip)\r\n    },\r\n    clearHover: function() {\r\n        this._resetHoveredArgument();\r\n        this._releaseHoveredSeries();\r\n        this._releaseHoveredPoint()\r\n    },\r\n    _hideTooltip: function(point, silent) {\r\n        var that = this;\r\n        if (!that._tooltip || point && that.pointAtShownTooltip !== point) {\r\n            return\r\n        }\r\n        if (!silent && that.pointAtShownTooltip) {\r\n            that.pointAtShownTooltip = null\r\n        }\r\n        that._tooltip.hide()\r\n    },\r\n    _showTooltip: function(point) {\r\n        var that = this;\r\n        var tooltipFormatObject;\r\n        var eventData = {\r\n            target: point\r\n        };\r\n        if (null === point || void 0 === point ? void 0 : point.getOptions()) {\r\n            tooltipFormatObject = point.getTooltipFormatObject(that._tooltip, that._tooltip.isShared() && that._chart.getStackedPoints(point));\r\n            if (!(0, _type.isDefined)(tooltipFormatObject.valueText) && !tooltipFormatObject.points || !point.isVisible()) {\r\n                return\r\n            }\r\n            var coords = point.getTooltipParams(that._tooltip.getLocation());\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            coords.x += rootOffset.left;\r\n            coords.y += rootOffset.top;\r\n            if (!that._tooltip.show(tooltipFormatObject, coords, eventData)) {\r\n                return\r\n            }\r\n            that.pointAtShownTooltip = point\r\n        }\r\n    },\r\n    _showPointTooltip: function(event, point) {\r\n        var that = event.data.tracker;\r\n        var pointWithTooltip = that.pointAtShownTooltip;\r\n        if (pointWithTooltip && pointWithTooltip !== point) {\r\n            that._hideTooltip(pointWithTooltip)\r\n        }\r\n        that._showTooltip(point)\r\n    },\r\n    _hidePointTooltip: function(event, point) {\r\n        event.data.tracker._hideTooltip(point)\r\n    },\r\n    _enableOutHandler: function() {\r\n        if (this._outHandler) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var handler = function(e) {\r\n            var rootOffset = that._renderer.getRootOffset();\r\n            var x = _floor(e.pageX - rootOffset.left);\r\n            var y = _floor(e.pageY - rootOffset.top);\r\n            if (!(0, _utils.pointInCanvas)(that._mainCanvas, x, y)) {\r\n                that._pointerOut();\r\n                that._disableOutHandler()\r\n            }\r\n        };\r\n        _events_engine.default.on(_dom_adapter.default.getDocument(), POINTER_ACTION, handler);\r\n        this._outHandler = handler\r\n    },\r\n    _disableOutHandler: function() {\r\n        this._outHandler && _events_engine.default.off(_dom_adapter.default.getDocument(), POINTER_ACTION, this._outHandler);\r\n        this._outHandler = null\r\n    },\r\n    stopCurrentHandling: function() {\r\n        this._pointerOut(true)\r\n    },\r\n    _pointerOut: function(force) {\r\n        this.clearHover();\r\n        (force || this._tooltip.isEnabled()) && this._hideTooltip(this.pointAtShownTooltip)\r\n    },\r\n    _triggerLegendClick: function(eventArgs, elementClick) {\r\n        var eventTrigger = this._eventTrigger;\r\n        eventTrigger(LEGEND_CLICK, eventArgs, function() {\r\n            !eventCanceled(eventArgs.event, eventArgs.target) && eventTrigger(elementClick, eventArgs)\r\n        })\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        var that = this;\r\n        var item = that._legend.getItemByCoord(x, y);\r\n        var series;\r\n        var legendHoverMode = correctLegendHoverMode(that._legend.getOptions().hoverMode);\r\n        if (item) {\r\n            series = that._storedSeries[item.id];\r\n            if (!series.isHovered() || series.lastHoverMode !== legendHoverMode) {\r\n                that._setHoveredSeries(series, legendHoverMode)\r\n            }\r\n            that._tooltip.isEnabled() && that._hideTooltip(that.pointAtShownTooltip)\r\n        } else {\r\n            that.clearHover()\r\n        }\r\n    },\r\n    _hoverArgument: function(argument, argumentIndex) {\r\n        var that = this;\r\n        var hoverMode = that._getArgumentHoverMode();\r\n        if ((0, _type.isDefined)(argument)) {\r\n            that._releaseHoveredPoint();\r\n            that._hoveredArgument = argument;\r\n            that._argumentIndex = argumentIndex;\r\n            that._notifySeries({\r\n                action: \"pointHover\",\r\n                notifyLegend: that._notifyLegendOnHoverArgument,\r\n                target: {\r\n                    argument: argument,\r\n                    fullState: HOVER_STATE,\r\n                    argumentIndex: argumentIndex,\r\n                    getOptions: function() {\r\n                        return {\r\n                            hoverMode: hoverMode\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _resetHoveredArgument: function() {\r\n        var that = this;\r\n        var hoverMode;\r\n        if ((0, _type.isDefined)(that._hoveredArgument)) {\r\n            hoverMode = that._getArgumentHoverMode();\r\n            that._notifySeries({\r\n                action: \"clearPointHover\",\r\n                notifyLegend: that._notifyLegendOnHoverArgument,\r\n                target: {\r\n                    fullState: NORMAL_STATE,\r\n                    argumentIndex: that._argumentIndex,\r\n                    argument: that._hoveredArgument,\r\n                    getOptions: function() {\r\n                        return {\r\n                            hoverMode: hoverMode\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            that._hoveredArgument = null\r\n        }\r\n    },\r\n    _notifySeries: function(data) {\r\n        this._storedSeries.forEach(function(series) {\r\n            series.notify(data)\r\n        })\r\n    },\r\n    _pointerHandler: function(e) {\r\n        var _series;\r\n        var that = e.data.tracker;\r\n        var rootOffset = that._renderer.getRootOffset();\r\n        var x = _floor(e.pageX - rootOffset.left);\r\n        var y = _floor(e.pageY - rootOffset.top);\r\n        var canvas = that._getCanvas(x, y);\r\n        var series = getData(e, SERIES_DATA);\r\n        var point = getData(e, POINT_DATA) || (null === (_series = series) || void 0 === _series ? void 0 : _series.getPointByCoord(x, y));\r\n        that._isHolding = false;\r\n        clearTimeout(that._holdTimer);\r\n        if (e.type === _pointer.default.down) {\r\n            that._holdTimer = setTimeout(function() {\r\n                return that._isHolding = true\r\n            }, HOLD_TIMEOUT)\r\n        }\r\n        if (point && !point.getMarkerVisibility()) {\r\n            point = void 0\r\n        }\r\n        that._enableOutHandler();\r\n        if (that._legend.coordsIn(x, y)) {\r\n            that._hoverLegendItem(x, y);\r\n            return\r\n        }\r\n        if (that.hoveredSeries && that.hoveredSeries !== that._stuckSeries) {\r\n            that._releaseHoveredSeries()\r\n        }\r\n        if (that._hoverArgumentAxis(x, y, e)) {\r\n            return\r\n        }\r\n        if (that._isPointerOut(canvas, point)) {\r\n            that._pointerOut()\r\n        }\r\n        if (!canvas && !point) {\r\n            return\r\n        }\r\n        if (series && !point) {\r\n            point = series.getNeighborPoint(x, y);\r\n            if (!that._stickyHovering && point && !point.coordsIn(x, y)) {\r\n                point = null\r\n            }\r\n            if (series !== that.hoveredSeries) {\r\n                that._setTimeout(function() {\r\n                    that._setHoveredSeries(series);\r\n                    that._setStuckSeries(e, series, x, y);\r\n                    that._pointerComplete(point, x, y)\r\n                }, series);\r\n                return\r\n            }\r\n        } else {\r\n            if (point) {\r\n                if (e.type !== _pointer.default.move && \"touch\" !== e.pointerType) {\r\n                    return\r\n                }\r\n                if (that.hoveredSeries) {\r\n                    that._setTimeout(function() {\r\n                        return that._pointerOnPoint(point, x, y, e)\r\n                    }, point)\r\n                } else {\r\n                    that._pointerOnPoint(point, x, y, e)\r\n                }\r\n                return\r\n            } else {\r\n                if (that._setStuckSeries(e, void 0, x, y) && that._stickyHovering) {\r\n                    var _point;\r\n                    series = that._stuckSeries;\r\n                    point = series.getNeighborPoint(x, y);\r\n                    that._releaseHoveredSeries();\r\n                    (null === (_point = point) || void 0 === _point ? void 0 : _point.getMarkerVisibility()) && that._setHoveredPoint(point)\r\n                } else {\r\n                    if (!that._stickyHovering) {\r\n                        that._pointerOut()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        that._pointerComplete(point, x, y)\r\n    },\r\n    _pointerOnPoint: function(point, x, y) {\r\n        this._resetHoveredArgument();\r\n        this._setHoveredPoint(point);\r\n        this._pointerComplete(point, x, y)\r\n    },\r\n    _pointerComplete: function(point) {\r\n        this.pointAtShownTooltip !== point && this._tooltip.isEnabled() && this._showTooltip(point)\r\n    },\r\n    _clickHandler: function(e) {\r\n        var _point2;\r\n        var that = e.data.tracker;\r\n        if (that._isHolding) {\r\n            return\r\n        }\r\n        var rootOffset = that._renderer.getRootOffset();\r\n        var x = _floor(e.pageX - rootOffset.left);\r\n        var y = _floor(e.pageY - rootOffset.top);\r\n        var point = getData(e, POINT_DATA);\r\n        var series = that._stuckSeries || getData(e, SERIES_DATA) || (null === (_point2 = point) || void 0 === _point2 ? void 0 : _point2.series);\r\n        var axis = that._argumentAxis;\r\n        if (that._legend.coordsIn(x, y)) {\r\n            var item = that._legend.getItemByCoord(x, y);\r\n            if (item) {\r\n                that._legendClick(item, e)\r\n            }\r\n        } else {\r\n            if (null === axis || void 0 === axis ? void 0 : axis.coordsIn(x, y)) {\r\n                var argument = getData(e, ARG_DATA, true);\r\n                if ((0, _type.isDefined)(argument)) {\r\n                    that._eventTrigger(\"argumentAxisClick\", {\r\n                        argument: argument,\r\n                        event: e\r\n                    })\r\n                }\r\n            } else {\r\n                if (series) {\r\n                    var _point3;\r\n                    point = point || series.getPointByCoord(x, y);\r\n                    if (null === (_point3 = point) || void 0 === _point3 ? void 0 : _point3.getMarkerVisibility()) {\r\n                        that._pointClick(point, e)\r\n                    } else {\r\n                        getData(e, SERIES_DATA) && that._eventTrigger(SERIES_CLICK, {\r\n                            target: series,\r\n                            event: e\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        that._disableOutHandler();\r\n        that._renderer.root.off(DOT_EVENT_NS);\r\n        that._seriesGroup.off(DOT_EVENT_NS)\r\n    }\r\n};\r\nvar ChartTracker = function(options) {\r\n    this.ctor(options)\r\n};\r\nexports.ChartTracker = ChartTracker;\r\n(0, _extend.extend)(ChartTracker.prototype, baseTrackerPrototype, {\r\n    _pointClick: function(point, event) {\r\n        var that = this;\r\n        var eventTrigger = that._eventTrigger;\r\n        var series = point.series;\r\n        eventTrigger(POINT_CLICK, {\r\n            target: point,\r\n            event: event\r\n        }, function() {\r\n            !eventCanceled(event, series) && eventTrigger(SERIES_CLICK, {\r\n                target: series,\r\n                event: event\r\n            })\r\n        })\r\n    },\r\n    update: function(options) {\r\n        var that = this;\r\n        baseTrackerPrototype.update.call(this, options);\r\n        that._argumentAxis = options.argumentAxis || {};\r\n        that._axisHoverEnabled = that._argumentAxis && (0, _utils.normalizeEnum)(that._argumentAxis.getOptions().hoverMode) === ALL_ARGUMENT_POINTS_MODE;\r\n        that._rotated = options.rotated;\r\n        that._crosshair = options.crosshair;\r\n        that._stickyHovering = options.stickyHovering\r\n    },\r\n    _getCanvas: function(x, y) {\r\n        var that = this;\r\n        var canvases = that._canvases || [];\r\n        for (var i = 0; i < canvases.length; i++) {\r\n            var c = canvases[i];\r\n            if ((0, _utils.pointInCanvas)(c, x, y)) {\r\n                return c\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    _isPointerOut: function(canvas) {\r\n        return !canvas && this._stuckSeries\r\n    },\r\n    _hideCrosshair: function() {\r\n        var _this$_crosshair;\r\n        null === (_this$_crosshair = this._crosshair) || void 0 === _this$_crosshair ? void 0 : _this$_crosshair.hide()\r\n    },\r\n    _moveCrosshair: function(point, x, y) {\r\n        if (this._crosshair && (null === point || void 0 === point ? void 0 : point.isVisible())) {\r\n            this._crosshair.show({\r\n                point: point,\r\n                x: x,\r\n                y: y\r\n            })\r\n        }\r\n    },\r\n    _clean: function() {\r\n        var that = this;\r\n        baseTrackerPrototype._clean.call(that);\r\n        that._resetTimer();\r\n        that._stuckSeries = null\r\n    },\r\n    _getSeriesForShared: function(x, y) {\r\n        var _point4;\r\n        var that = this;\r\n        var points = [];\r\n        var point = null;\r\n        var distance = 1 / 0;\r\n        if (that._tooltip.isShared() && !that.hoveredSeries) {\r\n            (0, _iterator.each)(that._storedSeries, function(_, series) {\r\n                var point = series.getNeighborPoint(x, y);\r\n                point && points.push(point)\r\n            });\r\n            (0, _iterator.each)(points, function(_, p) {\r\n                var coords = p.getCrosshairData(x, y);\r\n                var d = (0, _utils.getDistance)(x, y, coords.x, coords.y);\r\n                if (d < distance) {\r\n                    point = p;\r\n                    distance = d\r\n                }\r\n            })\r\n        }\r\n        return null === (_point4 = point) || void 0 === _point4 ? void 0 : _point4.series\r\n    },\r\n    _setTimeout: function(callback, keeper) {\r\n        var that = this;\r\n        if (that._timeoutKeeper !== keeper) {\r\n            that._resetTimer();\r\n            that._hoverTimeout = setTimeout(function() {\r\n                callback();\r\n                that._timeoutKeeper = null\r\n            }, DELAY);\r\n            that._timeoutKeeper = keeper\r\n        }\r\n    },\r\n    _resetTimer: function() {\r\n        clearTimeout(this._hoverTimeout);\r\n        this._timeoutKeeper = this._hoverTimeout = null\r\n    },\r\n    _stopEvent: function(e) {\r\n        if (!(0, _type.isDefined)(e.cancelable) || e.cancelable) {\r\n            e.preventDefault();\r\n            e.stopPropagation()\r\n        }\r\n    },\r\n    _setStuckSeries: function(e, series, x, y) {\r\n        if (\"mouse\" !== e.pointerType) {\r\n            this._stuckSeries = null\r\n        } else {\r\n            this._stuckSeries = series || this._stuckSeries || this._getSeriesForShared(x, y)\r\n        }\r\n        return !!this._stuckSeries\r\n    },\r\n    _pointerOut: function() {\r\n        var that = this;\r\n        that._stuckSeries = null;\r\n        that._hideCrosshair();\r\n        that._resetTimer();\r\n        baseTrackerPrototype._pointerOut.apply(that, arguments)\r\n    },\r\n    _hoverArgumentAxis: function(x, y, e) {\r\n        var that = this;\r\n        that._resetHoveredArgument();\r\n        if (that._axisHoverEnabled && that._argumentAxis.coordsIn(x, y)) {\r\n            that._hoverArgument(getData(e, ARG_DATA, true));\r\n            return true\r\n        }\r\n    },\r\n    _pointerComplete: function(point, x, y) {\r\n        var that = this;\r\n        that.hoveredSeries && that.hoveredSeries.updateHover(x, y);\r\n        that._resetTimer();\r\n        that._moveCrosshair(point, x, y);\r\n        baseTrackerPrototype._pointerComplete.call(that, point)\r\n    },\r\n    _legendClick: function(item, e) {\r\n        var series = this._storedSeries[item.id];\r\n        this._triggerLegendClick({\r\n            target: series,\r\n            event: e\r\n        }, SERIES_CLICK)\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        this._stuckSeries = null;\r\n        this._hideCrosshair();\r\n        baseTrackerPrototype._hoverLegendItem.call(this, x, y)\r\n    },\r\n    _pointerOnPoint: function(point, x, y, e) {\r\n        this._setStuckSeries(e, point.series, x, y);\r\n        this._releaseHoveredSeries();\r\n        baseTrackerPrototype._pointerOnPoint.call(this, point, x, y, e)\r\n    },\r\n    _notifyLegendOnHoverArgument: false,\r\n    _getArgumentHoverMode: function() {\r\n        return correctHoverMode(this._argumentAxis)\r\n    },\r\n    dispose: function() {\r\n        this._resetTimer();\r\n        baseTrackerPrototype.dispose.call(this)\r\n    }\r\n});\r\nvar PieTracker = function(options) {\r\n    this.ctor(options)\r\n};\r\nexports.PieTracker = PieTracker;\r\n(0, _extend.extend)(PieTracker.prototype, baseTrackerPrototype, {\r\n    _isPointerOut: function(_, point) {\r\n        return !point\r\n    },\r\n    _legendClick: function(item, e) {\r\n        var that = this;\r\n        var points = [];\r\n        that._storedSeries.forEach(function(s) {\r\n            return points.push.apply(points, s.getPointsByKeys(item.argument, item.argumentIndex))\r\n        });\r\n        that._eventTrigger(LEGEND_CLICK, {\r\n            target: item.argument,\r\n            points: points,\r\n            event: e\r\n        })\r\n    },\r\n    _pointClick: function(point, e) {\r\n        this._eventTrigger(POINT_CLICK, {\r\n            target: point,\r\n            event: e\r\n        })\r\n    },\r\n    _hoverLegendItem: function(x, y) {\r\n        var that = this;\r\n        var item = that._legend.getItemByCoord(x, y);\r\n        if (item && that._hoveredArgument !== item.argument) {\r\n            that._resetHoveredArgument();\r\n            that._hoverArgument(item.argument, item.argumentIndex)\r\n        } else {\r\n            if (!item) {\r\n                that.clearHover()\r\n            }\r\n        }\r\n    },\r\n    _getArgumentHoverMode: function() {\r\n        return correctHoverMode(this._legend)\r\n    },\r\n    _hoverArgumentAxis: _common.noop,\r\n    _setStuckSeries: _common.noop,\r\n    _getCanvas: _common.noop,\r\n    _notifyLegendOnHoverArgument: true\r\n});\r\n"]},"metadata":{},"sourceType":"script"}